import{x as L,r as _,T,q as D,w as M,c as n,o as d,b as a,u as o,Z as q,d as p,e as t,j as u,B as C,n as b,p as x,t as w,f as y,v as h,F as V,k as R}from"./app-_GVibA7-.js";import{_ as A}from"./AuthenticatedLayout-DzoQwoZm.js";import{_ as l}from"./InputError-BpHunFKp.js";import{_ as m}from"./InputLabel-Bn_O5sm6.js";import{_ as O}from"./PrimaryButton-wpX8kp6P.js";import{_ as S}from"./TextInput-BF6qa0vJ.js";import{s as z}from"./index-DYjFJtLP.js";import{s as P}from"./index-BrTRiLwH.js";import{s as $}from"./index-C0igkXi1.js";import{_ as G}from"./SecondaryLink-Dq7Qk_nc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-C0DzyoOT.js";import"./SecondaryButtonReturn-C8ohQmjF.js";import"./XCircleIcon-BIHB5Qlt.js";import"./index-B_Bqau7r.js";import"./index-Ch5pVm6r.js";import"./index-D5mGKgqt.js";import"./index-D9fSp_QL.js";import"./index-Ck3hViV0.js";import"./index-F0RzTKBG.js";import"./index-BkohI_Um.js";import"./index-6ey8j0xL.js";import"./index-BbJsVEBX.js";const H={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},I={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},Y={class:"text-right"},Z={class:"p-4 md:p-5"},J={class:"mb-2"},K={class:"mb-2"},Q={class:"col-span-2 mb-2"},W={key:0},X={class:"w-full flex flex-wrap gap-4 mb-2"},ee={class:"card flex justify-content-center"},se={class:"mb-2 flex flex-wrap gap-4"},oe={class:""},te={key:0,class:""},ae=["value"],re={class:"mb-2"},ie={class:"mb-2"},le={class:"mt-4 flex flex-col items-end"},Ue={__name:"Add",props:{eventos:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})}},setup(f){const k=L("$swal");_(null);const c=_(!1),e=T({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",dependencias:"",tipos:"",estado:"Pendiente",is_evento_padre:0,evento_padre:""}),F=[{url:route("eventos.index"),text:"Listado de eventos"},{url:"",text:"Nuevo evento"}],v=D(()=>{const s=e.descripcion.trim().length;return s>=300?c.value=!0:c.value=!1,s});M(v,()=>{e.descripcion=e.descripcion.trim()});const g=i=>{const s=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),N=String(i.getDate()).padStart(2,"0"),B=String(i.getHours()).padStart(2,"0"),U=String(i.getMinutes()).padStart(2,"0"),E=String(i.getSeconds()).padStart(2,"0");return`${s}-${r}-${N} ${B}:${U}:${E}`},j=()=>{e.fecha_inicio=g(new Date(e.fecha_inicio)),e.fecha_fin=g(new Date(e.fecha_fin)),e.tipos=e.tipos.join("|"),e.post(route("eventos.store"),{onSuccess:function(){k({title:"Registro Guardado",text:"El evento se ha almacenado exitosamente",icon:"success"})}})};return(i,s)=>(d(),n(V,null,[a(o(q),{title:"Agregar evento"}),a(A,{breadCrumbLinks:F},{header:p(()=>s[8]||(s[8]=[u(" Nuevo Evento ")])),default:p(()=>[t("div",H,[t("div",I,[s[10]||(s[10]=t("h3",{class:"mt-1 text-gray-500"},"Nuevo Evento",-1)),t("div",Y,[a(G,{href:i.route("eventos.index")},{default:p(()=>s[9]||(s[9]=[u(" Regresar ")])),_:1},8,["href"])])]),t("div",Z,[t("form",{onSubmit:C(j,["prevent"]),class:"grid sm:grid-cols-2 gap-4"},[t("div",J,[a(m,{for:"nombre",value:"Nombre del evento"}),a(S,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:o(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=r=>o(e).nombre=r),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),a(l,{class:"mt-2",message:o(e).errors.nombre},null,8,["message"])]),t("div",K,[a(m,{for:"dependencias",value:"dependencias del evento"}),a(S,{id:"dependencias",type:"text",class:"mt-1 block w-full",modelValue:o(e).dependencias,"onUpdate:modelValue":s[1]||(s[1]=r=>o(e).dependencias=r),required:"",autocomplete:"dependencias"},null,8,["modelValue"]),a(l,{class:"mt-2",message:o(e).errors.dependencias},null,8,["message"])]),t("div",Q,[s[11]||(s[11]=t("p",{class:"text-gray-600 text-sm"}," Información adicional sobre el evento (max 300 caracteres) ",-1)),a(o(P),{modelValue:o(e).descripcion,"onUpdate:modelValue":s[2]||(s[2]=r=>o(e).descripcion=r),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"]),t("p",{class:b(["text-gray-500 text-sm mt-2",{"text-red-500":c.value}])},[u(w(v.value)+" caracteres ",1),c.value?(d(),n("span",W,"Limite de caracteres superado")):x("",!0)],2),a(l,{class:"mt-2",message:o(e).errors.descripcion},null,8,["message"])]),t("div",X,[a(m,{for:"tipos",value:"Tipos de usuarios"}),t("div",ee,[a(o(z),{id:"tipos",modelValue:o(e).tipos,"onUpdate:modelValue":s[3]||(s[3]=r=>o(e).tipos=r),display:"chip",options:Object.values(f.tipos),placeholder:"Seleccione los tipos",maxSelectedLabels:6,class:"w-full"},null,8,["modelValue","options"])]),a(l,{class:"mt-2",message:o(e).errors.tipos},null,8,["message"])]),t("div",se,[t("div",oe,[a(m,{for:"is_evento_padre",value:"¿Es evento padre?"}),y(t("select",{id:"is_evento_padre","onUpdate:modelValue":s[4]||(s[4]=r=>o(e).is_evento_padre=r),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},s[12]||(s[12]=[t("option",{value:"0"},"No",-1),t("option",{value:"1"},"Sí",-1)]),512),[[h,o(e).is_evento_padre]]),a(l,{class:"mt-2",message:o(e).errors.is_evento_padre},null,8,["message"])]),o(e).is_evento_padre==0?(d(),n("div",te,[a(m,{for:"evento_padre",value:"Asignar a evento padre"}),y(t("select",{id:"evento_padre","onUpdate:modelValue":s[5]||(s[5]=r=>o(e).evento_padre=r),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[s[13]||(s[13]=t("option",{value:""},"-- Seleccione un evento padre --",-1)),(d(!0),n(V,null,R(f.eventos,r=>(d(),n("option",{key:r.id,value:r.id},w(r.nombre),9,ae))),128))],512),[[h,o(e).evento_padre]]),a(l,{class:"mt-2",message:o(e).errors.evento_padre},null,8,["message"])])):x("",!0)]),t("div",re,[a(o($),{modelValue:o(e).fecha_inicio,"onUpdate:modelValue":s[6]||(s[6]=r=>o(e).fecha_inicio=r),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),a(l,{class:"mt-2",message:o(e).errors.fecha_inicio},null,8,["message"])]),t("div",ie,[a(o($),{modelValue:o(e).fecha_fin,"onUpdate:modelValue":s[7]||(s[7]=r=>o(e).fecha_fin=r),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha fin",class:"my-4 flex justify-center"},null,8,["modelValue"]),a(l,{class:"mt-2",message:o(e).errors.fecha_fin},null,8,["message"])]),t("div",null,[t("div",le,[a(O,{class:b({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:p(()=>s[14]||(s[14]=[u(" Registrar Evento ")])),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{Ue as default};
