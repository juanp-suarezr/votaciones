import{k as v,T as k,r as d,a as i,b as n,d as b,f as t,u as y,Z as C,e as V,j as m,t as r,F as x,h as N}from"./app-kQ5zOwIQ.js";import{_ as j}from"./SecondaryButtonReturn-ta12XasJ.js";import{C as B,A as S,B as A,a as E,L,p as T,b as z,c as P,s as R}from"./chartjs-plugin-datalabels.esm-7KWoKgTq.js";import"./index-CmgqkvCq.js";const D={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},F={class:"w-full flex justify-between sm:px-16 px-4"},O={class:"w-full flex justify-center my-auto sm:px-16 px-4"},Z={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},$={class:"mt-2 text-base"},G={class:"flex gap-2 mt-2"},q={class:"flex gap-2 mt-2"},H={class:"sm:grid sm:grid-cols-2 sm:gap-4 mt-6"},I={class:"w-full mt-6"},J={class:"w-full h-full sm:h-72 mt-4"},K={class:"w-full mb-4"},M={key:0,class:"flex flex-col overflow-x-auto mt-6"},Q={class:"inline-block rounded-lg shadow"},U={class:"inline-block min-w-full py-2"},W={class:"overflow-x-auto"},X={class:"min-w-full whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},tt={class:"text-gray-900 whitespace-no-wrap"},st={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},ot={class:"text-gray-700"},at={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},lt={class:"text-gray-900 whitespace-no-wrap"},rt={class:"text-gray-700"},it={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},nt={class:"text-gray-900 whitespace-no-wrap"},dt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},mt={__name:"VotacionProyectos",props:{proyectos:{type:Object,default:()=>[]},votos_nulos:{type:Number,default:()=>[]},votos_no_marcados:{type:Number,default:()=>[]},comuna:{type:String,default:()=>""},subtipo:{type:Number,default:()=>""},id_evento:{type:Number,default:()=>""},total_votos_virtuales:{type:Number,default:()=>[]},total_votos_fisicos:{type:Number,default:()=>""}},setup(a){B.register(S,A,E,L,T,z,P),v("$swal");const o=a;console.log(o);const c=k({id_evento:o.id_evento,subtipo:"",comuna:""}),g=["#C20E1A","#004884","#E20613","#003070","#585857"];let p=o.proyectos.map(e=>e.nombre??"Sin nombre"),u=o.proyectos.map(e=>e.total??0);p.add("Votos nulos"),p.add("Votos no marcados"),u.push(o.votos_nulos),u.push(o.votos_no_marcados);function f(e){const s=[];for(let l=0;l<e;l++)s.push(g[l%g.length]);return s}d({labels:o.proyectos.map(e=>e.nombre),datasets:[{data:o.proyectos.map(e=>e.total),backgroundColor:f(o.proyectos.length)}]}),d({plugins:{legend:{display:!0,position:"bottom",labels:{color:"#333",font:{size:14}}},datalabels:{color:"white",formatter:e=>e,font:{weight:"bold",size:16}}}});const h=d({labels:p,datasets:[{label:"Total de votos",data:u,backgroundColor:f(o.proyectos.length)}]}),_=d({indexAxis:"x",plugins:{legend:{display:!1},datalabels:{color:"white",formatter:e=>e,font:{weight:"bold",size:16}}},scales:{x:{beginAtZero:!0,ticks:{color:"#333"}},y:{ticks:{color:"#333"}}}}),w=()=>{c.subtipo=o.subtipo,c.comuna=o.comuna,c.get(route("resultado-generales"),{preserveState:!0})};return(e,s)=>(n(),i(x,null,[b(y(C),{title:"Votaciones por comuna - proyectos"}),t("div",D,[t("div",F,[s[1]||(s[1]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),b(j,{class:"h-full flex inline-flex mt-8 !text-base"},{default:V(()=>s[0]||(s[0]=[m(" Regresar ")])),_:1})]),t("div",O,[t("div",Z,[s[8]||(s[8]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",$,"Comuna/corregimiento -- "+r(a.comuna),1),t("p",G,[s[2]||(s[2]=t("b",null,"Total registrados habilitados para votar virtualmente o tics: ",-1)),m(" "+r(a.total_votos_virtuales),1)]),t("p",q,[s[3]||(s[3]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),m(" "+r(a.total_votos_fisicos),1)]),t("div",H,[t("div",I,[t("div",J,[b(y(R),{type:"bar",data:h.value,options:_.value,class:"h-full w-full mt-4"},null,8,["data","options"])])]),t("div",K,[a.proyectos.length>0?(n(),i("div",M,[t("div",Q,[t("div",U,[t("div",W,[t("table",X,[s[6]||(s[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyectos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos ")])],-1)),t("tbody",null,[(n(!0),i(x,null,N(a.proyectos,l=>(n(),i("tr",{key:l.id,class:"text-gray-700"},[t("td",Y,[t("p",tt,r(l.nombre),1)]),t("td",st,[t("p",et,r(l.total),1)])]))),128)),t("tr",ot,[s[4]||(s[4]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos nulos ")],-1)),t("td",at,[t("p",lt,r(a.votos_nulos),1)])]),t("tr",rt,[s[5]||(s[5]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos no marcados ")],-1)),t("td",it,[t("p",nt,r(a.votos_no_marcados),1)])])])])])])])])):(n(),i("div",dt,s[7]||(s[7]=[t("em",null," No hay datos con votaciones realizadas ",-1)])))])])])]),t("div",{class:"w-full flex justify-end text-right sm:px-16 px-4 mb-6"},[t("button",{class:"border-2 border-gray-200 bg-white shadow-md rounded-full hover:!bg-gray-200 p-4 mt-4",onClick:w}," Resultados Generales ")])])],64))}};export{mt as default};
