import{r as v,c as j,o as I,b as o,u as a,Z as U,d as s,e as l,i as g,j as i,t as r,n as B,F as C,N as E}from"./app-CThyjaQm.js";import{_ as L}from"./AuthenticatedLayout-FxU5SXgV.js";import{_ as y}from"./TextInput-2-C7nYPh.js";import{_ as O}from"./PrimaryButton-tGXbdx3E.js";import{_ as $}from"./SecondaryButton-C4oZgvH4.js";import{_ as z}from"./Pagination-FRSBdNC6.js";import{s as D,a as d}from"./index-B8ba1i4-.js";import{s as w}from"./index-DqKiIWTv.js";import"./es-N4dD783U.js";import{_ as F}from"./SecondaryLink-Bzxd0kha.js";import{c as N}from"./comunas-DceGOULS.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as H}from"./EyeIcon-Ci3D79WI.js";import"./BreadCrumb-BKT6cv0e.js";import"./SecondaryButtonReturn-DYp1qsXY.js";import"./XCircleIcon-011l_9e7.js";import"./index-D36g2pLM.js";import"./index-ClACUhy6.js";import"./index-DKUHWe-a.js";import"./index-C-gwhtFS.js";import"./index-B5Jey47x.js";import"./index-s2QGO6G-.js";import"./index-IffpQcdJ.js";import"./index-DXYkshem.js";import"./index-DcyQ-ZK0.js";import"./index-68QcA-UZ.js";const G={class:"p-4"},T={class:"bg-white shadow-md rounded-lg p-4 mb-4"},Z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},q={class:"mt-4 flex justify-end"},J={class:"bg-white shadow-md rounded-lg p-4"},K={class:"flex justify-between items-center"},M={class:"flex gap-2"},Q={__name:"Historial",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(_){const p=_;console.log(p.votantes);let n=v(p.filters.identificacion||""),m=v(p.filters.nombre||""),u=v(p.filters.subtipo||""),f=v(p.filters.estado||"");const k=[{label:"Activo",value:"Activo"},{label:"Rechazado",value:"Rechazado"}],h=()=>{E.get("/historial_registros",{identificacion:n.value,nombre:m.value,subtipo:u.value,estado:f.value},{preserveState:!0,replace:!0})},A=()=>{n.value="",m.value="",u.value="",f.value="",h()},S=b=>{var t;return console.log(b),(t=N.find(e=>e.value==b))==null?void 0:t.label};return(b,t)=>(I(),j(C,null,[o(a(U),{title:"Usuarios registrados o validados"}),o(L,null,{header:s(()=>t[4]||(t[4]=[l("div",{class:"flex justify-between items-center"},[l("h1",{class:"text-2xl font-bold"},"Gestión de registros validados")],-1)])),default:s(()=>[l("div",G,[l("div",T,[l("div",Z,[o(y,{id:"identificacion",modelValue:a(n),"onUpdate:modelValue":t[0]||(t[0]=e=>g(n)?n.value=e:n=e),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),o(y,{id:"nombre",modelValue:a(m),"onUpdate:modelValue":t[1]||(t[1]=e=>g(m)?m.value=e:m=e),placeholder:"Nombre o ID",class:"w-full"},null,8,["modelValue"]),o(a(w),{id:"comuna",modelValue:a(u),"onUpdate:modelValue":t[2]||(t[2]=e=>g(u)?u.value=e:u=e),options:a(N),filter:"",optionLabel:"label",placeholder:"Seleccione comuna/corregimiento",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),o(a(w),{id:"estado",modelValue:a(f),"onUpdate:modelValue":t[3]||(t[3]=e=>g(f)?f.value=e:f=e),options:k,filter:"",optionLabel:"label",placeholder:"Seleccione estado",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue"])]),l("div",q,[o(O,{onClick:h},{default:s(()=>t[5]||(t[5]=[i("Buscar")])),_:1}),o($,{onClick:A},{default:s(()=>t[6]||(t[6]=[i("Limpiar Filtros")])),_:1})])]),l("div",J,[o(a(D),{value:_.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:s(()=>[l("div",K,[t[7]||(t[7]=l("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),o(z,{links:_.votantes.links},null,8,["links"])])]),default:s(()=>[o(a(d),{header:"ID"},{body:s(e=>[i(r(e.data.id||"N/A"),1)]),_:1}),o(a(d),{header:"Propietario"},{body:s(e=>{var c,V,x;return[l("p",null,[t[8]||(t[8]=l("b",null,"Nombre:",-1)),i(" "+r(((c=e.data.votante)==null?void 0:c.nombre)||"Sin información")+" ",1),t[9]||(t[9]=l("br",null,null,-1)),l("b",null,r((V=e.data.votante)==null?void 0:V.tipo_documento)+":",1),i(" "+r(((x=e.data.votante)==null?void 0:x.identificacion)||"N/A")+" ",1),t[10]||(t[10]=l("br",null,null,-1))])]}),_:1}),o(a(d),{header:"Sector"},{body:s(e=>{var c;return[i(r(S(e.data.subtipo)||"N/A")+" ",1),t[11]||(t[11]=l("br",null,null,-1)),i(" "+r(((c=e.data.votante)==null?void 0:c.barrio)||"N/A"),1)]}),_:1}),o(a(d),{header:"Evento"},{body:s(e=>[i(r(e.data.evento.nombre||"N/A"),1)]),_:1}),o(a(d),{header:"Estado"},{body:s(e=>[l("span",{class:B(["p-2 rounded-md",[e.data.estado==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},r(e.data.estado),3)]),_:1}),o(a(d),{header:"# Intentos"},{body:s(e=>[i(r(e.data.intentos),1)]),_:1}),o(a(d),{header:"Acciones"},{body:s(e=>[l("div",M,[o(F,{href:b.route("historial_registros.show",e.data.id),class:"flex items-center"},{default:s(()=>[o(a(H),{class:"h-5 w-5"})]),_:2},1032,["href"])])]),_:1})]),_:1},8,["value"])])])]),_:1})],64))}},ye=R(Q,[["__scopeId","data-v-ff02fdfb"]]);export{ye as default};
