import{x,T as v,q as w,w as y,c as f,o as p,b as o,u as a,Z as k,d as m,e,B as V,f as u,h as b,p as F,v as N,n as R,j as g,t as l,F as q}from"./app-Drp0SsY3.js";import{_ as B}from"./AuthenticatedLayout-Bx2ikG3P.js";import{_ as L}from"./TextInput-BwN_pGa0.js";import{_ as d}from"./InputError-CXRjAxWy.js";import{_ as A}from"./PrimaryButton-CE61OQYU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-nfExjowM.js";import"./SecondaryButtonReturn-BqfRV0DT.js";import"./XCircleIcon-DMIrCKjX.js";import"./index-DnYNP0xN.js";import"./index-CocZ6qIW.js";import"./index-CLGko1bJ.js";const E={class:"w-full grid md:grid-cols-3 gap-4"},$={class:"md:col-span-2 p-4 bg-white rounded-md shadow-md h-full"},z={class:"mb-4"},C={class:"mb-4"},S={class:"mb-4"},U=["min"],M={key:0,class:"text-red-500 text-sm mt-2"},T={class:"mb-4"},j={class:"mt-4 flex flex-col items-end"},D={class:"md:col-span-1 flex flex-col items-center h-full p-5 bg-white shadow-sm rounded-md"},I={class:"p-4 md:p-5 w-full border border-gray rounded-md shadow-sm"},G={class:"mb-6"},O={class:""},P={class:"mb-8"},Z={class:"mb-8"},re={__name:"Add",setup(H){const n=x("$swal"),t=v({ruta:"",fecha_inicio:"",fecha_fin:"",estado:"1"}),_=[{url:"/rutas",text:"Listado de rutas"},{url:"",text:"Nueva ruta"}],r=w(()=>t.fecha_inicio&&t.fecha_fin&&t.fecha_fin<t.fecha_inicio);y(()=>t.fecha_inicio,c=>{t.fecha_fin&&t.fecha_fin<c&&(t.fecha_fin="")});const h=()=>{if(r.value){n({title:"Fechas inválidas",text:"La fecha fin no puede ser menor a la fecha inicio.",icon:"warning"});return}t.post(route("rutas.store"),{onSuccess:()=>n({title:"Registro Guardado",text:"La ruta se ha registrado exitosamente",icon:"success"}).then(()=>{window.location=route("rutas.index")}),onError:()=>{n({title:"Error",text:"Ocurrió un error al registrar la ruta.",icon:"error"})}})};return(c,s)=>(p(),f(q,null,[o(a(k),{title:"Agregar ruta"}),o(B,{breadCrumbLinks:_},{header:m(()=>s[4]||(s[4]=[g(" Nueva Ruta ")])),default:m(()=>[e("div",E,[e("div",$,[s[11]||(s[11]=e("h2",{class:"text-lg font-bold mb-4"},"Agregar Nueva Ruta",-1)),e("form",{onSubmit:V(h,["prevent"]),class:"sm:grid sm:grid-cols-2 gap-4"},[e("div",z,[s[5]||(s[5]=e("label",{for:"ruta",class:"block text-sm font-medium text-gray-700 mb-2"},"Ruta o Path",-1)),o(L,{id:"ruta",type:"text",class:"mt-1 block w-full",modelValue:a(t).ruta,"onUpdate:modelValue":s[0]||(s[0]=i=>a(t).ruta=i),required:"",autofocus:"",autocomplete:"ruta"},null,8,["modelValue"]),o(d,{class:"mt-2",message:a(t).errors.ruta},null,8,["message"])]),e("div",C,[s[6]||(s[6]=e("label",{for:"fecha_inicio",class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha inicio",-1)),u(e("input",{id:"fecha_inicio",type:"date",class:"mt-1 block w-full border border-gray-300 rounded-lg p-2","onUpdate:modelValue":s[1]||(s[1]=i=>a(t).fecha_inicio=i),required:""},null,512),[[b,a(t).fecha_inicio]]),o(d,{class:"mt-2",message:a(t).errors.fecha_inicio},null,8,["message"])]),e("div",S,[s[7]||(s[7]=e("label",{for:"fecha_fin",class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha fin",-1)),u(e("input",{id:"fecha_fin",type:"date",class:"mt-1 block w-full border border-gray-300 rounded-lg p-2","onUpdate:modelValue":s[2]||(s[2]=i=>a(t).fecha_fin=i),min:a(t).fecha_inicio,required:""},null,8,U),[[b,a(t).fecha_fin]]),o(d,{class:"mt-2",message:a(t).errors.fecha_fin},null,8,["message"]),r.value?(p(),f("p",M," La fecha fin no puede ser menor a la fecha inicio. ")):F("",!0)]),e("div",T,[s[9]||(s[9]=e("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),u(e("select",{id:"estado","onUpdate:modelValue":s[3]||(s[3]=i=>a(t).estado=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"},s[8]||(s[8]=[e("option",{value:"1"},"Activo",-1),e("option",{value:"0"},"Bloqueado",-1)]),512),[[N,a(t).estado]]),o(d,{class:"mt-2",message:a(t).errors.estado},null,8,["message"])]),e("div",j,[o(A,{class:R({"opacity-25":a(t).processing||r.value}),disabled:a(t).processing||r.value},{default:m(()=>s[10]||(s[10]=[g(" Registrar Ruta ")])),_:1},8,["class","disabled"])])],32)]),e("div",D,[e("div",I,[e("div",G,[s[12]||(s[12]=e("h3",{class:"pb-4"},[e("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Ruta ")],-1)),e("p",O,l(a(t).ruta),1)]),e("div",P,[s[13]||(s[13]=e("h3",{class:"mb-3"},[e("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Fechas ")],-1)),e("p",null,"Inicio: "+l(a(t).fecha_inicio),1),e("p",null,"Fin: "+l(a(t).fecha_fin),1)]),e("div",Z,[s[14]||(s[14]=e("h3",{class:"mb-3"},[e("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Estado ")],-1)),e("p",null,l(a(t).estado==="1"?"Activo":"Bloqueado"),1)])])])])]),_:1})],64))}};export{re as default};
