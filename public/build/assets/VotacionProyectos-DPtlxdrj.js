import{k as v,r as c,a as i,b as n,d,f as t,u as p,Z as k,e as C,j as b,t as r,F as m,h as V}from"./app-E0nuZuVM.js";import{_ as j}from"./SecondaryButtonReturn-tE_ceJzn.js";import{C as N,A as B,B as A,a as E,L,p as S,b as z,c as T,s as y}from"./chartjs-plugin-datalabels.esm-Dy33sG3h.js";import"./index-DK4HNxlR.js";const D={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},O={class:"w-full flex justify-between sm:px-16 px-4"},P={class:"w-full flex justify-center my-auto sm:px-16 px-4"},F={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},R={class:"mt-2 text-base"},Z={class:"flex gap-2 mt-2"},$={class:"flex gap-2 mt-2"},q={class:"md:grid md:grid-cols-5 gap-8 mt-6"},G={class:"w-full items-center mb-4 md:col-span-2"},H={class:"w-full mb-4 md:col-span-3"},I={class:"w-full mb-4"},J={key:0,class:"flex flex-col overflow-x-auto mt-6"},K={class:"inline-block rounded-lg shadow"},M={class:"inline-block min-w-full py-2"},Q={class:"overflow-x-auto"},U={class:"min-w-full whitespace-no-wrap"},W={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},X={class:"text-gray-900 whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},tt={class:"text-gray-900 whitespace-no-wrap"},st={class:"text-gray-700"},ot={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},at={class:"text-gray-700"},lt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},rt={class:"text-gray-900 whitespace-no-wrap"},it={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},bt={__name:"VotacionProyectos",props:{proyectos:{type:Object,default:()=>[]},votos_nulos:{type:Number,default:()=>[]},votos_no_marcados:{type:Number,default:()=>[]},comuna:{type:String,default:()=>""},total_votos_virtuales:{type:Number,default:()=>[]},total_votos_fisicos:{type:Number,default:()=>""}},setup(e){N.register(B,A,E,L,S,z,T),v("$swal");const a=e;console.log(a);const u=["#C20E1A","#004884","#E20613","#003070","#585857"],f=a.proyectos.map(o=>o.nombre??"Sin nombre");function g(o){const s=[];for(let l=0;l<o;l++)s.push(u[l%u.length]);return s}const x=c({labels:a.proyectos.map(o=>o.nombre),datasets:[{data:a.proyectos.map(o=>o.total),backgroundColor:g(a.proyectos.length)}]}),h=c({plugins:{legend:{display:!0,position:"bottom",labels:{color:"#333",font:{size:14}}},datalabels:{color:"white",formatter:o=>o,font:{weight:"bold",size:16}}}}),w=c({labels:f,datasets:[{label:"Total de votos",data:a.proyectos.map(o=>o.total),backgroundColor:g(a.proyectos.length)}]}),_=c({indexAxis:"x",plugins:{legend:{display:!1},datalabels:{color:"white",formatter:o=>o,font:{weight:"bold",size:16}}},scales:{x:{beginAtZero:!0,ticks:{color:"#333"}},y:{ticks:{color:"#333"}}}});return(o,s)=>(n(),i(m,null,[d(p(k),{title:"Votaciones por comuna - proyectos"}),t("div",D,[t("div",O,[s[1]||(s[1]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),d(j,{class:"h-full flex inline-flex mt-8 !text-base"},{default:C(()=>s[0]||(s[0]=[b(" Regresar ")])),_:1})]),t("div",P,[t("div",F,[s[8]||(s[8]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",R,"Comuna/corregimiento -- "+r(e.comuna),1),t("p",Z,[s[2]||(s[2]=t("b",null,"Total registrados habilitados para votar virtualmente o tics: ",-1)),b(" "+r(e.total_votos_virtuales),1)]),t("p",$,[s[3]||(s[3]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),b(" "+r(e.total_votos_fisicos),1)]),t("div",q,[t("div",G,[d(p(y),{type:"doughnut",data:x.value,options:h.value,class:"h-full w-full mt-4"},null,8,["data","options"])]),t("div",H,[d(p(y),{type:"bar",data:w.value,options:_.value,class:"h-full w-full mt-4"},null,8,["data","options"])])]),t("div",I,[e.proyectos.length>0?(n(),i("div",J,[t("div",K,[t("div",M,[t("div",Q,[t("table",U,[s[6]||(s[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyectos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos ")])],-1)),t("tbody",null,[(n(!0),i(m,null,V(e.proyectos,l=>(n(),i("tr",{key:l.id,class:"text-gray-700"},[t("td",W,[t("p",X,r(l.nombre),1)]),t("td",Y,[t("p",tt,r(l.total),1)])]))),128)),t("tr",st,[s[4]||(s[4]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos nulos ")],-1)),t("td",ot,[t("p",et,r(e.votos_nulos),1)])]),t("tr",at,[s[5]||(s[5]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos no marcados ")],-1)),t("td",lt,[t("p",rt,r(e.votos_no_marcados),1)])])])])])])])])):(n(),i("div",it,s[7]||(s[7]=[t("em",null," No hay datos con votaciones realizadas ",-1)])))])])])])],64))}};export{bt as default};
