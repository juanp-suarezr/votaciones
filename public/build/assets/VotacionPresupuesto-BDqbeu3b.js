import{x as _,c as a,o as d,b as c,e as t,u as f,Z as p,d as y,j as m,t as e,F as x,k as b,p as v}from"./app-BsuMdwTo.js";import{_ as h}from"./SecondaryButtonReturn-B4y_j3nI.js";const w={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},k={class:"w-full flex flex-wrap justify-between sm:px-16 px-4"},V={class:"w-full flex flex-col justify-center my-auto sm:px-16 px-4"},j={class:"w-full border border-gray-200 bg-white shadow-md rounded-b-lg p-4"},C={class:"font-bold mt-2 text-2xl"},F={class:"mt-2 text-base"},P={class:"mt-8 w-full sm:grid sm:grid-cols-2 gap-12 w-full px-4"},T={class:"text-xl font-bold mb-2 text-primary"},E={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4"},N={class:"bg-gray-100 rounded-md hover:scale-105 hover:bg-gray-200 shadow-md p-3 text-center"},I={class:"font-bold text-lg text-green-600 font-bold"},L={class:"bg-gray-100 rounded-md hover:scale-105 hover:bg-gray-200 shadow-md p-3 text-center"},O={class:"font-bold text-lg text-red-600"},R={class:"font-bold text-lg text-red-600"},S={class:"bg-gray-100 rounded-md hover:scale-105 hover:bg-gray-200 shadow-md p-3 text-center"},B={class:"font-bold text-lg text-yellow-600"},A={class:"font-bold text-lg text-yellow-600"},U={class:"bg-gray-100 rounded-md hover:scale-105 hover:bg-gray-200 shadow-md p-3 text-center"},$={class:"font-bold text-lg text-blue-600"},D={class:"font-bold text-lg text-blue-600"},Z={class:"overflow-x-auto mt-4"},q={class:"w-full divide-y divide-gray-200 rounded-lg overflow-hidden shadow-md"},z={class:"p-2 text-base sm:text-xl font-medium text-gray-900 flex items-center gap-2"},G={key:0,class:"text-yellow-500"},H={class:"p-2 text-center text-base sm:text-xl font-bold text-primary"},J={class:"p-2 text-center text-base sm:text-xl font-bold text-primary"},K={class:"bg-gray-200 hover:bg-gray-200/60 shadow"},M={class:"p-2 text-center text-base sm:text-xl font-bold text-primary"},X={__name:"VotacionPresupuesto",props:{comuna:{type:String,default:()=>""},resultados_eventos:{type:Object,default:()=>""},es_preliminar:{type:Boolean,default:()=>null}},setup(n){_("$swal");const i=n;console.log(i);const g=l=>{if(typeof l!="string")return"";const o=l.toLowerCase().lastIndexOf("vigencia");return console.log(l.toLowerCase()),o===-1?l:l.slice(o).trim()};return(l,s)=>(d(),a(x,null,[c(f(p),{title:"Votaciones por vigencia - proyectos"}),t("div",w,[t("div",k,[s[1]||(s[1]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/voto_electronico.png",alt:"Logo",class:"h-24 w-auto"})],-1)),c(h,{class:"h-full flex inline-flex mt-8 !text-base"},{default:y(()=>s[0]||(s[0]=[m(" Regresar ")])),_:1})]),t("div",V,[s[14]||(s[14]=t("h2",{class:"text-white bg-secondary p-4 rounded-t-lg font-bold flex justify-center sm:text-2xl text-xl"}," ELECCIONES PRESUPUESTO PARTICIPATIVO ",-1)),t("div",j,[t("h2",C,"Resultados de VotaciÃ³n "+e(n.es_preliminar?"Preliminar":"Final"),1),t("p",F,e(n.comuna),1),t("div",P,[(d(!0),a(x,null,b(i.resultados_eventos,o=>(d(),a("div",{key:o.evento_id,class:"w-auto mb-4"},[t("h3",T,e(g(o.evento_nombre)),1),t("div",E,[t("div",N,[s[2]||(s[2]=t("span",{class:"block text-base sm:text-xl text-gray-500 font-bold"},"Total votos",-1)),t("span",I,e(o.total_votos),1),s[3]||(s[3]=t("br",null,null,-1)),s[4]||(s[4]=t("span",{class:"font-bold text-lg text-green-600 font-bold"}," 100% ",-1))]),t("div",L,[s[5]||(s[5]=t("span",{class:"block text-base sm:text-xl text-gray-500"},"Votos nulos",-1)),t("span",O,e(o.votos_nulos),1),s[6]||(s[6]=t("br",null,null,-1)),t("span",R,e((o.votos_nulos/o.total_votos*100).toFixed(2))+"% ",1)]),t("div",S,[s[7]||(s[7]=t("span",{class:"block text-base sm:text-xl text-gray-500"},"Votos no marcados",-1)),t("span",B,e(o.votos_no_marcados),1),s[8]||(s[8]=t("br",null,null,-1)),t("span",A,e((o.votos_no_marcados/o.total_votos*100).toFixed(2))+"% ",1)]),t("div",U,[s[9]||(s[9]=t("span",{class:"block text-base sm:text-xl text-gray-500"},"Votos validos",-1)),t("span",$,e(o.total_votos-(o.votos_nulos+o.votos_no_marcados)),1),s[10]||(s[10]=t("br",null,null,-1)),t("span",D,e(((o.total_votos-(o.votos_nulos+o.votos_no_marcados))/o.total_votos*100).toFixed(2))+"% ",1)])]),t("div",Z,[t("table",q,[s[13]||(s[13]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2 text-left text-base sm:text-xl font-bold text-gray-700"}," Proyecto "),t("th",{class:"p-2 text-center text-base sm:text-xl font-bold text-gray-700"}," Total votos "),t("th",{class:"p-2 text-center text-base sm:text-xl font-bold text-gray-700"}," % ")])],-1)),t("tbody",null,[(d(!0),a(x,null,b(o.resultados,(r,u)=>(d(),a("tr",{key:r.id_proyecto,class:"bg-white hover:bg-gray-100 shadow"},[t("td",z,[u===0?(d(),a("span",G,"ðŸ¥‡")):v("",!0),m(" "+e(r.nombre),1)]),t("td",H,e(r.total),1),t("td",J,e(r.total==0?0:(r.total/(o.total_votos-(o.votos_nulos+o.votos_no_marcados))*100).toFixed(2))+"% ",1)]))),128)),t("tr",K,[s[11]||(s[11]=t("td",{class:"p-2 text-base sm:text-xl font-medium text-gray-900"}," Total votos validos ",-1)),t("td",M,e(o.total_votos-(o.votos_nulos+o.votos_no_marcados)),1),s[12]||(s[12]=t("td",{class:"p-2 text-center text-base sm:text-xl font-bold text-primary"}," 100% ",-1))])])])])]))),128))])])])])],64))}};export{X as default};
