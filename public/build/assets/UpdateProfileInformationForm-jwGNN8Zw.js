import{x as j,T as A,o as i,c as r,d as a,a as o,u as e,m as p,h as f,v,F as _,i as h,b as g,w as V,n as S,I as q,l as N,t as k}from"./app-OavqxY79.js";import{a as b,b as u,_ as d}from"./TextInput-mVqN8x78.js";import{_ as O}from"./PrimaryButton-OLOdwZhU.js";import{b as B}from"./multiselect.esm-74Pm_v9a.js";import"./index.esm-j_nmKCLj.js";import"./ripple.esm-ga1CiBTf.js";import"./basecomponent.esm-y5MBp1tT.js";import"./portal.esm-PGt8fdpl.js";const R=a("header",null,[a("h2",{class:"text-lg font-medium text-gray-900"},"Información usuario"),a("p",{class:"mt-1 text-sm text-gray-600"}," Actualice la información del usuario y la dirección de Usuario. ")],-1),$={key:0},z={class:"sm:flex gap-4"},E={key:0},I=a("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione tipo votante",-1),T=["value"],C={key:1,class:"text-xs text-gray-600"},F=["href"],D={class:"card flex justify-content-center"},L=a("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione evento a asignar",-1),M=["value"],G={key:1,class:"text-xs text-gray-600"},P=["href"],H=a("option",{value:"Activo"},"Activo",-1),J=a("option",{value:"Bloqueado"},"Bloqueado",-1),K=[H,J],Q={class:"flex items-center gap-4"},W={key:0,class:"text-sm text-gray-600"},le={__name:"UpdateProfileInformationForm",props:{user:{type:Object,default:()=>({})},roles:{type:Object,default:()=>({})},userRoles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})}},setup(c){const w=j("$swal"),y=c,m=Object.values(y.userRoles),n=y.user,U=()=>{t.patch(route("users.update",n.id),{onSuccess:()=>w({title:"Registro Actualizado",text:"El usuario se ha actualizado exitosamente",icon:"success"})})},t=A({name:n.name,email:n.email,identificacion:n.votantes?n.votantes.identificacion:"",tipo:n.votantes?n.votantes.tipo:"",estado:n.estado,roles_user:m,eventos:n.votantes?n.votantes.id_eventos:""});return(x,l)=>(i(),r("section",null,[R,a("form",{onSubmit:N(U,["prevent"]),class:"mt-6 space-y-6"},[a("div",null,[o(d,{for:"name",value:"Nombre"}),o(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(t).name,"onUpdate:modelValue":l[0]||(l[0]=s=>e(t).name=s),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(u,{class:"mt-2",message:e(t).errors.name},null,8,["message"])]),a("div",null,[o(d,{for:"email",value:"Usuario"}),o(b,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:e(t).email,"onUpdate:modelValue":l[1]||(l[1]=s=>e(t).email=s),required:"",autocomplete:"username"},null,8,["modelValue"]),o(u,{class:"mt-2",message:e(t).errors.email},null,8,["message"])]),e(m).find(s=>s!="Administrador")?(i(),r("div",$,[o(d,{for:"identificacion",value:"Identificación"}),o(b,{id:"identificacion",type:"identificacion",class:"mt-1 block w-full",modelValue:e(t).identificacion,"onUpdate:modelValue":l[2]||(l[2]=s=>e(t).identificacion=s),required:"",autocomplete:"username"},null,8,["modelValue"]),o(u,{class:"mt-2",message:e(t).errors.identificacion},null,8,["message"])])):p("",!0),a("div",z,[e(m).find(s=>s!="Administrador")?(i(),r("div",E,[o(d,{for:"tipo",value:"Tipo votante"}),c.tipos.length?f((i(),r("select",{key:0,"onUpdate:modelValue":l[3]||(l[3]=s=>e(t).tipo=s),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[I,(i(!0),r(_,null,h(c.tipos,s=>(i(),r("option",{value:s.nombre,key:s.id},k(s.nombre),9,T))),128))],512)),[[v,e(t).tipo]]):(i(),r("p",C,[g("No hay tipos de usuarios registrados, registrar uno nuevo "),a("a",{href:x.route("tipos.index")},"Aquí",8,F)])),o(u,{class:"mt-2",message:e(t).errors.tipo},null,8,["message"])])):p("",!0),a("div",null,[o(d,{for:"roles",value:"Roles"}),a("div",D,[o(e(B),{id:"roles",modelValue:e(t).roles_user,"onUpdate:modelValue":l[4]||(l[4]=s=>e(t).roles_user=s),display:"chip",options:Object.values(c.roles),placeholder:"Seleccione rol",maxSelectedLabels:3,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),o(u,{class:"mt-2",message:e(t).errors.roles_user},null,8,["message"])])]),a("div",null,[o(d,{for:"evento",value:"Evento votante"}),c.eventos.length?f((i(),r("select",{key:0,"onUpdate:modelValue":l[5]||(l[5]=s=>e(t).eventos=s),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[L,(i(!0),r(_,null,h(c.eventos,s=>(i(),r("option",{value:s.id,key:s.id},k(s.nombre),9,M))),128))],512)),[[v,e(t).eventos]]):(i(),r("p",G,[g("No hay eventos registrados, registrar uno nuevo "),a("a",{href:x.route("eventos.index")},"Aquí",8,P)])),o(u,{class:"mt-2",message:e(t).errors.eventos},null,8,["message"])]),a("div",null,[o(d,{for:"estado",value:"Estado"}),f(a("select",{id:"estado","onUpdate:modelValue":l[6]||(l[6]=s=>e(t).estado=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},K,512),[[v,e(t).estado]]),o(u,{class:"mt-2",message:e(t).errors.estado},null,8,["message"])]),a("div",Q,[o(O,{class:S({"opacity-25":e(t).processing}),disabled:e(t).processing},{default:V(()=>[g("Guardar ")]),_:1},8,["class","disabled"]),o(q,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:V(()=>[e(t).recentlySuccessful?(i(),r("p",W,"Actualizado.")):p("",!0)]),_:1})])],32)]))}};export{le as default};
