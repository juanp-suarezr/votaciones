import{o as g,c as v,E as F,x as R,r as _,T,e as j,f as P,a as s,u as t,w as u,F as E,Z as I,b as p,d as o,l as N,n as x,t as k,m as U}from"./app-D3dNBRJP.js";import{_ as D}from"./AuthenticatedLayout-oAUak3R0.js";import{_ as h,a as b,b as m}from"./TextInput-CbFuOrNj.js";import{_ as H}from"./PrimaryButton-x1W47uTj.js";import{s as M}from"./multiselect.esm-d4Jaol38.js";import{B as q,s as C}from"./basecomponent.esm-NGbefPEY.js";import{s as y}from"./calendar.esm-mvXJ8F31.js";import{_ as O}from"./SecondaryLink-QcvsdUYk.js";import"./index.esm-MVkchcqK.js";import"./ripple.esm-hxdXD7C2.js";import"./overlayeventbus.esm-dsJj50Bj.js";import"./index.esm-2mujTQ8V.js";import"./portal.esm-1XvYj2Y3.js";var A={root:function(n){var d=n.instance,e=n.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":d.filled,"p-inputtextarea-resizable ":e.autoResize,"p-invalid":e.invalid,"p-variant-filled":e.variant?e.variant==="filled":d.$primevue.config.inputStyle==="filled"}]}},L=q.extend({name:"textarea",classes:A}),Y={name:"BaseTextarea",extends:C,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:L,provide:function(){return{$parentInstance:this}}},$={name:"Textarea",extends:Y,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(n){this.autoResize&&this.resize(),this.$emit("update:modelValue",n.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},G=["value"];function Z(l,n,d,e,f,c){return g(),v("textarea",F({class:l.cx("root"),value:l.modelValue,onInput:n[0]||(n[0]=function(){return c.onInput&&c.onInput.apply(c,arguments)})},l.ptm("root",c.ptmParams)),null,16,G)}$.render=Z;const J={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},K={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},Q=o("h3",{class:"mt-1 text-gray-500"}," Nuevo Evento ",-1),W={class:"text-right"},X={class:"p-4 md:p-5"},ee={class:"mb-2"},te={class:"mb-2"},se={class:"col-span-2 mb-2"},ae=o("p",{class:"text-gray-600 text-sm"}," InformaciÃ³n adicional sobre el evento (max 300 caracteres) ",-1),oe={key:0},le={class:"col-span-2 flex gap-4"},ie={class:"card flex justify-content-center"},ne={class:"mb-2"},re={class:"mb-2"},de={class:"mt-4 flex flex-col items-end"},Ve={__name:"Add",props:{roles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})}},setup(l){const n=R("$swal");_(null);const d=_(!1),e=T({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",dependencias:"",tipos:"",estado:"Pendiente"}),f=j(()=>{const a=e.descripcion.trim().length;return a>=300?d.value=!0:d.value=!1,a});P(f,()=>{e.descripcion=e.descripcion.trim()});const c=r=>{const a=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),w=String(r.getDate()).padStart(2,"0"),S=String(r.getHours()).padStart(2,"0"),z=String(r.getMinutes()).padStart(2,"0"),B=String(r.getSeconds()).padStart(2,"0");return`${a}-${i}-${w} ${S}:${z}:${B}`},V=()=>{e.fecha_inicio=c(new Date(e.fecha_inicio)),e.fecha_fin=c(new Date(e.fecha_fin)),e.tipos=e.tipos.join("|"),e.post(route("eventos.store"),{onSuccess:function(){n({title:"Registro Guardado",text:"El evento se ha almacenado exitosamente",icon:"success"})}})};return(r,a)=>(g(),v(E,null,[s(t(I),{title:"Agregar evento"}),s(D,null,{header:u(()=>[p(" Nuevo Evento ")]),default:u(()=>[o("div",J,[o("div",K,[Q,o("div",W,[s(O,{href:r.route("eventos.index")},{default:u(()=>[p(" Regresar ")]),_:1},8,["href"])])]),o("div",X,[o("form",{onSubmit:N(V,["prevent"]),class:"grid sm:grid-cols-2 gap-4"},[o("div",ee,[s(h,{for:"nombre",value:"Nombre del evento"}),s(b,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:t(e).nombre,"onUpdate:modelValue":a[0]||(a[0]=i=>t(e).nombre=i),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(e).errors.nombre},null,8,["message"])]),o("div",te,[s(h,{for:"dependencias",value:"dependencias del evento"}),s(b,{id:"dependencias",type:"text",class:"mt-1 block w-full",modelValue:t(e).dependencias,"onUpdate:modelValue":a[1]||(a[1]=i=>t(e).dependencias=i),required:"",autocomplete:"dependencias"},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(e).errors.dependencias},null,8,["message"])]),o("div",se,[ae,s(t($),{modelValue:t(e).descripcion,"onUpdate:modelValue":a[2]||(a[2]=i=>t(e).descripcion=i),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"]),o("p",{class:x(["text-gray-500 text-sm mt-2",{"text-red-500":d.value}])},[p(k(f.value)+" caracteres ",1),d.value?(g(),v("span",oe,"Limite de caracteres superado")):U("",!0)],2),s(m,{class:"mt-2",message:t(e).errors.descripcion},null,8,["message"])]),o("div",le,[s(h,{for:"tipos",value:"Tipos de usuarios"}),o("div",ie,[s(t(M),{id:"tipos",modelValue:t(e).tipos,"onUpdate:modelValue":a[3]||(a[3]=i=>t(e).tipos=i),display:"chip",options:Object.values(l.tipos),placeholder:"Seleccione los tipos",maxSelectedLabels:6,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),s(m,{class:"mt-2",message:t(e).errors.tipos},null,8,["message"])]),o("div",ne,[s(t(y),{modelValue:t(e).fecha_inicio,"onUpdate:modelValue":a[4]||(a[4]=i=>t(e).fecha_inicio=i),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(e).errors.fecha_inicio},null,8,["message"])]),o("div",re,[s(t(y),{modelValue:t(e).fecha_fin,"onUpdate:modelValue":a[5]||(a[5]=i=>t(e).fecha_fin=i),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(e).errors.fecha_fin},null,8,["message"])]),o("div",null,[o("div",de,[s(H,{class:x({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:u(()=>[p(" Registrar Evento ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{Ve as default};
