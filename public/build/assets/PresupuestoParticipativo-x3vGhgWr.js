import{k as j,T as S,r as f,m as T,a as n,b as i,d,f as t,u as a,Z as $,e as b,j as c,t as r,F as y,h as N,g as z,i as B,l as L,n as v,N as h}from"./app-BIXmy2eP.js";import{_ as D}from"./Pagination-gwkT4VWk.js";import{_ as F}from"./Modal-_WsM26e2.js";import{s as O}from"./index-Ah5V_iRG.js";import{_ as P}from"./SecondaryButton-BwB8jDKZ.js";import{_ as R}from"./SecondaryButtonReturn-CRv9nIwW.js";import{r as E}from"./EyeIcon-Br514mAl.js";import"./index-D9PBBcJs.js";import"./index-CXb0tjo1.js";import"./index-CJEsiJXk.js";import"./index-CGQ-1WUB.js";import"./index-khb7YXps.js";import"./index-BCXkg5Wp.js";const A={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},I={class:"w-full flex justify-between sm:px-16 px-4"},K={class:"w-full flex justify-center my-auto sm:px-16 px-4"},M={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},U={class:"mt-2 text-base"},Z={class:"flex gap-2 mt-2"},q={class:"flex gap-2 mt-2"},G={class:"mt-4 w-full flex flex-wrap"},H={class:"flex gap-4 p-4"},J={key:0,class:"flex flex-col overflow-x-auto mt-6"},Q={class:"inline-block rounded-lg shadow"},W={class:"inline-block min-w-full py-2"},X={class:"overflow-x-auto"},Y={class:"min-w-full whitespace-no-wrap"},tt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},st={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ot={class:"text-gray-900 whitespace-no-wrap"},at={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},rt={class:"text-gray-900 whitespace-no-wrap"},lt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},it={class:"text-gray-900 whitespace-no-wrap"},nt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},dt={class:"text-gray-900 whitespace-no-wrap"},ct={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ut={class:"flex gap-2"},pt=["onClick"],xt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},bt={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},mt={class:"p-4 sm:text-4xl text-2x text-center font-bold text-gray-800 text-center flex tex-center justify-center bg-azul text-white"},gt={class:"sm:flex gap-4 sm:text-2xl text-xl my-6 p-4"},ft={class:"sm:w-1/2 px-4 mb-12"},yt=["disabled"],vt={class:"sm:w-1/2 px-4 mb-8"},ht=["disabled"],Dt={__name:"PresupuestoParticipativo",props:{evento:{type:Object,default:()=>[]},resultados:{type:Object,default:()=>[]}},setup(l){j("$swal");const u=l;console.log(u);const o=S({id_evento:u.evento.id,subtipo:"",comuna:""}),p=f(""),_=u.resultados.data,w=f(!1),k=()=>{h.get("/resultado-comunas",{id_evento:u.evento.id,subtipo:p.value.value},{preserveState:!0,replace:!0})},C=()=>{p.value="",h.get("/resultado-comunas",{id_evento:u.evento.id,subtipo:p.value},{preserveState:!0,replace:!0})},x=(m,e)=>{o.subtipo=e.value,o.comuna=e.label,m==1?o.get(route("resultado-proyectos"),{preserveState:!0}):o.get(route("resultado-generales"),{preserveState:!0})};return(m,e)=>{const V=T("tooltip");return i(),n(y,null,[d(a($),{title:"Votaciones por comunas"}),t("div",A,[t("div",I,[e[4]||(e[4]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),d(R,{class:"h-full flex inline-flex mt-8 !text-base"},{default:b(()=>e[3]||(e[3]=[c(" Regresar ")])),_:1})]),t("div",K,[t("div",M,[e[10]||(e[10]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",U,r(l.evento.nombre)+" - Resultados por Comuna/Corregimiento ",1),t("p",Z,[e[5]||(e[5]=t("b",null,"Total registrados habilitados para votar virtualmente o tics: ",-1)),c(" "+r(l.evento.votantes_count),1)]),t("p",q,[e[6]||(e[6]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),c(" "+r(l.evento.acta_escrutinio.reduce((s,g)=>s+g.total_ciudadanos,0)),1)]),t("div",G,[d(a(O),{id:"comuna",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),options:a(_),filter:"",optionLabel:"label",placeholder:"Seleccione la comuna/corregimiento",checkmark:"",highlightOnSelect:!1,onChange:k,class:"block h-full w-auto px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"]),t("div",H,[d(P,{class:"p-2 h-full",onClick:C},{default:b(()=>e[7]||(e[7]=[c(" Limpiar ")])),_:1})])]),l.resultados.data.length>0?(i(),n("div",J,[t("div",Q,[t("div",W,[t("div",X,[t("table",Y,[e[8]||(e[8]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Comuna "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Virtuales "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Presenciales TIC "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Físicos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Total "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),t("tbody",null,[(i(!0),n(y,null,N(l.resultados.data,s=>(i(),n("tr",{key:s.id,class:"text-gray-700"},[t("td",tt,[t("p",et,r(s.label),1)]),t("td",st,[t("p",ot,r(s.votos_virtuales),1)]),t("td",at,[t("p",rt,r(s.votos_presenciales_Tic),1)]),t("td",lt,[t("p",it,r(s.votos_fisicos),1)]),t("td",nt,[t("b",dt,r(s.votos_virtuales+s.votos_fisicos+s.votos_presenciales_Tic),1)]),t("td",ct,[t("div",ut,[z((i(),n("button",{class:"border border-gray-400 rounded-full hover:!bg-gray-200 p-1",onClick:g=>x(1,s)},[d(a(E),{class:"h-6 w-6 text-gray-800"})],8,pt)),[[V,"Ver detalles",void 0,{bottom:!0}]])])])]))),128))])])])])])])):(i(),n("div",xt,e[9]||(e[9]=[t("em",null," No hay comunas con votaciones realizadas ",-1)]))),t("div",bt,[l.resultados.data.length>0?(i(),B(D,{key:0,links:l.resultados.links},null,8,["links"])):L("",!0)])])])]),d(F,{show:w.value,closeable:!0},{default:b(()=>[t("h2",mt,[e[11]||(e[11]=c(" Votación ")),e[12]||(e[12]=t("br",null,null,-1)),c(" Comuna/Corregimiento: "+r(a(o).comuna),1)]),t("div",gt,[t("div",ft,[e[13]||(e[13]=t("p",{class:"mx-auto text-center"},"Ver votación por proyecto",-1)),t("button",{type:"button",class:v(["flex mx-auto mt-4 text-xl sm:text-2xl bg-primary hover:bg-secondary text-white rounded-lg shadow-md p-2",{"opacity-25":a(o).processing}]),onClick:e[1]||(e[1]=s=>x(1)),disabled:a(o).processing}," Continuar ",10,yt)]),t("div",vt,[e[14]||(e[14]=t("p",{class:"mx-auto text-center"},"Ver votación datos generales",-1)),t("button",{type:"button",class:v(["flex mx-auto mt-4 text-xl sm:text-2xl bg-azul hover:bg-azul/80 text-white rounded-lg shadow-md p-2",{"opacity-25":a(o).processing}]),onClick:e[2]||(e[2]=s=>x(2)),disabled:a(o).processing}," Continuar ",10,ht)])])]),_:1},8,["show"])],64)}}};export{Dt as default};
