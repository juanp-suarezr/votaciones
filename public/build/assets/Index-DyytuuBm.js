import{_ as I}from"./AuthenticatedLayout-CVDLQOdB.js";import{x as N,r as c,T as B,q as C,w as D,c as y,o as h,b as o,u as d,Z as R,d as l,e as s,F as E,k as M,t as b,j as m,n as G}from"./app-DAyeN23y.js";import{_ as $}from"./Modal-CZQ_60YA.js";import{_ as T}from"./SecondaryButton-Cgn8HtKt.js";import{_ as P}from"./DangerButton-ZiX1vfCZ.js";import{_ as O}from"./InputError-BCgatokc.js";import{_ as Z}from"./InputLabel-CY0H5FZs.js";import{_ as H}from"./TextInput-DgHoP2Oo.js";import{s as J}from"./index-bguLIxer.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-CCsNDc_v.js";import"./SecondaryButtonReturn-BX0cVflL.js";import"./PrimaryButton-WFO9qUoy.js";import"./XCircleIcon-BJ04-ary.js";import"./index-ZRO_YYXV.js";import"./index-BkJJm2wF.js";import"./index-CXMagAde.js";import"./TrashIcon-CKnsutwH.js";import"./index-BX7p7xc7.js";import"./index-4ewC0Pvp.js";const K={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},Q={class:"text-right p-4"},W={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},X={class:"w-full whitespace-no-wrap overflow-x-auto"},Y={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ee={class:"text-gray-900 whitespace-no-wrap"},se={class:"inline-flex w-full border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},te={class:"flex items-center border-b bg-gray-50 px-5 py-2 xs:flex-row justify-between text-gray-500 text-xs font-semibold"},oe=["disabled"],re=["disabled"],ie={class:"p-6"},ae={class:"text-xl font-semibold"},le={class:"mt-6"},ne={class:"flex items-center justify-end mt-6"},de={class:"p-6"},ue={class:"mt-6 flex justify-end"},Ue={__name:"Index",props:{tipos:Object},setup(j){const p=j,x=N("$swal"),v=c(!1),g=c(!1),n=c(0),t=B({password:"",nombre:""}),S=[{url:"",text:"listado de tipos"}],u=()=>{v.value=!1,g.value=!1,t.reset()},k=r=>{t.nombre=p.tipos.find(e=>e.id==r)?p.tipos.find(e=>e.id==r).nombre:"",g.value=!0,n.value=r},U=r=>{r=="new"?t.post(route("tipos.store",n.value),{preserveScroll:!0,onSuccess:()=>{u(),x({title:"Registro Creado",text:"El tipo se ha registrado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()}):t.put(route("tipos.update",n.value),{preserveScroll:!0,onSuccess:()=>{u(),x({title:"Registro Actualizado",text:"El tipo se ha actualizado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()})},V=r=>{v.value=!0,n.value=r},q=()=>{t.delete(route("tipos.destroy",n.value),{preserveScroll:!0,onSuccess:()=>{u(),x({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()})},f=c(8),i=c(0),w=C(()=>Math.ceil(p.tipos.length/f.value)),z=()=>{i.value>0&&i.value--},A=()=>{i.value<w.value-1&&i.value++};D(f,()=>{i.value=0});const F=c(""),L=C(()=>{const r=i.value*f.value,e=r+f.value;return p.tipos.filter(_=>_.nombre.toLowerCase().includes(F.value.toLowerCase())).slice(r,e)});return(r,e)=>(h(),y(E,null,[o(d(R),{title:"Tipo de usuario/evento"}),o(I,{breadCrumbLinks:S},{header:l(()=>e[3]||(e[3]=[m(" Tipo de usuario/evento ")])),default:l(()=>[s("div",K,[s("div",Q,[s("button",{type:"button",class:"bg-sky-700 px-4 py-2 rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm hover:bg-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",onClick:e[0]||(e[0]=a=>k("new"))}," Agregar ")])]),s("div",W,[s("table",X,[e[6]||(e[6]=s("thead",null,[s("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[s("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Tipo de usuario "),s("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),s("tbody",null,[(h(!0),y(E,null,M(L.value,a=>(h(),y("tr",{key:a.id,class:"text-gray-700"},[s("td",Y,[s("p",ee,b(a.nombre),1)]),s("td",se,[o(T,{type:"button",onClick:_=>k(a.id),class:"mr-2"},{default:l(()=>e[4]||(e[4]=[m(" Editar ")])),_:2},1032,["onClick"]),o(P,{onClick:_=>V(a.id)},{default:l(()=>e[5]||(e[5]=[m("Eliminar")])),_:2},1032,["onClick"])])]))),128))])]),s("div",te,[s("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:z,disabled:i.value===0},e[7]||(e[7]=[s("i",{class:"fa-solid fa-arrow-left"},null,-1)]),8,oe),s("p",null,"Pagina "+b(i.value+1)+" de "+b(w.value),1),s("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:A,disabled:i.value===w.value-1},e[8]||(e[8]=[s("i",{class:"fa-solid fa-arrow-right"},null,-1)]),8,re)])]),o($,{show:g.value,onClose:u},{default:l(()=>[s("div",ie,[s("h2",ae,b(n.value=="new"?"Añadir Tipo de Usuario":"Editar Tipo de Usuario"),1),s("div",le,[o(Z,{class:"sm:text-sm text-xs",for:"nombre",value:"Nombre del tipo de usuario"}),o(H,{id:"nombre",type:"text",class:"mt-1 block w-full p-0 sm:p-2",modelValue:d(t).nombre,"onUpdate:modelValue":e[1]||(e[1]=a=>d(t).nombre=a),required:"",autocomplete:"nombre"},null,8,["modelValue"]),o(O,{class:"mt-1",message:d(t).errors.nombre},null,8,["message"])]),s("div",ne,[o(d(J),{class:"bg-blue-800 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor",type:"button",onClick:e[2]||(e[2]=a=>U(n.value))},{default:l(()=>e[9]||(e[9]=[m("Guardar")])),_:1})])])]),_:1},8,["show"]),o($,{show:v.value,onClose:u},{default:l(()=>[s("div",de,[e[12]||(e[12]=s("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un tipo de usuario? ",-1)),e[13]||(e[13]=s("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1)),s("div",ue,[o(T,{onClick:u},{default:l(()=>e[10]||(e[10]=[m(" Cancelar ")])),_:1}),o(P,{class:G(["ms-3",{"opacity-25":d(t).processing}]),disabled:d(t).processing,onClick:q},{default:l(()=>e[11]||(e[11]=[m(" Eliminar tipo de usuario ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ue as default};
