import{k as j,T as S,r as f,m as $,a as n,b as a,d,f as e,u as r,Z as N,e as b,j as x,t as l,F as y,h as T,g as z,i as B,l as L,n as h,N as v}from"./app-BT5nyklw.js";import{_ as D}from"./Pagination-CNOVqhB-.js";import{_ as F}from"./Modal-As34zIR_.js";import{s as O}from"./index-BdhENO3J.js";import{_ as P}from"./SecondaryButton-nupijgil.js";import{_ as R}from"./SecondaryButtonReturn-DnhTicLD.js";import{r as E}from"./EyeIcon-CsjUNoce.js";import"./index-C0fb3-XX.js";import"./index-DwLaJXtW.js";import"./index-Cgte4Anv.js";import"./index-Be1fzYNM.js";import"./index-CKQWixnK.js";import"./index-B69aE_pJ.js";import"./index-CnXqQQok.js";import"./index-BvKaPoTY.js";const M={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},A={class:"w-full flex justify-between sm:px-16 px-4"},I={class:"w-full flex justify-center my-auto sm:px-16 px-4"},K={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},U={class:"mt-2 text-base"},Z={class:"mt-4 w-full flex flex-wrap"},q={class:"flex gap 4 p-4"},G={key:0,class:"flex flex-col overflow-x-auto mt-6"},H={class:"inline-block rounded-lg shadow"},J={class:"inline-block min-w-full py-2"},Q={class:"overflow-x-auto"},W={class:"min-w-full whitespace-no-wrap"},X={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},te={class:"text-gray-900 whitespace-no-wrap"},se={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},oe={class:"text-gray-900 whitespace-no-wrap"},re={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ae={class:"text-gray-900 whitespace-no-wrap"},le={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ie={class:"text-gray-900 whitespace-no-wrap"},ne={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},de={class:"flex gap-2"},ce=["onClick"],pe={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},ue={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},xe={class:"p-4 sm:text-4xl text-2x text-center font-bold text-gray-800 text-center flex tex-center justify-center bg-azul text-white"},be={class:"sm:flex gap-4 sm:text-2xl text-xl my-6 p-4"},me={class:"sm:w-1/2 px-4 mb-12"},ge=["disabled"],fe={class:"sm:w-1/2 px-4 mb-8"},ye=["disabled"],Fe={__name:"PresupuestoParticipativo",props:{evento:{type:Object,default:()=>[]},resultados:{type:Object,default:()=>[]}},setup(i){j("$swal");const c=i;console.log(c);const o=S({id_evento:c.evento.id,subtipo:"",comuna:""}),p=f(""),_=c.resultados.data,m=f(!1),w=()=>{v.get("/resultado-comunas",{id_evento:c.evento.id,subtipo:p.value.value},{preserveState:!0,replace:!0})},k=()=>{p.value="",v.get("/resultado-comunas",{id_evento:c.evento.id,subtipo:p.value},{preserveState:!0,replace:!0})},C=u=>{m.value=!0,o.subtipo=u.value,o.comuna=u.label},g=u=>{u==1?o.get(route("resultado-proyectos"),{preserveState:!0,replace:!0}):o.get(route("resultado-generales"),{preserveState:!0,replace:!0})};return(u,t)=>{const V=$("tooltip");return a(),n(y,null,[d(r(N),{title:"Votaciones por comunas"}),e("div",M,[e("div",A,[t[4]||(t[4]=e("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[e("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),d(R,{class:"h-full flex inline-flex mt-8 !text-base"},{default:b(()=>t[3]||(t[3]=[x(" Regresar ")])),_:1})]),e("div",I,[e("div",K,[t[8]||(t[8]=e("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),e("p",U,l(i.evento.nombre)+" - Resultados por Comuna/Corregimiento ",1),e("div",Z,[d(r(O),{id:"comuna",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),options:r(_),filter:"",optionLabel:"label",placeholder:"Seleccione la comuna/corregimiento",checkmark:"",highlightOnSelect:!1,onChange:w,class:"block h-full w-auto px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"]),e("div",q,[d(P,{class:"p-2 h-full",onClick:k},{default:b(()=>t[5]||(t[5]=[x(" Limpiar ")])),_:1})])]),i.resultados.data.length>0?(a(),n("div",G,[e("div",H,[e("div",J,[e("div",Q,[e("table",W,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Comuna "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Virtuales "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Presenciales TIC "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Físicos "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Total "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),e("tbody",null,[(a(!0),n(y,null,T(i.resultados.data,s=>(a(),n("tr",{key:s.id,class:"text-gray-700"},[e("td",X,[e("p",Y,l(s.label),1)]),e("td",ee,[e("p",te,l(s.votos_virtuales),1)]),e("td",se,[e("p",oe,l(s.votos_presenciales_Tic),1)]),e("td",re,[e("p",ae,l(s.votos_fisicos),1)]),e("td",le,[e("b",ie,l(s.votos_virtuales+s.votos_fisicos+s.votos_presenciales_Tic),1)]),e("td",ne,[e("div",de,[z((a(),n("button",{class:"border border-gray-400 rounded-full hover:!bg-gray-200 p-1",onClick:he=>C(s)},[d(r(E),{class:"h-6 w-6 text-gray-800"})],8,ce)),[[V,"Ver detalles",void 0,{bottom:!0}]])])])]))),128))])])])])])])):(a(),n("div",pe,t[7]||(t[7]=[e("em",null," No hay comunas con votaciones realizadas ",-1)]))),e("div",ue,[i.resultados.data.length>0?(a(),B(D,{key:0,links:i.resultados.links},null,8,["links"])):L("",!0)])])])]),d(F,{show:m.value,closeable:!0},{default:b(()=>[e("h2",xe,[t[9]||(t[9]=x(" Votación ")),t[10]||(t[10]=e("br",null,null,-1)),x(" Comuna/Corregimiento: "+l(r(o).comuna),1)]),e("div",be,[e("div",me,[t[11]||(t[11]=e("p",{class:"mx-auto text-center"},"Ver votación por proyecto",-1)),e("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-primary hover:bg-secondary text-white rounded-lg shadow-md p-2",{"opacity-25":r(o).processing}]),onClick:t[1]||(t[1]=s=>g(1)),disabled:r(o).processing}," Continuar ",10,ge)]),e("div",fe,[t[12]||(t[12]=e("p",{class:"mx-auto text-center"},"Ver votación datos generales",-1)),e("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-azul hover:bg-azul/80 text-white rounded-lg shadow-md p-2",{"opacity-25":r(o).processing}]),onClick:t[2]||(t[2]=s=>g(2)),disabled:r(o).processing}," Continuar ",10,ye)])])]),_:1},8,["show"])],64)}}};export{Fe as default};
