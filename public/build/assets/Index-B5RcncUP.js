import{_ as V}from"./AuthenticatedLayout-DFAXe_UU.js";import{s as v}from"./index-CffReRa7.js";import{x as C,T as N,c as l,o as n,b as m,u as r,Z as j,d,e as s,F as _,k as B,l as f,p as S,t as u,n as $,j as b,N as E}from"./app-BjtUMsOn.js";import{_ as I}from"./PrimaryButton-CrCADg4V.js";import"./index-BkeLLdOA.js";import"./index-RWjKRciq.js";import"./index-C9IDC7Bn.js";import"./SecondaryButtonReturn-D3Dj6eih.js";import"./XCircleIcon-DcqZ0xNr.js";const L={class:"items-center flex justify-center mx-2"},T={class:"sm:flex w-full sm:grid md:grid-cols-3 grid-cols-2 gap-4"},z={class:"mx-auto sm:w-3/6 lg:2/6"},F={class:"mt-4 mx-auto"},O={class:"text-xl font-bold capitalize"},A={key:0,class:"text-base text-gray-800"},D={class:"text-sm text-gray-600"},U={class:"mt-4 mx-auto"},R={__name:"Index",props:{candidatos:Object,votante:Object},setup(p){const g=C("$swal"),x=p;console.log(x);const a=N({id_votante:x.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",estado:"Activo"}),h=[{url:"",text:"Votaciones"}],k=function(e){let o=e.split(" "),t="",c=0;for(var i=0;i<o.length&&c<2;i++)o[i].length>0&&o[i]!==""&&(t+=o[i][0],c++);return t},y=e=>`/storage/uploads/usuarios/${e}`,w=e=>{console.log(e),a.id_candidato=e.id_votante,a.id_eventos=e.id_evento,a.tipo=e.tipo,a.post(route("votos.store"),{onSuccess:()=>g({title:"Voto registrado exitosamente",text:"Su voto es por "+e.votante.nombre,icon:"success"}).then(o=>{E.get("dashboard")}),onError:()=>g({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})};return(e,o)=>(n(),l(_,null,[m(r(j),{title:"Votaciones"}),m(V,{breadCrumbLinks:h},{header:d(()=>o[0]||(o[0]=[b(" Votaciones ")])),default:d(()=>[s("div",L,[s("div",T,[(n(!0),l(_,null,B(p.candidatos,t=>(n(),l("div",{key:t.id,class:"flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800"},[s("div",z,[t.votante.imagen=="user.png"?(n(),f(r(v),{key:0,label:k(t.votante.nombre),class:"w-full h-[60pt] sm:h-[100pt] bg-indigo-200 text-indigo-800 p-4 text-4xl",shape:"circle"},null,8,["label"])):(n(),f(r(v),{key:1,image:y(t.votante.imagen),class:"w-full h-[60pt] sm:h-[100pt] bg-indigo-200 text-indigo-800 text-4xl",shape:"circle"},null,8,["image"]))]),s("div",F,[s("h2",O,u(t.votante.nombre),1),t.votante.nombre=="Voto En Blanco"?(n(),l("h3",A," CC "+u(t.votante.identificacion),1)):S("",!0),s("p",D," Tipo: "+u(t.tipo),1)]),s("div",U,[m(I,{type:"button",onClick:c=>w(t),class:$({"opacity-25":r(a).processing}),disabled:r(a).processing},{default:d(()=>o[1]||(o[1]=[b(" Seleccionar ")])),_:2},1032,["onClick","class","disabled"])])]))),128))])])]),_:1})],64))}};export{R as default};
