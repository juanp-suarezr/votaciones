import{_ as N}from"./AuthenticatedLayout-OXUi-2RV.js";import{_ as B}from"./Pagination-DdTcyQHp.js";import{_ as S}from"./PrimaryLink-Bh71bT8_.js";import{_ as U}from"./Modal-0UpAunJ_.js";import{x as V,r as l,T as A,q as h,w as D,c as u,o as g,b as r,u as f,Z as F,d as o,e,j as i,F as v,k as z,t as d,n as k}from"./app-BEDASCGi.js";import{_ as I}from"./SecondaryButton-DfiStarB.js";import{_ as C}from"./DangerButton-C-Wi1O5Y.js";import{_ as E}from"./SecondaryLink-DH_M_ebz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-B_4GNMNI.js";import"./SecondaryButtonReturn-BFtIsUFl.js";import"./index-C4gbubad.js";import"./index-BeqEu-TX.js";import"./index-0Sv20Ljs.js";import"./PrimaryButton-DRZ_BzxC.js";import"./XCircleIcon-Uo1rInog.js";import"./TrashIcon-BFXHW-y1.js";const M={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},O={class:"text-right p-4"},R={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},Z={class:"w-full whitespace-no-wrap overflow-x-auto"},G={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},H={class:"text-gray-900 whitespace-no-wrap"},J={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},K={class:"text-gray-900 whitespace-no-wrap"},Q={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},W={class:"text-gray-900 whitespace-no-wrap"},X={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},te={class:"w-full inline-block border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},se={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},re={class:"p-6"},oe={class:"mt-6 flex justify-end"},ke={__name:"Index",props:{proyectos:Object},setup(c){const y=c,$=V("$swal"),x=l(!1),j=l(!1),w=l(0),n=A({password:"",nombre:""}),P=[{url:"",text:"listado de proyectos"}],b=()=>{x.value=!1,j.value=!1,n.reset()},T=a=>{x.value=!0,w.value=a},q=()=>{n.delete(route("tipos.destroy",w.value),{preserveScroll:!0,onSuccess:()=>{b(),$({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>n.reset()})},p=l(8),_=l(0);h(()=>Math.ceil(y.tipos.length/p.value)),D(p,()=>{_.value=0});const L=l("");return h(()=>{const a=_.value*p.value,t=a+p.value;return y.tipos.filter(m=>m.nombre.toLowerCase().includes(L.value.toLowerCase())).slice(a,t)}),(a,t)=>(g(),u(v,null,[r(f(F),{title:"Proyectos"}),r(N,{breadCrumbLinks:P},{header:o(()=>t[0]||(t[0]=[i(" Proyectos ")])),default:o(()=>[e("div",M,[e("div",O,[r(S,{href:a.route("proyectos.create")},{default:o(()=>t[1]||(t[1]=[i(" Agregar ")])),_:1},8,["href"])])]),e("div",R,[e("table",Z,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Tipo "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Subtipo "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Numero Tarjeton "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),e("tbody",null,[(g(!0),u(v,null,z(c.proyectos.data,s=>{var m;return g(),u("tr",{key:s.id,class:"text-gray-700"},[e("td",G,[e("p",H,d(s.detalle),1)]),e("td",J,[e("p",K,d(s.tipo_proyecto.nombre),1)]),e("td",Q,[e("p",W,d((m=s.parametro_detalle)==null?void 0:m.detalle),1)]),e("td",X,[e("p",Y,d(s.numero_tarjeton),1)]),e("td",ee,[e("p",{class:k(["text-gray-900 whitespace-no-wrap inline-flex px-2 rounded-md bg-red-200",{"!bg-green-400":s.estado===1}])},d(s.estado?"Activo":"Bloqueado"),3)]),e("td",te,[r(E,{type:"button",href:a.route("proyectos.edit",s.id),class:"mb-3"},{default:o(()=>t[2]||(t[2]=[i(" Editar ")])),_:2},1032,["href"]),r(E,{type:"button",href:a.route("preview-votacion",s.id),class:"mb-3"},{default:o(()=>t[3]||(t[3]=[i(" Vista Previa ")])),_:2},1032,["href"]),r(C,{onClick:ae=>T(s.id)},{default:o(()=>t[4]||(t[4]=[i("Eliminar")])),_:2},1032,["onClick"])])])}),128))])]),e("div",se,[r(B,{links:c.proyectos.links},null,8,["links"])])]),r(U,{show:x.value,onClose:b},{default:o(()=>[e("div",re,[t[8]||(t[8]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un tipo de usuario? ",-1)),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1)),e("div",oe,[r(I,{onClick:b},{default:o(()=>t[6]||(t[6]=[i(" Cancelar ")])),_:1}),r(C,{class:k(["ms-3",{"opacity-25":f(n).processing}]),disabled:f(n).processing,onClick:q},{default:o(()=>t[7]||(t[7]=[i(" Eliminar tipo de usuario ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{ke as default};
