import{r as b,a as j,b as U,d as a,u as o,Z as B,e as s,f as t,N as v,j as i,t as d,n as C,F as E,S as I}from"./app-dUjcy5ia.js";import{_ as L}from"./AuthenticatedLayout-CA27uDOi.js";import{_ as y}from"./TextInput-CA1wxWn6.js";import{_ as O}from"./PrimaryButton-Cp2uMQaE.js";import{_ as z}from"./SecondaryButton-CV67izfx.js";import{_ as D}from"./Pagination-DCPy3bOO.js";import{s as F,a as p}from"./index-d-o5rEYJ.js";import{s as N}from"./index-CsMCTnaX.js";import"./es-SaOAW-hi.js";import{c as k}from"./comunas-CgAZlVl9.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CYuEviiQ.js";import"./index-DI_V581D.js";import"./index-Cx2grRWr.js";import"./index--cGjy-sB.js";import"./index-CF1CZwr6.js";import"./index-DnXap5rO.js";import"./index-BY2N3obz.js";import"./index-Cgk9x-8W.js";import"./index-DUBpQA3_.js";const $={class:"p-4"},H={class:"bg-white shadow-md rounded-lg p-4 mb-4"},G={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},T={class:"mt-4 flex justify-end"},Z={class:"bg-white shadow-md rounded-lg p-4"},q={class:"flex justify-between items-center"},J={__name:"Historial",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(g){const f=g;console.log(f.votantes);let r=b(f.filters.identificacion||""),n=b(f.filters.nombre||""),u=b(f.filters.subtipo||""),m=b(f.filters.estado||"");const w=[{label:"Activo",value:"Activo"},{label:"Rechazado",value:"Rechazado"}],V=()=>{I.get("/historial_registros",{identificacion:r.value,nombre:n.value,subtipo:u.value,estado:m.value},{preserveState:!0,replace:!0})},A=()=>{r.value="",n.value="",u.value="",m.value="",V()},S=_=>{var e;return console.log(_),(e=k.find(l=>l.value==_))==null?void 0:e.label};return(_,e)=>(U(),j(E,null,[a(o(B),{title:"Usuarios registrados o validados"}),a(L,null,{header:s(()=>e[4]||(e[4]=[t("div",{class:"flex justify-between items-center"},[t("h1",{class:"text-2xl font-bold"},"Gestión de registros validados")],-1)])),default:s(()=>[t("div",$,[t("div",H,[t("div",G,[a(y,{id:"identificacion",modelValue:o(r),"onUpdate:modelValue":e[0]||(e[0]=l=>v(r)?r.value=l:r=l),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),a(y,{id:"nombre",modelValue:o(n),"onUpdate:modelValue":e[1]||(e[1]=l=>v(n)?n.value=l:n=l),placeholder:"Nombre o ID",class:"w-full"},null,8,["modelValue"]),a(o(N),{id:"comuna",modelValue:o(u),"onUpdate:modelValue":e[2]||(e[2]=l=>v(u)?u.value=l:u=l),options:o(k),filter:"",optionLabel:"label",placeholder:"Seleccione comuna",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),a(o(N),{id:"estado",modelValue:o(m),"onUpdate:modelValue":e[3]||(e[3]=l=>v(m)?m.value=l:m=l),options:w,filter:"",optionLabel:"label",placeholder:"Seleccione estado",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue"])]),t("div",T,[a(O,{onClick:V},{default:s(()=>e[5]||(e[5]=[i("Buscar")])),_:1}),a(z,{onClick:A},{default:s(()=>e[6]||(e[6]=[i("Limpiar Filtros")])),_:1})])]),t("div",Z,[a(o(F),{value:g.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:s(()=>[t("div",q,[e[7]||(e[7]=t("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),a(D,{links:g.votantes.links},null,8,["links"])])]),default:s(()=>[a(o(p),{header:"ID"},{body:s(l=>[i(d(l.data.id||"N/A"),1)]),_:1}),a(o(p),{header:"Propietario"},{body:s(l=>{var c,x,h;return[t("p",null,[e[8]||(e[8]=t("b",null,"Nombre:",-1)),i(" "+d(((c=l.data.votante)==null?void 0:c.nombre)||"Sin información")+" ",1),e[9]||(e[9]=t("br",null,null,-1)),t("b",null,d((x=l.data.votante)==null?void 0:x.tipo_documento)+":",1),i(" "+d(((h=l.data.votante)==null?void 0:h.identificacion)||"N/A")+" ",1),e[10]||(e[10]=t("br",null,null,-1))])]}),_:1}),a(o(p),{header:"Sector"},{body:s(l=>{var c;return[i(d(S(l.data.subtipo)||"N/A")+" ",1),e[11]||(e[11]=t("br",null,null,-1)),i(" "+d(((c=l.data.votante)==null?void 0:c.barrio)||"N/A"),1)]}),_:1}),a(o(p),{header:"Evento"},{body:s(l=>[i(d(l.data.evento.nombre||"N/A"),1)]),_:1}),a(o(p),{header:"Estado"},{body:s(l=>[t("span",{class:C(["p-2 rounded-md",[l.data.estado==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},d(l.data.estado),3)]),_:1}),a(o(p),{header:"Acciones"},{body:s(l=>e[12]||(e[12]=[t("div",{class:"flex gap-2"},null,-1)])),_:1})]),_:1},8,["value"])])])]),_:1})],64))}},fe=R(J,[["__scopeId","data-v-5ec5fae7"]]);export{fe as default};
