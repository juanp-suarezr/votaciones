import{k,r as f,T as N,c as B,w as E,a as g,b as v,d as o,u as t,Z as T,e as d,f as a,j as m,s as U,n as _,l as L,t as C,F as D}from"./app-B6Hsr4d8.js";import{_ as M}from"./AuthenticatedLayout-BRiHagTM.js";import{_ as r}from"./InputError-C-t8r8vG.js";import{_ as c}from"./InputLabel-NDtoMtyY.js";import{_ as R}from"./PrimaryButton-NKohvC9Q.js";import{_ as b}from"./TextInput-C0kHqKNx.js";import{s as q}from"./index-DpO-LWw4.js";import{s as O}from"./index-Xx-fqO7u.js";import{s as x}from"./index-DXbHqorY.js";import{_ as z}from"./SecondaryLink-DcoPxk17.js";import"./SecondaryButtonReturn-BUJAbnUo.js";import"./XCircleIcon-DlBC6NwH.js";import"./index-PontQYJM.js";import"./index-C8H9eKA6.js";import"./index-B0P0HXry.js";import"./index-CG9d6zvK.js";import"./index-Chcx9A6U.js";import"./index-DhVl8A1c.js";import"./index-QLlH4b8M.js";import"./index-BwOnxnyC.js";import"./index-CzR4rAkI.js";const A={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},P={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},G={class:"text-right"},H={class:"p-4 md:p-5"},I={class:"mb-2"},Y={class:"mb-2"},Z={class:"col-span-2 mb-2"},J={key:0},K={class:"col-span-2 flex gap-4"},Q={class:"card flex justify-content-center"},W={class:"mb-2"},X={class:"mb-2"},ee={class:"mt-4 flex flex-col items-end"},Ve={__name:"Add",props:{roles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})}},setup(h){const y=k("$swal");f(null);const n=f(!1),e=N({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",dependencias:"",tipos:"",estado:"Pendiente"}),V=[{url:route("eventos.index"),text:"Listado de eventos"},{url:"",text:"Nuevo evento"}],p=B(()=>{const s=e.descripcion.trim().length;return s>=300?n.value=!0:n.value=!1,s});E(p,()=>{e.descripcion=e.descripcion.trim()});const u=l=>{const s=l.getFullYear(),i=String(l.getMonth()+1).padStart(2,"0"),S=String(l.getDate()).padStart(2,"0"),$=String(l.getHours()).padStart(2,"0"),F=String(l.getMinutes()).padStart(2,"0"),j=String(l.getSeconds()).padStart(2,"0");return`${s}-${i}-${S} ${$}:${F}:${j}`},w=()=>{e.fecha_inicio=u(new Date(e.fecha_inicio)),e.fecha_fin=u(new Date(e.fecha_fin)),e.tipos=e.tipos.join("|"),e.post(route("eventos.store"),{onSuccess:function(){y({title:"Registro Guardado",text:"El evento se ha almacenado exitosamente",icon:"success"})}})};return(l,s)=>(v(),g(D,null,[o(t(T),{title:"Agregar evento"}),o(M,{breadCrumbLinks:V},{header:d(()=>s[6]||(s[6]=[m(" Nuevo Evento ")])),default:d(()=>[a("div",A,[a("div",P,[s[8]||(s[8]=a("h3",{class:"mt-1 text-gray-500"}," Nuevo Evento ",-1)),a("div",G,[o(z,{href:l.route("eventos.index")},{default:d(()=>s[7]||(s[7]=[m(" Regresar ")])),_:1},8,["href"])])]),a("div",H,[a("form",{onSubmit:U(w,["prevent"]),class:"grid sm:grid-cols-2 gap-4"},[a("div",I,[o(c,{for:"nombre",value:"Nombre del evento"}),o(b,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:t(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=i=>t(e).nombre=i),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),o(r,{class:"mt-2",message:t(e).errors.nombre},null,8,["message"])]),a("div",Y,[o(c,{for:"dependencias",value:"dependencias del evento"}),o(b,{id:"dependencias",type:"text",class:"mt-1 block w-full",modelValue:t(e).dependencias,"onUpdate:modelValue":s[1]||(s[1]=i=>t(e).dependencias=i),required:"",autocomplete:"dependencias"},null,8,["modelValue"]),o(r,{class:"mt-2",message:t(e).errors.dependencias},null,8,["message"])]),a("div",Z,[s[9]||(s[9]=a("p",{class:"text-gray-600 text-sm"}," InformaciÃ³n adicional sobre el evento (max 300 caracteres) ",-1)),o(t(O),{modelValue:t(e).descripcion,"onUpdate:modelValue":s[2]||(s[2]=i=>t(e).descripcion=i),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"]),a("p",{class:_(["text-gray-500 text-sm mt-2",{"text-red-500":n.value}])},[m(C(p.value)+" caracteres ",1),n.value?(v(),g("span",J,"Limite de caracteres superado")):L("",!0)],2),o(r,{class:"mt-2",message:t(e).errors.descripcion},null,8,["message"])]),a("div",K,[o(c,{for:"tipos",value:"Tipos de usuarios"}),a("div",Q,[o(t(q),{id:"tipos",modelValue:t(e).tipos,"onUpdate:modelValue":s[3]||(s[3]=i=>t(e).tipos=i),display:"chip",options:Object.values(h.tipos),placeholder:"Seleccione los tipos",maxSelectedLabels:6,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),o(r,{class:"mt-2",message:t(e).errors.tipos},null,8,["message"])]),a("div",W,[o(t(x),{modelValue:t(e).fecha_inicio,"onUpdate:modelValue":s[4]||(s[4]=i=>t(e).fecha_inicio=i),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),o(r,{class:"mt-2",message:t(e).errors.fecha_inicio},null,8,["message"])]),a("div",X,[o(t(x),{modelValue:t(e).fecha_fin,"onUpdate:modelValue":s[5]||(s[5]=i=>t(e).fecha_fin=i),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),o(r,{class:"mt-2",message:t(e).errors.fecha_fin},null,8,["message"])]),a("div",null,[a("div",ee,[o(R,{class:_({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:d(()=>s[10]||(s[10]=[m(" Registrar Evento ")])),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{Ve as default};
