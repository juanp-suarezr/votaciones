import{x as D,T as M,r as f,s as H,w as W,c as p,o as u,e as t,H as A,b as m,f as C,l as Y,I as Z,u as i,J as Q,j as a,B as X,h as j,d as v,n as S,Z as tt,p as N,F as O,k as I,t as x}from"./app-i6LRwlny.js";import{_ as et}from"./BreadCrumb-ub60VkTV.js";import{_ as V}from"./PrimaryButton-BUukt-v9.js";import{r as st,a as P}from"./XCircleIcon-8ZFXbrOw.js";import{s as ot}from"./index-XkutL26R.js";import{s as lt}from"./index-CqgOSfl5.js";import{c as rt}from"./comunas_completas-Gg-gMHNz.js";import{_ as it}from"./Modal-C8HWA0jv.js";import"./index-ImpMl_Xa.js";import"./index-BHr5idMl.js";const nt={class:"flex h-screen bg-gray-200 font-roboto"},at={class:"flex flex-1 flex-col overflow-hidden"},dt={class:"flex-1 overflow-y-auto mb-4 overflow-x-hidden bg-gray-200"},ut={class:"w-full flex justify-between items-center h-auto p-2 px-4 bg-azul shadow-lg"},ct={class:"min-[300px]:text-sm md:text-md lg:text-lg font-medium text-white"},xt={class:"mx-auto px-6 pt-4"},pt={class:"mx-auto px-6 py-8 relative"},mt={class:"lg:block fixed right-4 top-[25%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},bt={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},gt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},ft={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},vt={class:"mb-2"},yt={class:"mb-2"},wt={class:"mb-2"},ht={class:"mb-2"},_t={class:"mb-2 hidden"},B="panel_visible",kt={__name:"SimpleLayout",props:{breadCrumbLinks:{type:Array,default:()=>[]}},setup(g){const y=D("$swal"),r=M({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""});console.log(g);const c=f(!1);H(()=>{const d=localStorage.getItem(B);d!==null?c.value=d==="true":c.value=window.innerWidth>=768}),W(c,d=>{localStorage.setItem(B,d)});const w=()=>{c.value=!c.value},h=()=>{r.post(route("enviarSolicitud"),{onSuccess:function(){y({title:"Solicitud enviada con Ã©xito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirÃ¡ respuesta",icon:"success"}).then(()=>{c.value=!1})},onError:function(){y({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(d,l)=>(u(),p("div",nt,[t("div",at,[t("main",dt,[t("div",ut,[t("h3",ct,[A(d.$slots,"header")])]),t("div",xt,[m(et,{links:g.breadCrumbLinks},null,8,["links"])]),t("div",pt,[A(d.$slots,"default"),t("button",{onClick:w,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar informaciÃ³n"},[(u(),Y(Z(c.value?i(st):i(P)),{class:"w-6 h-6 lg:w-8 lg:h-8"}))]),C(t("div",mt,[t("div",bt,[t("h4",gt,[m(i(P),{class:"h-4 w-4"}),l[5]||(l[5]=a(" Â¿Necesitas soporte? "))]),t("div",ft,[l[12]||(l[12]=t("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),t("form",{onSubmit:X(h,["prevent"])},[t("div",vt,[l[6]||(l[6]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),C(t("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>i(r).nombre=n),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[j,i(r).nombre]])]),t("div",yt,[l[7]||(l[7]=t("label",{class:"text-xs md:text-sm text-gray-700"},"IdentificaciÃ³n",-1)),C(t("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>i(r).identificacion=n),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[j,i(r).identificacion]])]),t("div",wt,[l[8]||(l[8]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),C(t("input",{"onUpdate:modelValue":l[2]||(l[2]=n=>i(r).celular=n),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[j,i(r).celular]])]),t("div",ht,[l[9]||(l[9]=t("label",{class:"text-xs md:text-sm text-gray-700"},"DescripciÃ³n",-1)),m(i(ot),{modelValue:i(r).descripcion,"onUpdate:modelValue":l[3]||(l[3]=n=>i(r).descripcion=n),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),t("div",_t,[l[10]||(l[10]=t("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),C(t("input",{"onUpdate:modelValue":l[4]||(l[4]=n=>i(r).campo_obligatorio=n),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[j,i(r).campo_obligatorio]])]),m(V,{class:S(["mt-2",{"opacity-25":i(r).processing}]),disabled:i(r).processing},{default:v(()=>l[11]||(l[11]=[a(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[Q,c.value]])])])])]))}},Ct={class:"items-center flex flex-col justify-center mx-2"},$t={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},jt={class:"mx-auto w-full flex justify-center items-center"},St={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Vt={class:"m-auto sm:text-4xxl text-xxl object-cover"},Et={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Nt=["src"],Ot={class:"mt-4 mx-auto"},zt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},At={class:"sm:text-2xl text-xl text-justify"},It={class:"sm:text-2xl text-xl text-justify"},Pt=["onClick"],Bt={class:"mt-4 mx-auto"},Dt={class:"mx-auto"},Mt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Tt=["src"],Lt={class:"mt-8 mx-auto"},Ut={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},qt={class:"bg-white p-6 rounded-lg w-full"},Rt={class:"flex justify-end pr-6 pt-2"},Ft={class:"mb-4 text-base sm:text-2xl"},Jt={class:"mb-4 text-base sm:text-2xl"},Kt={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Gt={class:"bg-white p-6 rounded-lg w-full"},Ht={class:"flex justify-end pr-6 pt-4"},Wt={class:"flex flex-wrap gap-8 mt-4 text-base sm:text-4xl"},Yt={class:"w-auto border-r pr-2 border-gray-600"},Zt={class:"w-auto pr-2"},Qt={class:"mt-6 text-base sm:text-4xl"},Xt={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6 mt-6"},te={class:"flex justify-end pr-6 pt-4"},ee={class:"px-6 mt-4"},se={class:"max-h-80 overflow-y-auto pr-2 space-y-4"},oe={class:"space-y-4"},le={class:"flex flex-col gap-2"},re={class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},ie={class:"text-lg sm:text-xl text-gray-700 leading-relaxed"},ne={class:"flex justify-center gap-4 text-center h-full my-8"},ve={__name:"ProyectosJurados",props:{proyectos:Object,votante:Object,last_vote:Number},setup(g){const y=D("$swal"),r=g;console.log(r);const b=M({isProyecto:!0,id_votante:r.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",subtipo:0,estado:"Activo",last_vote:r.last_vote?parseInt(r.last_vote):0}),c=f(!1),w=f(!1),h=f(!1),d=f({proyecto:{detalle:""}}),l=f(0),n=f([]),T=function(s){let e=s.split(" "),o="",$=0;for(var k=0;k<e.length&&$<2;k++)e[k].length>0&&e[k]!==""&&(o+=e[k][0],$++);return o},L=s=>`/storage/uploads/usuarios/${s}`,U=s=>`/storage/uploads/proyectos/${s}`,_=s=>{var e;return console.log(s),(e=rt.find(o=>o.value==s))==null?void 0:e.label},q=(s,e)=>s?s.length>e?s.substring(0,e)+"...":s:"",R=s=>{d.value=s,w.value=!0},z=s=>{n.value=s,console.log(s),b.id_candidato=s?s.id_proyecto:0,b.id_eventos=s?s.id_evento:r.proyectos[0].id_evento,b.tipo=s?s.proyecto.tipo:r.proyectos[0].proyecto.tipo,b.subtipo=s?s.proyecto.subtipo:r.proyectos[0].proyecto.subtipo,l.value=s?s.id:null,h.value=!0},F=()=>{b.post(route("votos.store"),{onSuccess:()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:!1,closeOnClickOutside:!1,closeOnEsc:!1}),setTimeout(()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:{confirm:"OK"}})},3e3)},onError:()=>y({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})},E=s=>{window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(s);e.lang="es-CO",e.rate=1,e.pitch=1,window.speechSynthesis.speak(e)},J=()=>{let s="Aviso importante para el proceso de votaciÃ³n. Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad. Proyectos disponibles: ";r.proyectos.forEach((e,o)=>{s+=`. Proyecto: ${o+1}. ${e.proyecto.detalle}. `}),E(s)},K=s=>{let e="ConfirmaciÃ³n de voto. ";if(s)e+="EstÃ¡ a punto de votar por el siguiente proyecto: NÃºmero del proyecto: "+s.proyecto.numero_tarjeton+". Comuna o Corregimiento: "+_(s.proyecto.subtipo)+". Nombre del proyecto: "+s.proyecto.detalle+". ";else{const o=r.proyectos[0];e+="EstÃ¡ a punto de emitir un voto en blanco para las elecciones de presupuesto participativo 2025. Comuna o Corregimiento: "+_(o.proyecto.subtipo)+". Voto en blanco. "}E(e)},G=s=>{let e="Detalle del proyecto. Nombre del proyecto: "+s.proyecto.detalle+". DescripciÃ³n: "+s.proyecto.descripcion+". ";E(e)};return(s,e)=>(u(),p(O,null,[m(i(tt),{title:"Votaciones"}),m(kt,null,{header:v(()=>e[8]||(e[8]=[a(" Votaciones ")])),default:v(()=>[t("div",Ct,[t("div",$t,[(u(!0),p(O,null,I(g.proyectos,o=>(u(),p("div",{key:o.id,class:S(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",l.value===o.id?"border-4 border-red-500":""])},[t("div",jt,[o.proyecto.imagen=="NA"?(u(),p("div",St,[t("p",Vt,x(T(o.proyecto.detalle)),1)])):(u(),p("div",Et,[t("img",{src:U(o.proyecto.tipo_proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,Nt)]))]),m(i(lt),{value:_(o.proyecto.subtipo),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2"},null,8,["value"]),t("div",Ot,[t("h2",zt," Proyecto -- "+x(o.proyecto.numero_tarjeton),1),t("p",At,[e[9]||(e[9]=t("b",null,"Nombre Proyecto:",-1)),e[10]||(e[10]=a()),e[11]||(e[11]=t("br",null,null,-1)),a(" "+x(o.proyecto.detalle),1)]),t("p",It,[e[12]||(e[12]=t("b",null,"DescripciÃ³n:",-1)),e[13]||(e[13]=a()),e[14]||(e[14]=t("br",null,null,-1)),a(" "+x(q(o.proyecto.descripcion,80))+" ",1),o.proyecto.descripcion.length>80?(u(),p("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:$=>R(o)}," Ver mÃ¡s ",8,Pt)):N("",!0)])]),t("div",Bt,[m(V,{type:"button",onClick:$=>z(o),class:"sm:text-2xl text-xl"},{default:v(()=>e[15]||(e[15]=[a(" Votar ")])),_:2},1032,["onClick"])])],2))),128)),t("div",{class:S(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",l.value===null?"border-4 border-red-500":""])},[t("div",Dt,[t("div",Mt,[t("img",{src:L("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,Tt)])]),e[17]||(e[17]=t("div",{class:"mt-6 mx-auto"},[t("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[a(" VOTO "),t("br"),a(" EN BLANCO ")])],-1)),t("div",Lt,[m(V,{type:"button",onClick:e[0]||(e[0]=o=>z(null)),class:"sm:text-2xl text-xl"},{default:v(()=>e[16]||(e[16]=[a(" Votar ")])),_:1})])],2)])]),w.value?(u(),p("div",Ut,[t("div",qt,[e[19]||(e[19]=t("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),t("div",Rt,[t("button",{onClick:e[1]||(e[1]=o=>G(d.value)),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),t("p",Ft,x(d.value.proyecto.detalle),1),t("p",Jt,[e[18]||(e[18]=t("b",null,"DescripciÃ³n:",-1)),a(" "+x(d.value.proyecto.descripcion),1)]),t("button",{onClick:e[2]||(e[2]=o=>w.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):N("",!0),h.value?(u(),p("div",Kt,[t("div",Gt,[e[23]||(e[23]=t("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," ðŸ—³ï¸ Confirmar voto ",-1)),t("div",Ht,[t("button",{onClick:e[3]||(e[3]=o=>K(n.value)),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[24]||(e[24]=t("p",{class:"mb-4 text-base sm:text-4xl"},[t("span",{class:"text-lg sm:text-5xl font-bold"},"EstÃ¡ a punto de votar por el siguiente proyecto:")],-1)),t("div",Wt,[t("div",Yt,[e[20]||(e[20]=t("span",{class:"text-gray-600"},"NÃºmero Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025"),1)]),t("div",Zt,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Comuna/Corregimiento:",-1)),a(" "+x(n.value?_(n.value.proyecto.subtipo):_(g.proyectos[0].proyecto.subtipo)),1)])]),t("div",Qt,[e[22]||(e[22]=t("span",{class:"text-gray-600"},"Nombre Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.detalle:"VOTO EN BLANCO"),1)]),t("div",Xt,[t("button",{onClick:e[4]||(e[4]=o=>h.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),t("button",{onClick:e[5]||(e[5]=o=>F()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):N("",!0),m(it,{show:c.value,closeable:!0},{default:v(()=>[e[29]||(e[29]=t("h2",{class:"p-4 sm:text-4xl text-2xl font-bold flex justify-center text-center bg-azul text-white"}," Aviso Importante para el proceso de votaciÃ³n ",-1)),t("div",te,[t("button",{onClick:e[6]||(e[6]=o=>J()),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[30]||(e[30]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 leading-relaxed"},[t("p",null," Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad para realizar esta acciÃ³n. ")],-1)),t("div",ee,[e[27]||(e[27]=t("h3",{class:"text-2xl sm:text-3xl font-semibold mb-4 text-gray-800"}," Proyectos Disponibles ",-1)),t("div",se,[t("ul",oe,[(u(!0),p(O,null,I(g.proyectos,o=>(u(),p("li",{key:o.id,class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",le,[t("h4",re,[e[25]||(e[25]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})],-1)),a(" "+x(o.nombre),1)]),t("p",ie,x(o.proyecto.detalle),1)])]))),128)),e[26]||(e[26]=t("li",{class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",{class:"flex flex-col gap-2"},[t("h4",{class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})])]),t("p",{class:"text-lg sm:text-xl text-gray-700 leading-relaxed"}," VOTO EN BLANCO ")])],-1))])])]),t("div",ne,[m(V,{type:"button",class:S(["h-full text-xl sm:text-2xl px-8 py-3",{"opacity-25":i(b).processing}]),onClick:e[7]||(e[7]=o=>c.value=!1),disabled:i(b).processing},{default:v(()=>e[28]||(e[28]=[a(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{ve as default};
