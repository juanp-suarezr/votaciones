import{k as S,T,r as y,m as $,a as n,b as i,d,f as t,u as a,Z as N,e as b,j as c,t as r,F as v,h as z,g as B,i as L,l as D,n as h,N as _}from"./app-DQYdE4Mn.js";import{_ as F}from"./Pagination-BhRKKhDG.js";import{_ as O}from"./Modal-BXlTRwH0.js";import{s as P}from"./index-g41MWEBQ.js";import{_ as R}from"./SecondaryButton-BXcIiG6G.js";import{_ as E}from"./SecondaryButtonReturn-Bf3TZVno.js";import{r as M}from"./EyeIcon-B7dj7eUj.js";import"./index-CF--h8HV.js";import"./index-ChCxqg_g.js";import"./index-BxE8FVpq.js";import"./index-B56pjahI.js";import"./index-C9hZP0yd.js";import"./index-7ZtVWtIS.js";const A={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},I={class:"w-full flex justify-between sm:px-16 px-4"},K={class:"w-full flex justify-center my-auto sm:px-16 px-4"},U={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},Z={class:"mt-2 text-base"},q={class:"flex gap-2 mt-2"},G={class:"flex gap-2 mt-2"},H={class:"mt-4 w-full flex flex-wrap"},J={class:"flex gap-4 p-4"},Q={key:0,class:"flex flex-col overflow-x-auto mt-6"},W={class:"inline-block rounded-lg shadow"},X={class:"inline-block min-w-full py-2"},Y={class:"overflow-x-auto"},tt={class:"min-w-full whitespace-no-wrap"},et={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},st={class:"text-gray-900 whitespace-no-wrap"},ot={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},at={class:"text-gray-900 whitespace-no-wrap"},rt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},lt={class:"text-gray-900 whitespace-no-wrap"},it={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},nt={class:"text-gray-900 whitespace-no-wrap"},dt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ct={class:"text-gray-900 whitespace-no-wrap"},ut={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},pt={class:"flex gap-2"},xt=["onClick"],bt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},mt={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},gt={class:"p-4 sm:text-4xl text-2x text-center font-bold text-gray-800 text-center flex tex-center justify-center bg-azul text-white"},ft={class:"sm:flex gap-4 sm:text-2xl text-xl my-6 p-4"},yt={class:"sm:w-1/2 px-4 mb-12"},vt=["disabled"],ht={class:"sm:w-1/2 px-4 mb-8"},_t=["disabled"],Ft={__name:"PresupuestoParticipativo",props:{evento:{type:Object,default:()=>[]},resultados:{type:Object,default:()=>[]}},setup(l){S("$swal");const u=l;console.log(u);const o=T({id_evento:u.evento.id,subtipo:"",comuna:""}),p=y(""),w=u.resultados.data,m=y(!1),k=()=>{_.get("/resultado-comunas",{id_evento:u.evento.id,subtipo:p.value.value},{preserveState:!0,replace:!0})},C=()=>{p.value="",_.get("/resultado-comunas",{id_evento:u.evento.id,subtipo:p.value},{preserveState:!0,replace:!0})},V=x=>{m.value=!0,o.subtipo=x.value,o.comuna=x.label},g=x=>{x==1?o.get(route("resultado-proyectos"),{preserveState:!0}):o.get(route("resultado-generales"),{preserveState:!0})};return(x,e)=>{const j=$("tooltip");return i(),n(v,null,[d(a(N),{title:"Votaciones por comunas"}),t("div",A,[t("div",I,[e[4]||(e[4]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),d(E,{class:"h-full flex inline-flex mt-8 !text-base"},{default:b(()=>e[3]||(e[3]=[c(" Regresar ")])),_:1})]),t("div",K,[t("div",U,[e[10]||(e[10]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",Z,r(l.evento.nombre)+" - Resultados por Comuna/Corregimiento ",1),t("p",q,[e[5]||(e[5]=t("b",null,"Total registrados habilitados para votar virtualmente o tics: ",-1)),c(" "+r(l.evento.votantes_count),1)]),t("p",G,[e[6]||(e[6]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),c(" "+r(l.evento.acta_escrutinio.reduce((s,f)=>s+f.total_ciudadanos,0)),1)]),t("div",H,[d(a(P),{id:"comuna",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),options:a(w),filter:"",optionLabel:"label",placeholder:"Seleccione la comuna/corregimiento",checkmark:"",highlightOnSelect:!1,onChange:k,class:"block h-full w-auto px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"]),t("div",J,[d(R,{class:"p-2 h-full",onClick:C},{default:b(()=>e[7]||(e[7]=[c(" Limpiar ")])),_:1})])]),l.resultados.data.length>0?(i(),n("div",Q,[t("div",W,[t("div",X,[t("div",Y,[t("table",tt,[e[8]||(e[8]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Comuna "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Virtuales "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Presenciales TIC "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Físicos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Total "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),t("tbody",null,[(i(!0),n(v,null,z(l.resultados.data,s=>(i(),n("tr",{key:s.id,class:"text-gray-700"},[t("td",et,[t("p",st,r(s.label),1)]),t("td",ot,[t("p",at,r(s.votos_virtuales),1)]),t("td",rt,[t("p",lt,r(s.votos_presenciales_Tic),1)]),t("td",it,[t("p",nt,r(s.votos_fisicos),1)]),t("td",dt,[t("b",ct,r(s.votos_virtuales+s.votos_fisicos+s.votos_presenciales_Tic),1)]),t("td",ut,[t("div",pt,[B((i(),n("button",{class:"border border-gray-400 rounded-full hover:!bg-gray-200 p-1",onClick:f=>V(s)},[d(a(M),{class:"h-6 w-6 text-gray-800"})],8,xt)),[[j,"Ver detalles",void 0,{bottom:!0}]])])])]))),128))])])])])])])):(i(),n("div",bt,e[9]||(e[9]=[t("em",null," No hay comunas con votaciones realizadas ",-1)]))),t("div",mt,[l.resultados.data.length>0?(i(),L(F,{key:0,links:l.resultados.links},null,8,["links"])):D("",!0)])])])]),d(O,{show:m.value,closeable:!0},{default:b(()=>[t("h2",gt,[e[11]||(e[11]=c(" Votación ")),e[12]||(e[12]=t("br",null,null,-1)),c(" Comuna/Corregimiento: "+r(a(o).comuna),1)]),t("div",ft,[t("div",yt,[e[13]||(e[13]=t("p",{class:"mx-auto text-center"},"Ver votación por proyecto",-1)),t("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-primary hover:bg-secondary text-white rounded-lg shadow-md p-2",{"opacity-25":a(o).processing}]),onClick:e[1]||(e[1]=s=>g(1)),disabled:a(o).processing}," Continuar ",10,vt)]),t("div",ht,[e[14]||(e[14]=t("p",{class:"mx-auto text-center"},"Ver votación datos generales",-1)),t("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-azul hover:bg-azul/80 text-white rounded-lg shadow-md p-2",{"opacity-25":a(o).processing}]),onClick:e[2]||(e[2]=s=>g(2)),disabled:a(o).processing}," Continuar ",10,_t)])])]),_:1},8,["show"])],64)}}};export{Ft as default};
