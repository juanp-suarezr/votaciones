import{_ as L}from"./AuthenticatedLayout-DqHKIIWd.js";import{r as y,c as b,o as g,b as n,u as d,Z as j,d as m,e as t,i as f,j as v,F as h,k as F,t as r,N as x}from"./app-CSBvL26z.js";import{_ as N}from"./SecondaryButton-BrPUEOK5.js";import{_ as U}from"./Pagination-CHSZC71H.js";import{s as $}from"./index-DZWK10xW.js";import{s as _}from"./index-E_u_WSZb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-CIxIuhxb.js";import"./SecondaryButtonReturn-DKEWgmEm.js";import"./index-DMUTQKmW.js";import"./index-DaGpkfhe.js";import"./index-p4NFTA2A.js";import"./PrimaryButton-BzOXjbXp.js";import"./XCircleIcon-C19sbBU6.js";import"./index-CDdf2vmJ.js";import"./index-0F7Pz82e.js";import"./index-DA0kv6fy.js";import"./index-DnH7jg0B.js";const B={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},D={class:"flex gap 4 p-4 items-center"},O={class:"mr-4",style:{"min-width":"220px"}},I={class:"flex flex-col overflow-x-auto"},E={class:"inline-block rounded-lg shadow"},T={class:"inline-block min-w-full py-2"},z={class:"overflow-x-auto"},J={class:"min-w-full whitespace-no-wrap"},K={class:"border-b border-gray-200 bg-white p-1 text-sm"},M={class:"border-b border-gray-200 bg-white py-5 text-sm"},R={class:"text-gray-900 whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Z={class:"text-gray-900 whitespace-no-wrap"},q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},G={class:"text-gray-900 whitespace-no-wrap"},H={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},P={class:"text-gray-900 whitespace-no-wrap"},Q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},W={class:"text-gray-900 whitespace-no-wrap"},X={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},tt={class:"text-gray-900 whitespace-no-wrap"},et={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},ht={__name:"Index",props:{voto_auditoria:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},comunas:{type:Array,default:()=>[]}},setup(c){const u=c,w=[{url:"",text:"auditoria de votos"}];let a=y(u.eventos.find(s=>s.id==15)),i=y(u.filters.comuna??null);const k=()=>{x.get("/auditorias",{id_evento:a.value?a.value.id??a.value:null,comuna:i.value},{preserveState:!0,replace:!0})},S=s=>{const o=new Date(s),e=o.getFullYear(),p=String(o.getMonth()+1).padStart(2,"0"),l=String(o.getDate()).padStart(2,"0");return`${e}-${p}-${l}`},V=()=>{x.get("/auditorias",{id_evento:a.value?a.value.id??a.value:null,comuna:i.value},{preserveState:!0,replace:!0})},C=()=>{a.value=u.eventos.find(s=>s.id==15),i.value=null,x.get("/auditorias",{id_evento:a.value?a.value.id??a.value:null},{preserveState:!0,replace:!0})},A=function(s){let o=s.split(" "),e="",p=0;for(var l=0;l<o.length&&p<2;l++)o[l].length>0&&o[l]!==""&&(e+=o[l][0],p++);return e};return(s,o)=>(g(),b(h,null,[n(d(j),{title:"Auditoria votos"}),n(L,{breadCrumbLinks:w},{header:m(()=>o[2]||(o[2]=[v(" Auditoria votaciones ")])),default:m(()=>[t("div",B,[t("div",null,[n(d(_),{id:"eventos",modelValue:d(a),"onUpdate:modelValue":o[0]||(o[0]=e=>f(a)?a.value=e:a=e),options:c.eventos,filter:"",optionLabel:"nombre",placeholder:"Seleccione el evento",checkmark:"",highlightOnSelect:!1,onChange:V,class:"block w-full px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"])]),t("div",D,[t("div",O,[n(d(_),{id:"comunas",modelValue:d(i),"onUpdate:modelValue":o[1]||(o[1]=e=>f(i)?i.value=e:i=e),options:c.comunas,optionLabel:"label",filter:"",filterBy:"label",placeholder:"Seleccione comuna",showClear:"",class:"block w-full",onChange:k},null,8,["modelValue","options"])]),n(N,{class:"me-4 py-2 h-full",onClick:C},{default:m(()=>o[3]||(o[3]=[v(" Limpiar ")])),_:1})])]),t("div",I,[t("div",E,[t("div",T,[t("div",z,[t("table",J,[o[4]||(o[4]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{colspan:"2",class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Usuario "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Accion "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Tipo voto "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Ip Address "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," User Agent "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha de registro ")])],-1)),t("tbody",null,[(g(!0),b(h,null,F(c.voto_auditoria.data,e=>(g(),b("tr",{key:e.id,class:"text-gray-700"},[t("td",K,[n(d($),{label:A(e.usuario.name),class:"bg-indigo-200 text-indigo-800 text-xl",size:"large",shape:"circle"},null,8,["label"])]),t("td",M,[t("p",R,r(e.tipo_voto=="virtual"?"Usuario:":"Jurado:")+" "+r(e.usuario.name)+" - "+r(e.tipo_voto==="virtual"?e.usuario.identificacion:"")+" "+r(e.tipo_voto!=="virtual"&&e.voto?"Votante: "+e.voto.votante.nombre+" - "+e.voto.votante.identificacion:""),1)]),t("td",Y,[t("p",Z,r(e.accion),1)]),t("td",q,[t("p",G,r(e.tipo_voto),1)]),t("td",H,[t("p",P,r(e.ip_address),1)]),t("td",Q,[t("p",W,r(e.user_agent),1)]),t("td",X,[t("p",tt,r(S(e.created_at)),1)])]))),128))])])])])])]),t("div",et,[n(U,{links:c.voto_auditoria.links},null,8,["links"])])]),_:1})],64))}};export{ht as default};
