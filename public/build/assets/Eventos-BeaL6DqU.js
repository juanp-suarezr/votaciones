import{_ as g}from"./AuthenticatedLayout-D51hc2Kj.js";import{c as r,o as i,b as l,u as x,Z as y,d as c,e,F as _,k as h,t as a,j as d,n as k,Q as w}from"./app-_HIRO0Vk.js";import{_ as $}from"./PrimaryButton-cEKvO3ku.js";import{_ as E}from"./PrimaryLink-hC87Re_i.js";import"./index-Ch7Ycsiy.js";import"./index-CtEbDibL.js";import"./index-AeZJzp8P.js";import"./SecondaryButtonReturn-CaaCxJkk.js";import"./XCircleIcon-or2rBatm.js";const S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},V={class:"mt-4"},j={key:0},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"text-lg font-bold text-primary mb-2"},F={class:"text-sm text-gray-700 mb-2"},N={class:"text-xs text-gray-500 mb-1"},A={class:"text-xs text-gray-500 mb-1"},B={class:"text-xs text-gray-500 mb-1"},L={class:"mt-4 flex justify-end"},z={key:1,class:"text-center py-8 text-gray-500 block"},O={class:"mt-4"},I={__name:"Eventos",props:{eventos_hijos:{type:Object},votante:{type:Object}},setup(m){const o=m;console.log(o);const u=[{url:"",text:"Eventos para votar"}],v=n=>{if(!n)return"";const t=new Date(n),s=t.getFullYear(),p=String(t.getMonth()+1).padStart(2,"0"),b=String(t.getDate()).padStart(2,"0");return`${s}-${p}-${b}`},f=n=>{let t=o.eventos_hijos.length;window.location.href=route("votos-jurados.index",{id_votante:o.votante.id,evento:n.id,id_evento_padre:o.eventos_hijos[0].id_evento_padre,tipo_user:o.votante.hash_votantes.length!==0?o.votante.hash_votantes[0].tipo:"",subtipo_user:w().props.user.jurado.comuna,last_vote:t-1})};return(n,t)=>(i(),r(_,null,[l(x(y),{title:"Eventos para votar"}),l(g,{breadCrumbLinks:u},{header:c(()=>t[0]||(t[0]=[d(" Selección el evento para votar ")])),default:c(()=>[e("div",S,[t[5]||(t[5]=e("div",{class:"p-6 border-b border-gray-200"},[e("h1",{class:"text-xl font-bold"},"Eventos disponibles para votar")],-1)),e("div",V,[o.eventos_hijos&&o.eventos_hijos.length>0?(i(),r("div",j,[e("div",C,[(i(!0),r(_,null,h(o.eventos_hijos,s=>(i(),r("div",{key:s.eventos.id,class:"bg-gray-50 rounded-lg shadow-md p-6 flex flex-col justify-between"},[e("div",null,[e("h2",D,a(s.eventos.nombre),1),e("p",F,a(s.eventos.descripcion),1),e("p",N," Vigencia: "+a(v(s.eventos.fecha_inicio))+" - "+a(v(s.eventos.fecha_fin)),1),e("p",A,[t[1]||(t[1]=d(" Estado: ")),e("span",{class:k(s.eventos.estado==="Activo"?"text-green-600":"text-red-600")},a(s.eventos.estado),3)]),e("p",B," Dependencia: "+a(s.eventos.dependencias),1)]),e("div",L,[l($,{disabled:s.eventos.estado!=="Activo",onClick:p=>f(s.eventos),class:"w-full"},{default:c(()=>t[2]||(t[2]=[d(" Votar en este evento ")])),_:2},1032,["disabled","onClick"])])]))),128))])])):(i(),r("div",z,[t[4]||(t[4]=d(" No hay eventos disponibles para votar en este momento. ")),e("div",O,[l(E,{class:"block mt-2 flex flex-1 w-auto justify-center p-2",type:"button",href:n.route("votantesPresencial.create")},{default:c(()=>t[3]||(t[3]=[d(" Finalizar votación ")])),_:1},8,["href"])])]))])])]),_:1})],64))}};export{I as default};
