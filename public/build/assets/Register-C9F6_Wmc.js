import{x as Ne,T as Ge,y as Je,r as d,w as G,a as c,b as r,d as i,e as C,f as l,u as s,Z as Oe,m as L,g as V,F as J,h as K,t as j,v as W,z as re,q as he,j as w,n as k,i as we,p as Ie,k as ne}from"./app-CR4eLG3C.js";import{s as $e,P as He}from"./index-6qVbFC6j.js";import{_ as u}from"./InputError-B4DwiXNJ.js";import{_ as m}from"./InputLabel-DgDk-Bfr.js";import{_ as O}from"./PrimaryButton-yKpkmJG0.js";import{_ as Qe}from"./SecondaryButton-BFHQCxc0.js";import{_ as X}from"./Modal-Co7Yoz71.js";import{_ as g}from"./TextInput-BezEXE0D.js";import{s as Ve,t as Ye,e as Ke,c as We}from"./etnia-DKHhPr6m.js";import{s as Z}from"./index-BlekPLkw.js";import{s as Xe}from"./index-CNH_dxcj.js";import{c as Ze,d as ea,f as aa,b as oa}from"./cedulaBackEjemplo-DlBYF2rd.js";import{c as la}from"./comunas-ar-P-SJd.js";import{d as sa,T as ia,n as de}from"./FaceMatcher-DQZ88WER.js";import{r as _e}from"./PhotoIcon-B4QKtwPx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BcKcvVRW.js";import"./index-rTwsoCi1.js";import"./index-3eu0TXE4.js";import"./index-Be1fzYNM.js";import"./index-BXcERJ0D.js";import"./index-CO9cW3Zo.js";import"./index-C4qCvUrS.js";import"./index-DPFR-CHp.js";const ta=[{id:21,comuna:"Altagracia",barrios:["Altagracia","Canaveral","El Estanquillo","El Jazmin","El Kiosko","Filobonito","Guadualito","La Linda","La Una","Tinajas"]},{id:22,comuna:"Arabia",barrios:["Arabia","Betulia","Betulia Alta","El Hogar","Miralindo","Perez Alto","Perez Bajo","Santa Cruz de Barba","Tres Esquinas","Yarumal"]},{id:17,comuna:"Boston",barrios:["Olaya Herrera","Centenario","Mejia Robledo","La Lorena IV","Los Profesionales","La Lorena III","La Lorena II","Belalcazar","La Lorena I","La Platanera","El Vergel","Travesuras - La Churria","Los Almendros","Pereira","Providencia","Verona","Vasconia","Venecia","Ciudad Palermo","Santa Catalina II","La Laguna","Bosques de La Salle","Boston","La Florida","Las Gaviotas","Central","Tulcan I","Tulcan II","Tulcan III","Villa Del Sol","San Remo","San Luis Gonzaga","Villa Colombia","Terminal","La Unidad","Ciudad Pereira","La Arboleda","Guaduales de Canaan","Caminos de Canaan"]},{id:23,comuna:"Caimalito",barrios:["Azufral","Caimalito","La Carbonera","La Paz"]},{id:1,comuna:"Centro",barrios:["Sector Lago Uribe","San Esteban","Sector Plaza de Bolivar","Primero de Febrero","Sector Galeria Central","Sector Parque La Libertad","Bloques Primero de Febrero","Turin","Venecia","Los Periodistas","La Victoria","Santander","Buenos Aires","Ricardo Ramirez Carmona","Las Garzas","La Paz","Sector 30 de Agosto","Los Nogales"]},{id:24,comuna:"Cerritos",barrios:["Belmonte Bajo","Cerritos","Esperanza Galicia","Estacion Villegas","Galicia Alta","Quimbayita"]},{id:27,comuna:"Combia Alta",barrios:["Alto Erazo","Amoladora Alta","Amoladora Baja","Betania","La Convencion","La Esperanza","Llano Grande","Minas del Socorro","Pital de Combia","San Luis","San Vicente"]},{id:25,comuna:"Combia Baja",barrios:["Crucero de Combia","El Chaquiro","El Eden","El Pomo","Honda","La Bodega","La Carmelita","La Renta","La Siria","La Suecia","Maracaibo","San Marino","Santander"]},{id:4,comuna:"Consota",barrios:["El Rosal","Los Nogales","El Futuro","Villa Elena","Antonio Jose de Sucre","Porvenir","Restrepo","Plan Camilo","La Divisa","Villa de La Paz","Vendedores Ambulantes","Villa Cecilia","Villa Consota","Villa Verde","Normandia","Panorama I","Villa Andrea","Dorado II","Las Piramides","Quintas de Panorama I","Antonio Jose Valencia","Sanai II","Dorado I","Quintas de Panorama II","Naranjito","Aguas Claras","Bella Sardi","Miraflores *4","Mirador de Bella Sardi"]},{id:11,comuna:"Cuba",barrios:["San Fernando","Brisas Del Consota","La Playita","Cuba","Cortes","La Union","La Independencia *1","Rafael Uribe I","Barberos"]},{id:9,comuna:"Del Cafe",barrios:["Malaga *1","Altos de Llano Grande II *2","Altos de Llano Grande *2","Altos de Los Angeles","Nuevo Horizonte","Ciudad Boquia *1","Sector B","Ciudadela Comfamiliar Boquia","Horizontes","Carlos Enrique Soto","Antonio Ricaurte","Rincon Del Cafe","Alamos Del Cafe","Villa Del Cafe","Paz Verde","Villa Los Comunales"]},{id:5,comuna:"El Jardín",barrios:["Brasilia","Los Cedros","Sector 30 de Agosto","Maraya","Caminos de Maraya","Alcazar de Maraya","Jardin I","Mayorca","Jardin de Velez Y Velez","Rincon de Las Quintas","Los Quimbayas","Las Mangas","Niza I","Brasilia","Niza II","La Elvira","Los Andes","Jardin II","Villas Del Jardin III","Bosques de Santa Elena I","Jardin III","Villas Del Jardin II","Villas Del Jardin I","Los Arrayanes","Portal de Los Cedros","Balcones Condominio","Cedritos","Altos de Tananbi"]},{id:10,comuna:"El Poblado",barrios:["Poblado II","Poblado I","Rocio Bajo","Villa Del Prado","Balcones de Villa Del Prado","Villa Del Palmar","Hamburgo","Barajas","Cachipay","Samaria I","Samaria II"]},{id:19,comuna:"El Rocío",barrios:["Rocio Alto *3","Caracol La Curva *4"]},{id:7,comuna:"Ferrocarril",barrios:["La Libertad","Jose Hilario Lopez II","Gabriel Trujillo","Simon Bolivar","Nacederos","Jose Hilario Lopez I","Sureste de la Sierra","El Plumon Alto","Matecana","El Plumon","El Plumon Bajo","Torres de San Mateo","Portal de La Villa","La Hacienda","Nueva Esperanza"]},{id:28,comuna:"La Estrella -- La palmilla",barrios:["El Aguacate","El Contento","El Gurrio","La Estrella","La Mecenia","La Palmilla","La Selva"]},{id:26,comuna:"La Bella",barrios:["Canceles","El Chocho","El Rincon","La Bella","La Colonia","La Estrella Morron","Morron","Mundo Nuevo","Vista Hermosa"]},{id:29,comuna:"La Florida",barrios:["El Bosque","La Bananera","La Florida","La Laguna","La Suiza","Libare","Plan el Manzano","Porvenir","San Jose"]},{id:30,comuna:"Morelia",barrios:["Calle Larga","El Brillante","El Congolo","El Retiro","Frascate","La Bamba","Los Planes","Morelia","San Joaquin","Santa Teresa","Tres Puertas"]},{id:8,comuna:"Olímpica",barrios:["San Felipe","El Campin III","La Glorieta","Santa Monica","Villa Alicia","Alcazares","Altos de Belmonte","Canaveral II","Rincon de La Palma","El Pizamo","Pinar de Belmonte","Los Nogales","Los Arrevoles","Belmonte","El Palmar","Mirador de La Cien","Toluca","Samanes de Belmonte","El Campin I-II","Villa Ilusion","Multifamiliar La Villa","Villas de La Madrid","Gamma IV","Pinar de Gamma","La Villa","Gamma V","Santa Cruz de Gamma","Fegove","Gamma II","Alhambra","Rincon de La Villa","Alfa","Gamma III","Jardines de La Villa","Olimpico I","Olimpico II","Los Corales","Reserva de La Villa","Colores de La Villa"]},{id:18,comuna:"Oriente",barrios:["Paz Del Rio","Ormaza","Santander","La Pupi","20 de Julio","San Francisco","Hernando Velez Marulanda","Castano Robledo","Alfonso Lopez","Antonio Narino","Brisas Del Otun","Kennedy","El Pizamo","Cesar Nader Nader","Chico Restrepo","Arboleda Del Rio","Simon Bolivar","San Gregorio","La Rivera","Pimpollo - Libare","Altos Del Otun"]},{id:15,comuna:"Perla Del Otún",barrios:["La Francia","Gaviria Trujillo","La Albania","Heroes II","Metropolitano","Villa Kennedy","Heroes I","Departamento","Aranjuez","El Paraiso","Carlos Alberto Benavides","Villa Maria","Neyra Marquez","El Bosque","Sinai","La Policia","Villa Rocio","Los Almendros","Independientes"]},{id:32,comuna:"Puerto Caldas",barrios:["Puerto Caldas"]},{id:13,comuna:"Rio Otún",barrios:["Risaralda","Salazar Robledo","San Juan de Dios","Jose Antonio Galan","Nuevo Penol","Enrique Millan Rubio","La Sirena","San Jorge","Zea","El Progreso","San Juan","El Prado","Remigio Antonio Canarte","Santa Elena","Gualanday","La Esperanza","Santa Teresita","Salazar Londono","Jorge Eliecer Gaitan","Salvador Allende","Byron Gaviria","Jose Marti","Campina del Otun","Primero de Mayo","El Triunfo","Mirasol","Las Palmas","America","San Camilo","Getsemani","Colinas Del Triunfo","Constructores","San Antonio","Bavaria","La Palmera","Los Alcazares"]},{id:6,comuna:"San Joaquin",barrios:["Coralina","La Isla","Los Cisnes","Rafael Uribe II","Rafael Uribe III","Laureles I","El Crucero","Letras","Laureles II","Altos de Corales","Leningrado II","Plan Carvajal","Bello Horizonte","Santa Clara de Las Villas","Santa Juana de Las Villas","Portal de Corales","Leningrado III","Jose Maria Cordoba","Campo Alegre","Codelmar I","Perla Del Sur","Los Geranios","Los Conquistadores","Ciudadela Comfamiliar I","Puerta de Alcalá","Altavista","Codelmar II","Atenas","Codelmar III","San Joaquin","Guayacanes","Codelmar IV","Ciudadela Comfamiliar II","El Eden","Los Girasoles","El Cardal","Portales de Birmania","El Recreo","Portal de San Joaquin II","Gibraltar","Portal de San Joaquin I","San Marcos","Tinajas"]},{id:14,comuna:"San Nicolas",barrios:["Las Antillas","Nuevo Mejico","San Nicolas","Villa Mery","Brisas de Las Americas","Villa Nohemy","San Martin de Loba","La Dulcera"]},{id:31,comuna:"Tribunas Córcega",barrios:["Alegrias","Altamira","Cantamonos","Caracol la Curva","Condina","El Guayabo","El Jordan","El Manzano","El Rocio","Guayabal","Huertas","La Graminea","Laguneta","Montelargo","Naranjito","Tribunas Consota","Tribunas Corcega","Yarumito"]},{id:2,comuna:"Universidad",barrios:["Popular Modelo","Los Rosales","La Aurora","San Jose Sur","San Jose","La Julia","Los Alpes","La Ensenanza","Cambulos","Pinares de San Martin","Quintanar Del Cerro","Los Angeles","La Julita","Los Alamos","Ciudad Jardin","Villa Los Alamos","Canaan","Favi Utp","La Sierra","La Parcela","Puerta de Abacanto","El Bosque","Altos de Canaan"]},{id:12,comuna:"Villa Santana",barrios:["Bellavista","Monserrate","Veracruz","Veracruz II","Nuevo Plan","San Vicente","Comfamiliar Villasantana","Intermedio","Las Margaritas","El Otono","La Isla","El Danubio","Ciudadela Tokio","Las Brisas","Remanso"]},{id:16,comuna:"Villavicencio",barrios:["Los Andes","Villavicencio","Corocito","Berlin","Los Andes"]},{id:3,comuna:"El Oso",barrios:["Los Cristales","Quintas de Los Sauces","Portal de Las Mercedes","Los Pinos","Sauces I","Cinco de Octubre","Sauces V","Alameda","Sauces II","Guadalupe","La Floresta","Sauces III","San Felipe","Altos de Panorama","Los Prados","Villa Elisa","Sauces IV","La Habana","El Acuario","Quintas de La Acuarela I","Santafe","Quintas de La Acuarela II","La Acuarela","Terranova","Torres de La Acuarela","Mirador de Panorama II","Villa Del Bosque","Mirador de Panorama I","Libertador","Hacienda Cuba","Pueblito Paisa","Libertador II","La Idalia","Mirador de Panorama III","Vista Hermosa","La Bretana","Even-Ezer","Nueva Colombia","Villa Ligia III","La Nueva Villa","Jaime Pardo Leal","Olimpia","Villa Ligia","Alejandria","Villa Del Sur","Villa Navarra","Montelibano"]}],ra={class:"w-full sm:max-w-6xl h-full mx-auto bg-white shadow-lg rounded-lg px-4 sm:px-6 py-12 z-10"},na={class:"mt-4 justify-center"},da={class:"m-auto py-4"},ca={key:0,class:"sm:grid sm:grid-cols-2 gap-6 h-full"},ua={class:"mb-2"},ma={class:"mb-2"},pa={class:"mb-2"},va=["value"],fa={class:"mb-2"},ga={key:0,class:"cols-span-2 w-full mb-2"},ba={class:"mb-2 mt-1"},xa={key:0,class:""},ya={class:"mb-2"},Ca={key:0,class:"text-red-500"},La={class:"col-span-2 flex justify-end"},ha={key:1,class:"sm:grid sm:grid-cols-2 gap-6"},wa={class:"mb-2"},Ia={class:"mt-2 block sm:flex"},Va={class:""},_a={class:"sm:ms-6"},Sa={key:0,class:"sm:ms-6"},Ea={key:1,class:"sm:ms-6"},ka={class:"mb-2"},Pa=["value"],Aa={class:"mb-2"},Ba=["value"],Da={class:"w-full mb-2"},ja={class:"w-full flex flex-wrap gap-2 mt-1"},za={class:"mb-2"},Ma={class:"mb-2"},qa={class:"mb-2"},Ra={class:"mb-2"},Fa={class:"mb-2"},Ta={class:"my-4 col-span-2 mb-2"},Ua={class:"mb-4 col-span-2 mb-2"},Na={class:"col-span-2 flex justify-between gap-2"},Ga={class:"flex pt-4 justify-end"},Ja={class:"flex pt-4 justify-end h-full"},Oa={key:2,class:"gap-6"},$a={class:"sm:grid sm:grid-cols-2 gap-2 h-full sm:px-16 px-4"},Ha={class:"w-full h-full mt-4"},Qa={class:"w-full"},Ya=["src"],Ka={class:"mb-2 h-full flex justify-center items-center mt-4"},Wa={class:"border-2 border-gray-300 rounded-md p-2 h-full"},Xa={class:"flex justify-center"},Za=["src","alt"],eo={key:0,class:"flex justify-center mt-2"},ao={class:"sm:grid sm:grid-cols-2 gap-2 h-full sm:px-16 px-4"},oo={class:"w-full h-full mt-4"},lo={class:"w-full"},so=["src"],io={class:"mb-2 h-full flex justify-center items-center mt-4"},to={class:"border-2 border-gray-300 rounded-md p-2 h-full"},ro={class:"flex justify-center"},no=["src","alt"],co={key:0,class:"flex justify-center mt-2"},uo={class:"w-full gap-2 h-full sm:px-16 px-4 mt-4"},mo={class:"flex gap-4 mb-2"},po={key:0},vo={key:0,class:"mt-2"},fo=["src"],go={key:1},bo={key:0,class:"mt-2"},xo=["src"],yo={class:"w-full"},Co={class:"col-span-2 flex justify-between gap-2 mt-4"},Lo={class:"flex pt-4 justify-end"},ho={class:"flex pt-4 justify-end"},wo={key:3,class:"gap-6"},Io={class:"w-full mt-6"},Vo={class:"col-span-2 flex justify-between gap-2 mt-4"},_o={class:"flex pt-4 justify-end"},So={class:"flex pt-4 justify-end"},Eo={class:"flex justify-center my-12"},ko={class:"flex justify-center gap-4 text-center h-full my-12"},Po={class:"my-12 px-4"},Ao=["value"],Bo=["disabled"],Do={class:"flex justify-center gap-4 text-center h-full my-6"},il={__name:"Register",setup(jo){const b=Ne("$swal"),a=Ge({nombre:"",identificacion:"",tipo_documento:"",fecha_expedicion:"",lugar_expedicion:"",nacimiento:"",cedula_front:null,cedula_back:null,genero:"",etnia:"",condicion:"",direccion:"",celular:"",comuna:"",barrio:"",email:"",password:"",embedding:"",photo:"",validaciones:"",checked:!1,declaracion:!1,firma:"",recaptcha_token:"",campoObligatorio:"",codigo:""}),{executeRecaptcha:Se}=Je(),z=d(""),ce=d([]),ee=d(""),ae=d([]),P=d(null),M=d("imagen"),_=d(null);let oe=!1;const x=d(!1),ue=d(!0),Ee=d([{label:"Información Personal"},{label:"Datos Demográficos"},{label:"Registro datos"},{label:"Verificación"}]),ke=d([{label:"paso 1"},{label:"paso 2"},{label:"paso 3"},{label:"paso 4"}]),p=d(1),B=d(""),q=d(""),v=d(!1),I=d(!1),$=d(!1),A=d(!1),R=d(null),F=d(null),H=d([]),T=d(""),y=d(null),h=d(""),me=d(!1),S=d(!1),D=d(0);G($,t=>{t&&(a.genero="")}),G(z,t=>{t&&(ce.value=Ze.find(e=>e.id===t.id).ciudades)}),G(ee,t=>{t&&(a.comuna=t,ae.value=ta.find(e=>e.id===parseInt(t.value)).barrios,console.log(ae.value))});const le=(t,e)=>{if(a[t]=e.target.files[0],t==="cedula_front"){const o=new FileReader;o.onload=n=>{R.value=n.target.result},o.readAsDataURL(a[t])}else if(t==="cedula_back"){const o=new FileReader;o.onload=n=>{F.value=n.target.result},o.readAsDataURL(a[t])}else if(t=="firma"){const o=new FileReader;o.onload=n=>{P.value=n.target.result},o.readAsDataURL(file)}},pe=t=>{t===1?(a.cedula_front=null,R.value=null):t===2&&(a.cedula_back=null,F.value=null)},ve=t=>{oe=!0;const e=_.value.getContext("2d"),o=ge(t);e.beginPath(),e.moveTo(o.x,o.y)},fe=t=>{if(!oe)return;const e=_.value.getContext("2d"),o=ge(t);e.lineTo(o.x,o.y),e.strokeStyle="#222",e.lineWidth=2,e.stroke()},se=()=>{oe=!1},Pe=()=>{_.value.getContext("2d").clearRect(0,0,_.value.width,_.value.height),P.value=null,a.firma=null},Ae=()=>{_.value.toBlob(t=>{a.firma=new File([t],"firma.webp",{type:"image/webp"});const e=new FileReader;e.onload=o=>{P.value=o.target.result},e.readAsDataURL(a.firma)},"image/webp")},ge=t=>{const e=_.value.getBoundingClientRect();return t.touches&&t.touches.length>0?{x:t.touches[0].clientX-e.left,y:t.touches[0].clientY-e.top}:{x:t.offsetX,y:t.offsetY}},ie=t=>{p.value=t,v.value=!0},Be=async()=>{x.value=!0;try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(n=>n.stop()),await de.tinyFaceDetector.loadFromUri("/models/tiny_face_detector"),await de.faceRecognitionNet.loadFromUri("/models/face_recognition"),await de.faceLandmark68Net.loadFromUri("/models/face_landmark_68");const e=await navigator.mediaDevices.enumerateDevices();H.value=e.filter(n=>n.kind==="videoinput");const o=H.value.find(n=>n.label.toLowerCase().includes("user"))||H.value[0];console.log(o),T.value=(o==null?void 0:o.deviceId)||"",x.value=!1,I.value=!0,await ye(T.value)}catch(t){x.value=!1,D.value==3,console.error("Error al iniciar:",t),h.value="No se pudo acceder a la cámara."}},De=async()=>{h.value="",S.value=!0;const t=o=>parseInt(sessionStorage.getItem(o)||"0"),e=(o,n)=>sessionStorage.setItem(o,n.toString());if(!me.value){t("fallo_camara")+1,h.value="La cámara no está lista.",S.value=!1;return}try{const o=await sa(y.value,new ia).withFaceLandmarks().withFaceDescriptor();if(console.log("entro -- validador"),!o){S.value=!1,h.value="No se detectó un rostro.",D.value+=1;const f=document.createElement("canvas");f.width=y.value.videoWidth,f.height=y.value.videoHeight,f.getContext("2d").drawImage(y.value,0,0,f.width,f.height);const Q=await new Promise(Y=>f.toBlob(Y,"image/jpeg")),Ue=new File([Q],"photo.jpg",{type:"image/jpeg"});a.photo=Ue,D.value==3&&b.fire({title:"Error en validación",text:"Error, no se detectó un rostro, vuelve a intentar o avanzar con la imagen poco visible y posiblemente sin registro biométrico (alta probabilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(Y=>{Y.isConfirmed?(a.embedding="",a.validaciones="no_rostro",I.value=!1,A.value=!0):Y.dismiss===Swal.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),h.value="",D.value=0)});return}const n=o.descriptor;a.embedding=n,console.log("emb",n);const E=document.createElement("canvas");E.width=y.value.videoWidth,E.height=y.value.videoHeight,E.getContext("2d").drawImage(y.value,0,0,E.width,E.height);const U=await new Promise(f=>E.toBlob(f,"image/jpeg")),Te=new File([U],"photo.jpg",{type:"image/jpeg"});a.photo=Te;const Le=new FormData;Le.append("embedding",n),S.value=!1,I.value=!1,x.value=!0,ne.post(route("face-validate"),Le,{headers:{"Content-Type":"multipart/form-data"}}).then(f=>{h.value=f.data.message,console.log(f),S.value=!1,x.value=!1,f.data.match?b.fire({title:"Error en validación",text:"Usted ya tiene un registro biométrico. Si está seguro que no se ha registrado, puede volver a intentarlo o continuar (probabilidad de rechazo).",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(N=>{N.isConfirmed?(a.validaciones="registro_duplicado",I.value=!1,A.value=!0):N.dismiss===b.DismissReason.cancel&&console.log("Usuario decide volver a intentar")}):b({title:"Validación exitosa",text:"Validación biométrica exitosa",icon:"success",didClose:()=>{I.value=!1,A.value=!0}})}).catch(f=>{S.value=!1,x.value=!1,console.log(f);const N=t("fallo_registro")+1;e("fallo_registro",N),b.fire({title:"Error en validación",text:"Error en la validación, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(Q=>{Q.isConfirmed?(a.embedding="",a.validaciones="fallo_registro_biometrico",I.value=!1,A.value=!0):Q.dismiss===b.DismissReason.cancel&&console.log("Usuario decide volver a intentar")})})}catch(o){console.error(o),S.value=!1,x.value=!1,D.value==3&&b.fire({title:"Error en validación",text:"Error al procesar el rostro, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(n=>{n.isConfirmed?(a.embedding="",a.validaciones="fallo_registro",I.value=!1,A.value=!0):n.dismiss===b.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),h.value="",D.value=0)}),h.value="Error al procesar el rostro."}},je=()=>{if(!a.nacimiento)return q.value="Debes ingresar la fecha de nacimiento.",!1;const t=new Date,e=a.nacimiento,[o,n,E]=e.split("-").map(Number);let te=t.getFullYear()-o;const U=t.getMonth()-(n-1);return console.log(t.getMonth()),console.log(U),console.log(t.getDate()),(U<0||U===0&&t.getDate()<E)&&te--,te<14?(q.value="No cumple con el requisito de edad mínima (14 años), por lo tanto, no puede ejercer el derecho al voto.",!1):(q.value="",!0)},ze=async()=>{if(v.value=!1,a.nombre&&a.identificacion&&a.tipo_documento&&a.fecha_expedicion&&(a.lugar_expedicion||a.tipo_documento!="Cédula Ciudadanía")&&a.nacimiento){if(!je())return;B.value="";try{const t=await Me(a.identificacion);console.log("Identificación existe:",t),t?(B.value="La identificación ya está registrada.",v.value=!1):(B.value="",v.value=!0)}catch{B.value="Error al validar la identificación. Intenta de nuevo.",v.value=!1}}v.value?p.value=1:(a.nombre||(a.errors.nombre="Este campo es requerido."),(!a.identificacion||B.value!="")&&(a.errors.identificacion=B.value||"Este campo es requerido."),a.tipo_documento||(a.errors.tipo_documento="Este campo es requerido."),a.fecha_expedicion||(a.errors.fecha_expedicion="Este campo es requerido."),a.lugar_expedicion||(a.errors.lugar_expedicion="Este campo es requerido."),a.nacimiento||(a.errors.nacimiento="Este campo es requerido."))},Me=async t=>(await ne.post("/validar-identificacion",{identificacion:t})).data.existe,qe=t=>{switch(v.value=!1,t){case 1:ze();break;case 2:be();break}v.value&&(p.value=t)},be=()=>{v.value=!1,a.genero&&a.etnia&&a.condicion&&a.celular&&a.comuna&&a.barrio&&a.direccion&&a.email&&a.password&&a.checked&&a.declaracion&&(console.log(a.barrio),v.value=!0,p.value=2),v.value||(a.genero||(a.errors.genero="Este campo es requerido."),a.etnia||(a.errors.etnia="Este campo es requerido."),a.condicion||(a.errors.condicion="Este campo es requerido."),a.celular||(a.errors.celular="Este campo es requerido."),a.comuna||(a.errors.comuna="Este campo es requerido."),a.barrio||(a.errors.barrio="Este campo es requerido."),a.direccion||(a.errors.direccion="Este campo es requerido."),a.email||(a.errors.email="Este campo es requerido."),a.password||(a.errors.password="Este campo es requerido."),a.checked||(a.errors.checked="Este campo es requerido."),a.declaracion||(a.errors.declaracion="Este campo es requerido."))},Re=()=>{v.value=!1,a.cedula_front&&a.cedula_back&&a.firma&&(v.value=!0),v.value?Be():(a.cedula_front||(a.errors.cedula_front="Este campo es requerido."),a.cedula_back||(a.errors.cedula_back="Este campo es requerido."),a.firma||(a.errors.firma="Este campo es requerido"))},xe=async t=>{A.value=!1,x.value=!0,console.log(a.embedding);try{const e=new FormData;switch(t){case 0:e.append("via","correo");break;case 1:e.append("via","sms");break}const o=await Se("register");a.recaptcha_token=o,e.append("nombre",a.nombre),e.append("identificacion",a.identificacion),e.append("tipo_documento",a.tipo_documento),e.append("fecha_expedicion",a.fecha_expedicion),e.append("lugar_expedicion",a.lugar_expedicion),e.append("nacimiento",a.nacimiento),e.append("etnia",a.etnia),e.append("condicion",a.condicion),e.append("direccion",a.direccion),e.append("genero",a.genero),e.append("comuna",a.comuna),e.append("barrio",a.barrio),e.append("email",a.email),e.append("celular",a.celular),e.append("password",a.password),e.append("recaptcha_token",o),e.append("campoObligatorio",a.campoObligatorio);const n=await ne.post(route("validate-user"),e);x.value=!1,console.log(n),n.data.isSpam&&(a.validaciones="posible robot o spam"),b({title:"Código enviado",text:"Revisa tu correo o SMS para el código de verificación.",icon:"success"}),p.value=3}catch(e){console.error(e);let o="Hubo un problema al validar tu información. Por favor, inténtalo nuevamente.";if(e.response&&e.response.data&&e.response.data.errors){const n=e.response.data.errors;o=Object.values(n).flat().join(`
`)}b.fire({title:"Error",text:o,icon:"error"})}finally{x.value=!1}},Fe=()=>{a.post(route("create-user"),{onSuccess:()=>{b({title:"Registro realizado",text:"Registro de usuario realizado exitosamente. Para poder votar, se realizará internamente la validación de su información, el estado del tramite sera notificado a su correo.",icon:"success"}).then(t=>{window.location.href=route("welcome")}),sessionStorage.removeItem("fallo_camara"),sessionStorage.removeItem("fallo_registro"),sessionStorage.removeItem("registro_duplicado"),a.reset(),Ce()},onError:t=>{b({title:"Error",text:"Ocurrió un error al registrar el usuario.",icon:"error"}).then(e=>{p.value=0}),console.error(t)}})},ye=async t=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:t}}});y.value.srcObject=e,me.value=!0}catch(e){console.error("Error al iniciar cámara:",e),h.value="Error al iniciar la cámara."}};G(T,async t=>{t&&await ye(t)});const Ce=()=>{var e;const t=(e=y.value)==null?void 0:e.srcObject;t&&t.getTracks().forEach(o=>o.stop()),y.value.srcObject=null};return G(I,t=>{t==!1&&Ce()}),(t,e)=>(r(),c(J,null,[i(He,null,{default:C(()=>[i(s(Oe),{title:"Registro de Usuario"}),l("div",ra,[e[59]||(e[59]=l("h1",{class:"text-2xl font-bold text-center text-gray-800"}," Registro votante ",-1)),l("div",na,[i(s(Ve),{class:"hidden sm:block",model:Ee.value,activeStep:p.value,"onUpdate:activeStep":e[0]||(e[0]=o=>p.value=o)},null,8,["model","activeStep"]),i(s(Ve),{class:"sm:hidden block",model:ke.value,activeStep:p.value,"onUpdate:activeStep":e[1]||(e[1]=o=>p.value=o)},null,8,["model","activeStep"])]),l("form",da,[p.value==0?(r(),c("div",ca,[l("div",ua,[i(m,{for:"nombre",value:"Nombre Completo"}),i(g,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(a).nombre,"onUpdate:modelValue":e[2]||(e[2]=o=>s(a).nombre=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.nombre},null,8,["message"])]),l("div",ma,[i(m,{for:"identificacion",value:"Identificación"}),i(g,{id:"identificacion",type:"text",class:"mt-1 block w-full",modelValue:s(a).identificacion,"onUpdate:modelValue":e[3]||(e[3]=o=>s(a).identificacion=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.identificacion},null,8,["message"])]),l("div",pa,[i(m,{for:"tipo_documento",value:"Tipo de Documento"}),V(l("select",{id:"tipo_documento","onUpdate:modelValue":e[4]||(e[4]=o=>s(a).tipo_documento=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[41]||(e[41]=l("option",{value:"",disabled:""},"Seleccione tipo de documento",-1)),(r(!0),c(J,null,K(s(Ye),o=>(r(),c("option",{key:o.id,value:o.nombre},j(o.nombre),9,va))),128))],512),[[W,s(a).tipo_documento]]),i(u,{class:"mt-2",message:s(a).errors.tipo_documento},null,8,["message"])]),l("div",fa,[i(m,{for:"fecha_expedicion",value:"Fecha de Expedición"}),i(g,{id:"fecha_expedicion",type:"date",class:"mt-1 block w-full",modelValue:s(a).fecha_expedicion,"onUpdate:modelValue":e[5]||(e[5]=o=>s(a).fecha_expedicion=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.fecha_expedicion},null,8,["message"])]),s(a).tipo_documento!=="Cédula Extranjería"?(r(),c("div",ga,[i(m,{for:"lugar_expedicion",value:"Lugar de Expedición"}),l("div",ba,[i(s(Z),{id:"departamento",modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=o=>z.value=o),options:s(ea),filter:"",optionLabel:"departamento",placeholder:"Seleccione departamento",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"])]),s(a).tipo_documento!=="Pasaporte"?(r(),c("div",xa,[i(s(Z),{disabled:z.value===null||z.value==="",id:"lugar_expedicion",modelValue:s(a).lugar_expedicion,"onUpdate:modelValue":e[7]||(e[7]=o=>s(a).lugar_expedicion=o),options:ce.value,filter:"",optionLabel:"",placeholder:"Seleccione lugar de expedición",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["disabled","modelValue","options"])])):L("",!0),i(u,{class:"mt-2",message:s(a).errors.lugar_expedicion},null,8,["message"])])):L("",!0),l("div",ya,[i(m,{for:"nacimiento",value:"Fecha de Nacimiento"}),i(g,{id:"nacimiento",type:"date",class:"mt-1 block w-full",modelValue:s(a).nacimiento,"onUpdate:modelValue":e[8]||(e[8]=o=>s(a).nacimiento=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.nacimiento},null,8,["message"]),q.value?(r(),c("p",Ca,j(q.value),1)):L("",!0)]),l("div",La,[l("button",{type:"button",class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white p-2 rounded-md shadow-xl",onClick:e[9]||(e[9]=o=>qe(1))}," Siguiente ")])])):L("",!0),p.value==1?(r(),c("div",ha,[l("div",wa,[i(m,{for:"genero",value:"Género"}),l("div",Ia,[l("div",Va,[V(l("input",{type:"radio",id:"masculino",value:"Masculino","onUpdate:modelValue":e[10]||(e[10]=o=>s(a).genero=o)},null,512),[[re,s(a).genero]]),e[42]||(e[42]=l("label",{class:"ps-2 text-sm sm:text-base",for:"masculino"},"Masculino",-1))]),l("div",_a,[V(l("input",{type:"radio",id:"two",value:"Femenino","onUpdate:modelValue":e[11]||(e[11]=o=>s(a).genero=o)},null,512),[[re,s(a).genero]]),e[43]||(e[43]=l("label",{class:"ps-2 text-sm sm:text-base",for:"two"},"Femenino",-1))]),$.value?(r(),c("div",Sa,[i(m,{class:"sm:text-sm text-xs",for:"genero",value:"¿Cual?"}),i(g,{id:"genero",type:"text",class:"mt-1 block w-full p-0 sm:p-1",modelValue:s(a).genero,"onUpdate:modelValue":e[12]||(e[12]=o=>s(a).genero=o),autocomplete:"genero"},null,8,["modelValue"]),i(u,{class:"mt-1",message:s(a).errors.genero},null,8,["message"])])):(r(),c("div",Ea,[V(l("input",{type:"radio",id:"tres",value:"true","onUpdate:modelValue":e[13]||(e[13]=o=>$.value=o)},null,512),[[re,$.value]]),e[44]||(e[44]=l("label",{class:"ps-2 text-sm sm:text-base",for:"tres"},"Otro",-1))]))])]),l("div",ka,[i(m,{for:"etnia",value:"Grupo poblacional"}),V(l("select",{id:"etnia","onUpdate:modelValue":e[14]||(e[14]=o=>s(a).etnia=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[45]||(e[45]=l("option",{value:"",disabled:""}," Seleccione grupo poblacional perteneciente ",-1)),(r(!0),c(J,null,K(s(Ke),o=>(r(),c("option",{key:o.id,value:o.nombre},j(o.nombre),9,Pa))),128))],512),[[W,s(a).etnia]]),i(u,{class:"mt-2",message:s(a).errors.etnia},null,8,["message"])]),l("div",Aa,[i(m,{for:"condicion",value:"Condición poblacional"}),V(l("select",{id:"condicion","onUpdate:modelValue":e[15]||(e[15]=o=>s(a).condicion=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[46]||(e[46]=l("option",{value:"",disabled:""}," Seleccione condición poblacional ",-1)),(r(!0),c(J,null,K(s(We),o=>(r(),c("option",{key:o.id,value:o.nombre},j(o.nombre),9,Ba))),128))],512),[[W,s(a).condicion]]),i(u,{class:"mt-2",message:s(a).errors.condicion},null,8,["message"])]),l("div",Da,[l("div",null,[i(m,{for:"celular",value:"Celular"}),l("div",ja,[e[47]||(e[47]=l("div",{class:"flex items-center w-auto[20%] block p-2 border border-gray-400 bg-gray-100 rounded-md"},[l("p",null,"+57")],-1)),i(g,{id:"celular",type:"number",class:"w-[80%] flex",modelValue:s(a).celular,"onUpdate:modelValue":e[16]||(e[16]=o=>s(a).celular=o),required:""},null,8,["modelValue"])]),i(u,{class:"mt-2",message:s(a).errors.celular},null,8,["message"])])]),l("div",za,[i(m,{for:"comuna",value:"Comuna/Corregimiento"}),i(s(Z),{id:"comuna",modelValue:ee.value,"onUpdate:modelValue":e[17]||(e[17]=o=>ee.value=o),options:s(la),filter:"",optionLabel:"label",placeholder:"Seleccione comuna de dirección",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),i(u,{class:"mt-2",message:s(a).errors.comuna},null,8,["message"])]),l("div",Ma,[i(m,{for:"barrio",value:"Barrio/Vereda"}),i(s(Z),{id:"barrio",modelValue:s(a).barrio,"onUpdate:modelValue":e[18]||(e[18]=o=>s(a).barrio=o),options:ae.value,filter:"",placeholder:"Seleccione barrio/vereda de dirección",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),i(u,{class:"mt-2",message:s(a).errors.barrio},null,8,["message"])]),l("div",qa,[i(m,{for:"direccion",value:"Dirección"}),i(g,{id:"direccion",type:"text",class:"mt-1 block w-full",modelValue:s(a).direccion,"onUpdate:modelValue":e[19]||(e[19]=o=>s(a).direccion=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.direccion},null,8,["message"])]),l("div",Ra,[i(m,{for:"email",value:"Correo Electrónico"}),i(g,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(a).email,"onUpdate:modelValue":e[20]||(e[20]=o=>s(a).email=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.email},null,8,["message"])]),e[51]||(e[51]=l("div",{class:"mb-2"},[l("div",{class:"bg-azul rounded-md p-2 w-full h-full"},[l("p",{class:"text-white text-base"}," Asegúrese de que la contraseña sea facil de recordar para usted, ya que la necesitará para acceder a su cuenta en el momento de la votación. ")])],-1)),l("div",Fa,[i(m,{for:"password",value:"Contraseña (mínimo: 8 caracteres)"}),i(s($e),{id:"password",modelValue:s(a).password,"onUpdate:modelValue":e[21]||(e[21]=o=>s(a).password=o),required:"",toggleMask:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.password},null,8,["message"])]),l("div",Ta,[V(l("input",{type:"checkbox",id:"consentimiento1",name:"consentimiento1",required:"","onUpdate:modelValue":e[22]||(e[22]=o=>s(a).checked=o)},null,512),[[he,s(a).checked]]),e[48]||(e[48]=l("label",{for:"consentimiento1",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},[w("Conozco y Acepto la Política de Privacidad de Datos "),l("a",{href:"https://www.pereira.gov.co/publicaciones/38/politicas-de-privacidad-y-condiciones-de-uso/",target:"_blank",class:"underline !text-azul cursor-pointer"},"politica")],-1)),i(u,{class:"mt-1",message:s(a).errors.checked},null,8,["message"])]),l("div",Ua,[V(l("input",{type:"checkbox",id:"consentimiento2",name:"consentimiento2",required:"","onUpdate:modelValue":e[23]||(e[23]=o=>s(a).declaracion=o)},null,512),[[he,s(a).declaracion]]),e[49]||(e[49]=l("label",{for:"consentimiento2",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},[w("Manifiesto que acepto la "),l("a",{href:"https://www.pereira.gov.co/loader.php?lServicio=Tools2&lTipo=descargas&lFuncion=visorpdf&file=https%3A%2F%2Fwww.pereira.gov.co%2Floader.php%3FlServicio%3DTools2%26lTipo%3Ddescargas%26lFuncion%3DexposeDocument%26idFile%3D211273%26tmp%3De1c59e50ed23a13cda9087f627ac4f4d%26urlDeleteFunction%3Dhttps%253A%252F%252Fwww.pereira.gov.co%252Floader.php%253FlServicio%253DTools2%2526lTipo%253Ddescargas%2526lFuncion%253DdeleteTemporalFile%2526tmp%253De1c59e50ed23a13cda9087f627ac4f4d&pdf=1&tmp=e1c59e50ed23a13cda9087f627ac4f4d&fileItem=211273",target:"_blank",class:"underline !text-azul cursor-pointer"},"Declaración"),w(" juramentada")],-1)),i(u,{class:"mt-1",message:s(a).errors.declaracion},null,8,["message"])]),l("div",Na,[l("div",Ga,[l("button",{type:"button",onClick:e[24]||(e[24]=o=>ie(0)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),l("div",Ja,[i(O,{type:"button",class:k(["h-full",{"opacity-25":s(a).processing}]),onClick:be,disabled:s(a).processing},{default:C(()=>e[50]||(e[50]=[w(" Siguiente ")])),_:1},8,["class","disabled"])])])])):L("",!0),p.value==2?(r(),c("div",Oa,[l("div",$a,[e[53]||(e[53]=l("div",{class:"col-span-2 text-sm sm:text-base text-gray-800 pt-6"},[l("h3",{class:"text-lg font-semibold"}," Cargue documento de identificación parte frontal "),l("p",null," Para cargar el documento frontal, asegúrese de que la imagen sea clara y legible. El documento debe estar bien iluminado y sin reflejos. ")],-1)),l("div",Ha,[l("div",Qa,[e[52]||(e[52]=l("h4",null,"Ejemplo parte frontal",-1)),l("img",{src:s(aa),alt:"Documento Frontal ejemplo",class:"w-full h-full object-contain mt-2"},null,8,Ya)])]),l("div",Ka,[l("div",Wa,[i(g,{id:"cedula_front",type:"file",class:"mt-1 !border-0",accept:"image/*",onInput:e[25]||(e[25]=o=>le("cedula_front",o)),maxFileSize:2e6}),i(u,{class:"mt-2",message:s(a).errors.cedula_front},null,8,["message"]),l("div",Xa,[R.value?(r(),c("img",{key:0,src:R.value,alt:s(a).cedula_front,class:"w-4/6 h-full object-contain"},null,8,Za)):(r(),we(s(_e),{key:1,class:"w-2/6 text-gray-300 flex justify-center items-center"}))]),R.value?(r(),c("div",eo,[l("button",{onClick:e[26]||(e[26]=o=>pe(1)),type:"button",class:"bg-red-500 text-white px-4 py-2 rounded"}," Eliminar Imagen ")])):L("",!0)])])]),l("div",ao,[e[55]||(e[55]=l("div",{class:"col-span-2 text-sm sm:text-base text-gray-800 pt-6"},[l("h3",{class:"text-lg font-semibold"}," Cargue documento de identificación parte trasera "),l("p",null," Para cargar el documento en su parte trasera, asegúrese de que la imagen sea clara y legible. El documento debe estar bien iluminado y sin reflejos. ")],-1)),l("div",oo,[l("div",lo,[e[54]||(e[54]=l("h4",null,"Ejemplo parte trasera",-1)),l("img",{src:s(oa),alt:"Documento parte trasera ejemplo",class:"w-full h-full object-contain mt-2"},null,8,so)])]),l("div",io,[l("div",to,[i(g,{id:"cedula_back",type:"file",class:"mt-1 !border-0",accept:"image/*",onInput:e[27]||(e[27]=o=>le("cedula_back",o)),maxFileSize:2e6}),i(u,{class:"mt-2",message:s(a).errors.cedula_back},null,8,["message"]),l("div",ro,[F.value?(r(),c("img",{key:0,src:F.value,alt:s(a).cedula_back,class:"w-4/6 h-full object-contain"},null,8,no)):(r(),we(s(_e),{key:1,class:"w-2/6 text-gray-300 flex justify-center items-center"}))]),F.value?(r(),c("div",co,[l("button",{onClick:e[28]||(e[28]=o=>pe(2)),type:"button",class:"bg-red-500 text-white px-4 py-2 rounded"}," Eliminar Imagen ")])):L("",!0)])])]),l("div",uo,[i(m,{for:"firma",value:"Firma"}),l("div",mo,[l("button",{type:"button",class:k(["px-2 py-1 rounded",M.value==="imagen"?"bg-blue-600 text-white":"bg-gray-200"]),onClick:e[29]||(e[29]=o=>M.value="imagen")}," Cargar imagen ",2),l("button",{type:"button",class:k(["px-2 py-1 rounded",M.value==="canvas"?"bg-blue-600 text-white":"bg-gray-200"]),onClick:e[30]||(e[30]=o=>M.value="canvas")}," Dibujar firma ",2)]),M.value==="imagen"?(r(),c("div",po,[i(g,{id:"firma",type:"file",class:"mt-1 block w-full",accept:"image/*",onChange:e[31]||(e[31]=o=>le("firma",o)),maxFileSize:2e6}),i(u,{class:"mt-2",message:s(a).errors.firma},null,8,["message"]),P.value?(r(),c("div",vo,[l("img",{src:P.value,alt:"Vista previa de la firma",class:"h-24 border rounded"},null,8,fo)])):L("",!0)])):(r(),c("div",go,[l("canvas",{ref_key:"canvas",ref:_,height:"150",class:"border border-gray-400 rounded-md bg-white cursor-crosshair sm:w-[300px] w-[250px]",onMousedown:ve,onMousemove:fe,onMouseup:se,onMouseleave:se,onTouchstart:Ie(ve,["prevent"]),onTouchmove:Ie(fe,["prevent"]),onTouchend:se},null,544),l("div",{class:"flex gap-2 mt-1"},[l("button",{type:"button",onClick:Pe,class:"text-xl sm:text-2xl text-blue-600 underline"}," Limpiar "),l("button",{type:"button",onClick:Ae,class:"text-xl sm:text-2xl text-green-600 underline"}," Usar firma ")]),i(u,{class:"mt-2",message:s(a).errors.firma},null,8,["message"]),P.value?(r(),c("div",bo,[l("img",{src:P.value,alt:"Vista previa de la firma",class:"h-24 border rounded"},null,8,xo)])):L("",!0)]))]),l("div",yo,[i(g,{id:"campo_obligatorio",type:"text",class:"mt-1 !border-0 hidden",modelValue:s(a).campoObligatorio,"onUpdate:modelValue":e[32]||(e[32]=o=>s(a).campoObligatorio=o)},null,8,["modelValue"])]),l("div",Co,[l("div",Lo,[l("button",{type:"button",onClick:e[33]||(e[33]=o=>ie(1)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),l("div",ho,[i(O,{type:"button",onClick:Re,class:k({"opacity-25":s(a).processing}),disabled:s(a).processing},{default:C(()=>e[56]||(e[56]=[w(" Siguiente ")])),_:1},8,["class","disabled"])])])])):L("",!0),p.value==3?(r(),c("div",wo,[e[58]||(e[58]=l("div",{class:"text-sm sm:text-base text-gray-800 pt-6 sm:px-16 px-4"}," Ingrese el código de verificación que le fue enviado a su correo o celular. Si no recibió el código, por favor revise su bandeja de entrada o carpeta de spam. o vuelva a atrás y valide nuevamente. ",-1)),l("div",Io,[i(m,{for:"codigo",value:"Código de Verificación"}),i(g,{id:"codigo",type:"text",class:"mt-1 block w-full",modelValue:s(a).codigo,"onUpdate:modelValue":e[34]||(e[34]=o=>s(a).codigo=o),required:""},null,8,["modelValue"]),i(u,{class:"mt-2",message:s(a).errors.codigo},null,8,["message"])]),l("div",Vo,[l("div",_o,[l("button",{type:"button",onClick:e[35]||(e[35]=o=>ie(0)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),l("div",So,[i(O,{type:"button",onClick:Fe,class:k({"opacity-25":s(a).processing}),disabled:s(a).processing},{default:C(()=>e[57]||(e[57]=[w(" Registrarse ")])),_:1},8,["class","disabled"])])])])):L("",!0)])])]),_:1}),i(X,{show:x.value,closeable:!1},{default:C(()=>[e[60]||(e[60]=l("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Cargando datos... ",-1)),l("div",Eo,[i(s(Xe),{"aria-label":"Loading"})])]),_:1},8,["show"]),i(X,{show:A.value,closeable:!1},{default:C(()=>[e[63]||(e[63]=l("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Validar por código de verificación ",-1)),l("div",ko,[i(O,{type:"button",class:k(["h-full",{"opacity-25":s(a).processing}]),onClick:e[36]||(e[36]=o=>xe(0)),disabled:s(a).processing},{default:C(()=>e[61]||(e[61]=[w(" Validar con correo ")])),_:1},8,["class","disabled"]),i(Qe,{onClick:e[37]||(e[37]=o=>xe(1)),class:k({"opacity-25":s(a).processing}),disabled:s(a).processing},{default:C(()=>e[62]||(e[62]=[w(" Validar con sms ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"]),i(X,{show:I.value,closeable:!0},{default:C(()=>[e[65]||(e[65]=l("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex flex-wrap tex-center justify-center bg-azul text-white"}," Validación Biométrica ",-1)),e[66]||(e[66]=l("div",{class:"mt-4 px-4"},[l("p",{class:"text-sm sm:text-base text-gray-800"}," Por favor, asegúrese de que su rostro esté bien iluminado y visible en la cámara (sin gorras, tapabocas, gafas). ")],-1)),l("div",Po,[e[64]||(e[64]=l("label",{for:"camera"},"Seleccionar cámara:",-1)),V(l("select",{id:"camera","onUpdate:modelValue":e[38]||(e[38]=o=>T.value=o),class:"rounded-lg w-auto ms-4"},[(r(!0),c(J,null,K(H.value,o=>(r(),c("option",{key:o.deviceId,value:o.deviceId},j(o.label||"Cámara desconocida"),9,Ao))),128))],512),[[W,T.value]]),l("video",{ref_key:"video",ref:y,autoplay:"",muted:"",width:"400",height:"340",class:"rounded-xl shadow-lg flex mx-auto mt-6"},null,512),l("button",{type:"button",disabled:S.value,class:"bg-secondary hover:bg-primary text-sm sm:text-base text-white p-2 rounded-md shadow-xl flex mx-auto mt-4 disabled:bg-gray-500",onClick:e[39]||(e[39]=o=>De())}," Validar ",8,Bo),w(" "+j(h.value),1)])]),_:1},8,["show"]),i(X,{show:ue.value,closeable:!0},{default:C(()=>[e[68]||(e[68]=l("h2",{class:"p-4 sm:text-4xl text-2x font-bold text-gray-800 text-justify flex tex-center justify-center bg-azul text-white"}," Aviso Importante para el proceso de registro ",-1)),e[69]||(e[69]=l("div",{class:"text-justify sm:text-2xl text-xl p-6 mt-6"},[l("p",null," El dispositivo que utilice para registrarse debe contar con cámara, ya que es un requisito indispensable para la validación de identidad. "),l("br"),l("p",null," Asegúrese de ingresar correctamente toda la información solicitada, ya que cualquier error podría resultar en el rechazo. ¡Recuerde! solo tiene tres oportunidades para registrarse. "),l("br"),l("p",null," Al momento de seleccionar su comuna o corregimiento, hágalo con precisión. Recuerde que el derecho al voto solo podrá ejercerse una única vez y no habrá posibilidad de repetir el proceso. ")],-1)),l("div",Do,[i(O,{type:"button",class:k(["h-full text-xl sm:text-2xl",{"opacity-25":s(a).processing}]),onClick:e[40]||(e[40]=o=>ue.value=!1),disabled:s(a).processing},{default:C(()=>e[67]||(e[67]=[w(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])],64))}};export{il as default};
