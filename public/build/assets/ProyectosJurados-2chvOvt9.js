import{x as A,T as B,r as f,s as R,w as F,c as p,o as m,e as t,G as I,b as c,f as $,l as G,H,u as r,I as J,j as a,B as K,h as C,d as v,n as j,Z as W,p as S,F as z,k as Y,t as x}from"./app-DaiiQnI_.js";import{_ as Z}from"./BreadCrumb-BFbxfF6p.js";import{_ as V}from"./PrimaryButton-BV1Ej7MG.js";import{r as Q,a as P}from"./XCircleIcon-DIzxk-Nh.js";import{s as X}from"./index-B2Ny41gf.js";import{s as tt}from"./index-eKr6zlM1.js";import{c as et}from"./comunas-DceGOULS.js";import{_ as st}from"./Modal-Beuv1sB1.js";import"./index-B4UKjXJh.js";import"./index-BnhJiZ5l.js";const ot={class:"flex h-screen bg-gray-200 font-roboto"},lt={class:"flex flex-1 flex-col overflow-hidden"},it={class:"flex-1 overflow-y-auto mb-4 overflow-x-hidden bg-gray-200"},rt={class:"w-full flex justify-between items-center h-auto p-2 px-4 bg-azul shadow-lg"},nt={class:"min-[300px]:text-sm md:text-md lg:text-lg font-medium text-white"},at={class:"mx-auto px-6 pt-4"},dt={class:"mx-auto px-6 py-8 relative"},ut={class:"lg:block fixed right-4 top-[25%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},ct={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},mt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},xt={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},pt={class:"mb-2"},bt={class:"mb-2"},ft={class:"mb-2"},vt={class:"mb-2"},gt={class:"mb-2 hidden"},O="panel_visible",yt={__name:"SimpleLayout",props:{breadCrumbLinks:{type:Array,default:()=>[]}},setup(g){const y=A("$swal"),i=B({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""});console.log(g);const d=f(!1);R(()=>{const u=localStorage.getItem(O);u!==null?d.value=u==="true":d.value=window.innerWidth>=768}),F(d,u=>{localStorage.setItem(O,u)});const w=()=>{d.value=!d.value},_=()=>{i.post(route("enviarSolicitud"),{onSuccess:function(){y({title:"Solicitud enviada con Ã©xito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirÃ¡ respuesta",icon:"success"}).then(()=>{d.value=!1})},onError:function(){y({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(u,s)=>(m(),p("div",ot,[t("div",lt,[t("main",it,[t("div",rt,[t("h3",nt,[I(u.$slots,"header")])]),t("div",at,[c(Z,{links:g.breadCrumbLinks},null,8,["links"])]),t("div",dt,[I(u.$slots,"default"),t("button",{onClick:w,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar informaciÃ³n"},[(m(),G(H(d.value?r(Q):r(P)),{class:"w-6 h-6 lg:w-8 lg:h-8"}))]),$(t("div",ut,[t("div",ct,[t("h4",mt,[c(r(P),{class:"h-4 w-4"}),s[5]||(s[5]=a(" Â¿Necesitas soporte? "))]),t("div",xt,[s[12]||(s[12]=t("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),t("form",{onSubmit:K(_,["prevent"])},[t("div",pt,[s[6]||(s[6]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),$(t("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>r(i).nombre=n),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).nombre]])]),t("div",bt,[s[7]||(s[7]=t("label",{class:"text-xs md:text-sm text-gray-700"},"IdentificaciÃ³n",-1)),$(t("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>r(i).identificacion=n),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).identificacion]])]),t("div",ft,[s[8]||(s[8]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),$(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>r(i).celular=n),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).celular]])]),t("div",vt,[s[9]||(s[9]=t("label",{class:"text-xs md:text-sm text-gray-700"},"DescripciÃ³n",-1)),c(r(X),{modelValue:r(i).descripcion,"onUpdate:modelValue":s[3]||(s[3]=n=>r(i).descripcion=n),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),t("div",gt,[s[10]||(s[10]=t("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),$(t("input",{"onUpdate:modelValue":s[4]||(s[4]=n=>r(i).campo_obligatorio=n),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[C,r(i).campo_obligatorio]])]),c(V,{class:j(["mt-2",{"opacity-25":r(i).processing}]),disabled:r(i).processing},{default:v(()=>s[11]||(s[11]=[a(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[J,d.value]])])])])]))}},wt={class:"items-center flex flex-col justify-center mx-2"},_t={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},ht={class:"mx-auto w-full flex justify-center items-center"},$t={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},kt={class:"m-auto sm:text-4xxl text-xxl object-cover"},Ct={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},jt=["src"],Vt={class:"mt-4 mx-auto"},Nt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},St={class:"sm:text-2xl text-xl text-justify"},Et={class:"sm:text-2xl text-xl text-justify"},It=["onClick"],zt={class:"mt-4 mx-auto"},Pt={class:"mx-auto"},Ot={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},At=["src"],Bt={class:"mt-8 mx-auto"},Dt={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Lt={class:"bg-white p-6 rounded-lg w-full"},Mt={class:"mb-4 text-base sm:text-2xl"},Ut={class:"mb-4 text-base sm:text-2xl"},Tt={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},qt={class:"bg-white p-6 rounded-lg w-full"},Rt={class:"flex flex-wrap gap-8 mt-4 text-base sm:text-4xl"},Ft={class:"w-auto border-r pr-2 border-gray-600"},Gt={class:"w-auto pr-2"},Ht={class:"mt-6 text-base sm:text-4xl"},Jt={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6 mt-6"},Kt={class:"flex justify-center gap-4 text-center h-full my-6"},ie={__name:"ProyectosJurados",props:{proyectos:Object,votante:Object,last_vote:Number},setup(g){const y=A("$swal"),i=g;console.log(i);const b=B({isProyecto:!0,id_votante:i.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",subtipo:0,estado:"Activo",last_vote:i.last_vote?parseInt(i.last_vote):0}),d=f(!1),w=f(!1),_=f(!1),u=f({proyecto:{detalle:""}}),s=f(0),n=f([]),D=function(o){let e=o.split(" "),l="",k=0;for(var h=0;h<e.length&&k<2;h++)e[h].length>0&&e[h]!==""&&(l+=e[h][0],k++);return l},L=o=>`/storage/uploads/usuarios/${o}`,M=o=>`/storage/uploads/proyectos/${o}`,N=o=>{var e;return console.log(o),(e=et.find(l=>l.value==o))==null?void 0:e.label},U=(o,e)=>o?o.length>e?o.substring(0,e)+"...":o:"",T=o=>{u.value=o,w.value=!0},E=o=>{n.value=o,console.log(o),b.id_candidato=o?o.id_proyecto:0,b.id_eventos=o?o.id_evento:i.proyectos[0].id_evento,b.tipo=o?o.proyecto.tipo:i.proyectos[0].proyecto.tipo,b.subtipo=o?o.proyecto.subtipo:i.proyectos[0].proyecto.subtipo,s.value=o?o.id:null,_.value=!0},q=()=>{b.post(route("votos.store"),{onSuccess:()=>y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success"}),onError:()=>y({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})};return(o,e)=>(m(),p(z,null,[c(r(W),{title:"Votaciones"}),c(yt,null,{header:v(()=>e[5]||(e[5]=[a(" Votaciones ")])),default:v(()=>[t("div",wt,[t("div",_t,[(m(!0),p(z,null,Y(g.proyectos,l=>(m(),p("div",{key:l.id,class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",s.value===l.id?"border-4 border-red-500":""])},[t("div",ht,[l.proyecto.imagen=="NA"?(m(),p("div",$t,[t("p",kt,x(D(l.proyecto.detalle)),1)])):(m(),p("div",Ct,[t("img",{src:M(l.proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,jt)]))]),c(r(tt),{value:N(l.proyecto.subtipo),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2"},null,8,["value"]),t("div",Vt,[t("h2",Nt," Proyecto -- "+x(l.proyecto.numero_tarjeton),1),t("p",St,[e[6]||(e[6]=t("b",null,"Nombre Proyecto:",-1)),e[7]||(e[7]=a()),e[8]||(e[8]=t("br",null,null,-1)),a(" "+x(l.proyecto.detalle),1)]),t("p",Et,[e[9]||(e[9]=t("b",null,"DescripciÃ³n:",-1)),e[10]||(e[10]=a()),e[11]||(e[11]=t("br",null,null,-1)),a(" "+x(U(l.proyecto.descripcion,80))+" ",1),l.proyecto.descripcion.length>80?(m(),p("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:k=>T(l)}," Ver mÃ¡s ",8,It)):S("",!0)])]),t("div",zt,[c(V,{type:"button",onClick:k=>E(l),class:"sm:text-2xl text-xl"},{default:v(()=>e[12]||(e[12]=[a(" Votar ")])),_:2},1032,["onClick"])])],2))),128)),t("div",{class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",s.value===null?"border-4 border-red-500":""])},[t("div",Pt,[t("div",Ot,[t("img",{src:L("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,At)])]),e[14]||(e[14]=t("div",{class:"mt-6 mx-auto"},[t("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[a(" VOTO "),t("br"),a(" EN BLANCO ")])],-1)),t("div",Bt,[c(V,{type:"button",onClick:e[0]||(e[0]=l=>E(null)),class:"sm:text-2xl text-xl"},{default:v(()=>e[13]||(e[13]=[a(" Votar ")])),_:1})])],2)])]),w.value?(m(),p("div",Dt,[t("div",Lt,[e[16]||(e[16]=t("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),t("p",Mt,x(u.value.proyecto.detalle),1),t("p",Ut,[e[15]||(e[15]=t("b",null,"DescripciÃ³n:",-1)),a(" "+x(u.value.proyecto.descripcion),1)]),t("button",{onClick:e[1]||(e[1]=l=>w.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):S("",!0),_.value?(m(),p("div",Tt,[t("div",qt,[e[20]||(e[20]=t("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," ðŸ—³ï¸ Confirmar voto ",-1)),e[21]||(e[21]=t("p",{class:"mb-4 text-base sm:text-4xl"},[t("span",{class:"text-lg sm:text-5xl font-bold"},"EstÃ¡ a punto de votar por el siguiente proyecto:")],-1)),t("div",Rt,[t("div",Ft,[e[17]||(e[17]=t("span",{class:"text-gray-600"},"NÃºmero Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025"),1)]),t("div",Gt,[e[18]||(e[18]=t("span",{class:"text-gray-600"},"Comuna/Corregimiento:",-1)),a(" "+x(n.value?N(n.value.proyecto.subtipo):N(g.proyectos[0].proyecto.subtipo)),1)])]),t("div",Ht,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"Nombre Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.detalle:"VOTO EN BLANCO"),1)]),t("div",Jt,[t("button",{onClick:e[2]||(e[2]=l=>_.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),t("button",{onClick:e[3]||(e[3]=l=>q()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):S("",!0),c(st,{show:d.value,closeable:!0},{default:v(()=>[e[23]||(e[23]=t("h2",{class:"p-4 sm:text-4xl text-2x font-bold text-gray-800 flex text-center justify-center bg-azul text-white"}," Aviso Importante para el proceso de votaciÃ³n ",-1)),e[24]||(e[24]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 mt-6"},[t("p",null," Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad para realizar esta acciÃ³n. ")],-1)),t("div",Kt,[c(V,{type:"button",class:j(["h-full text-xl sm:text-2xl",{"opacity-25":r(b).processing}]),onClick:e[4]||(e[4]=l=>d.value=!1),disabled:r(b).processing},{default:v(()=>e[22]||(e[22]=[a(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{ie as default};
