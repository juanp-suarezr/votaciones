import{x as w,T as y,q as k,w as V,c as p,o as b,b as o,u as a,Z as E,d as m,e as t,B as F,f as c,h,p as z,v as R,n as q,j as _,t as d,F as B}from"./app-DBynX_kZ.js";import{_ as L}from"./AuthenticatedLayout-B_sZcMku.js";import{_ as $}from"./TextInput-BDh6tyE7.js";import{_ as n}from"./InputError-jXqMNt0z.js";import{_ as A}from"./PrimaryButton-B4WpOC4W.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-CgziaVXF.js";import"./SecondaryButtonReturn-D0wU4p8Y.js";import"./XCircleIcon-5c1YZfG3.js";import"./index-BI0vAaGz.js";import"./index-tScNY0Mt.js";import"./index-Bq6QDKzT.js";const C={class:"w-full grid md:grid-cols-3 gap-4"},N={class:"md:col-span-2 p-4 bg-white rounded-md shadow-md h-full"},S={class:"mb-4"},U={class:"mb-4"},j={class:"mb-4"},M=["min"],T={key:0,class:"text-red-500 text-sm mt-2"},D={class:"mb-4"},I={class:"mt-4 flex flex-col items-end"},O={class:"md:col-span-1 flex flex-col items-center h-full p-5 bg-white shadow-sm rounded-md"},P={class:"p-4 md:p-5 w-full border border-gray rounded-md shadow-sm"},Z={class:"mb-6"},G={class:""},H={class:"mb-8"},J={class:"mb-8"},lt={__name:"Edit",props:{ruta:Object},setup(g){const u=w("$swal"),r=g,s=y({path:r.ruta.path,fecha_inicio:r.ruta.fecha_inicio,fecha_fin:r.ruta.fecha_fin,estado:r.ruta.estado}),x=[{url:"/rutas",text:"Listado de rutas"},{url:"",text:"Editar ruta "+r.ruta.path}],l=k(()=>s.fecha_inicio&&s.fecha_fin&&s.fecha_fin<s.fecha_inicio);V(()=>s.fecha_inicio,f=>{s.fecha_fin&&s.fecha_fin<f&&(s.fecha_fin="")});const v=()=>{if(l.value){u({title:"Fechas inválidas",text:"La fecha fin no puede ser menor a la fecha inicio.",icon:"warning"});return}s.patch(route("rutas.update"),{onSuccess:()=>u({title:"Registro Actualizado",text:"La ruta se ha actualizado exitosamente",icon:"success"}).then(()=>{window.location=route("rutas.index")}),onError:()=>{u({title:"Error",text:"Ocurrió un error al actualizar la ruta.",icon:"error"})}})};return(f,e)=>(b(),p(B,null,[o(a(E),{title:"Agregar ruta"}),o(L,{breadCrumbLinks:x},{header:m(()=>e[4]||(e[4]=[_(" Editar Ruta ")])),default:m(()=>[t("div",C,[t("div",N,[e[11]||(e[11]=t("h2",{class:"text-lg font-bold mb-4"},"Editar Ruta/path",-1)),t("form",{onSubmit:F(v,["prevent"]),class:"sm:grid sm:grid-cols-2 gap-4"},[t("div",S,[e[5]||(e[5]=t("label",{for:"ruta",class:"block text-sm font-medium text-gray-700 mb-2"},"Ruta o Path",-1)),o($,{id:"ruta",type:"text",class:"mt-1 block w-full",modelValue:a(s).path,"onUpdate:modelValue":e[0]||(e[0]=i=>a(s).path=i),required:"",autofocus:"",autocomplete:"ruta"},null,8,["modelValue"]),o(n,{class:"mt-2",message:a(s).errors.path},null,8,["message"])]),t("div",U,[e[6]||(e[6]=t("label",{for:"fecha_inicio",class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha inicio",-1)),c(t("input",{id:"fecha_inicio",type:"date",class:"mt-1 block w-full border border-gray-300 rounded-lg p-2","onUpdate:modelValue":e[1]||(e[1]=i=>a(s).fecha_inicio=i),required:""},null,512),[[h,a(s).fecha_inicio]]),o(n,{class:"mt-2",message:a(s).errors.fecha_inicio},null,8,["message"])]),t("div",j,[e[7]||(e[7]=t("label",{for:"fecha_fin",class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha fin",-1)),c(t("input",{id:"fecha_fin",type:"date",class:"mt-1 block w-full border border-gray-300 rounded-lg p-2","onUpdate:modelValue":e[2]||(e[2]=i=>a(s).fecha_fin=i),min:a(s).fecha_inicio,required:""},null,8,M),[[h,a(s).fecha_fin]]),o(n,{class:"mt-2",message:a(s).errors.fecha_fin},null,8,["message"]),l.value?(b(),p("p",T," La fecha fin no puede ser menor a la fecha inicio. ")):z("",!0)]),t("div",D,[e[9]||(e[9]=t("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),c(t("select",{id:"estado","onUpdate:modelValue":e[3]||(e[3]=i=>a(s).estado=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2"},e[8]||(e[8]=[t("option",{value:"1"},"Activo",-1),t("option",{value:"0"},"Bloqueado",-1)]),512),[[R,a(s).estado]]),o(n,{class:"mt-2",message:a(s).errors.estado},null,8,["message"])]),t("div",I,[o(A,{class:q({"opacity-25":a(s).processing||l.value}),disabled:a(s).processing||l.value},{default:m(()=>e[10]||(e[10]=[_(" Registrar Ruta ")])),_:1},8,["class","disabled"])])],32)]),t("div",O,[t("div",P,[t("div",Z,[e[12]||(e[12]=t("h3",{class:"pb-4"},[t("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Ruta ")],-1)),t("p",G,d(a(s).path),1)]),t("div",H,[e[13]||(e[13]=t("h3",{class:"mb-3"},[t("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Fechas ")],-1)),t("p",null,"Inicio: "+d(a(s).fecha_inicio),1),t("p",null,"Fin: "+d(a(s).fecha_fin),1)]),t("div",J,[e[14]||(e[14]=t("h3",{class:"mb-3"},[t("span",{class:"bg-azul text-white px-2 py-1 rounded-md shadow-md"}," Estado ")],-1)),t("p",null,d(a(s).estado===1||a(s).estado==="1"?"Activo":"Bloqueado"),1)])])])])]),_:1})],64))}};export{lt as default};
