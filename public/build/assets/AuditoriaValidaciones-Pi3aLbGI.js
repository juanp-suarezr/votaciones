import{_ as A}from"./AuthenticatedLayout-BQIl2BF9.js";import{r as m,c as b,o as g,b as i,u as n,Z as V,d as x,e,i as j,j as f,F as y,k as C,t as o,n as L,N as h}from"./app-CBqHvW8C.js";import{_ as N}from"./SecondaryButton-B4qL0n6O.js";import{_ as S}from"./Pagination-B_NOjFFd.js";import{s as O}from"./index-BdEM69ib.js";import{s as z}from"./index-Bkk51Bxs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-C3HiFDz2.js";import"./SecondaryButtonReturn-B7dR5jHN.js";import"./PrimaryButton-BT4YXFgN.js";import"./XCircleIcon-Dagq2c8g.js";import"./index-DLLD8a-c.js";import"./index-BlI2lmZw.js";import"./index-DRkE7_DR.js";import"./index-BuuzLGsb.js";import"./index-B29ZFQax.js";import"./index-DSSBWXmK.js";import"./index-W_N9et3L.js";const B={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},F={class:"flex gap 4 p-4"},U={class:"flex flex-col overflow-x-auto"},$={class:"inline-block rounded-lg shadow"},D={class:"inline-block min-w-full py-2"},E={class:"overflow-x-auto"},I={class:"min-w-full whitespace-no-wrap"},R={class:"border-b border-gray-200 bg-white p-1 text-sm"},K={class:"border-b border-gray-200 bg-white py-5 text-sm"},T={class:"text-gray-900 whitespace-no-wrap"},Z={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},G={class:"text-gray-900 whitespace-no-wrap"},H={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},J={class:"text-gray-900 whitespace-no-wrap"},M={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},P={class:"text-gray-900 whitespace-no-wrap"},Q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},W={class:"text-gray-900 whitespace-no-wrap"},X={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},fe={__name:"AuditoriaValidaciones",props:{auditoria_registro:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(d){const c=d,_=[{url:"",text:"auditoria/historial validaciones"}];let p=m(c.filters.id_user??""),a=m(c.eventos.find(s=>s.id==15));const v=()=>{h.get("/auditoria-validaciones",{id_evento:a.value.id,id_user:p.value.id},{preserveState:!0,replace:!0})},w=()=>{p.value=null,a.value=c.eventos.find(s=>s.id==15),h.get("/auditoria-validaciones",{id_evento:a.value,id_user:p.value.id},{preserveState:!0,replace:!0})},k=function(s){let r=s.split(" "),t="",u=0;for(var l=0;l<r.length&&u<2;l++)r[l].length>0&&r[l]!==""&&(t+=r[l][0],u++);return t};return(s,r)=>(g(),b(y,null,[i(n(V),{title:"Auditoria validaciones"}),i(A,{breadCrumbLinks:_},{header:x(()=>r[1]||(r[1]=[f(" Auditoria validaciones ")])),default:x(()=>[e("div",B,[e("div",null,[i(n(z),{id:"eventos",modelValue:n(a),"onUpdate:modelValue":r[0]||(r[0]=t=>j(a)?a.value=t:a=t),options:d.eventos,filter:"",optionLabel:"nombre",placeholder:"Seleccione el evento",checkmark:"",highlightOnSelect:!1,onChange:v,class:"block w-full px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"])]),e("div",F,[i(N,{class:"me-4 py-2 h-full",onClick:w},{default:x(()=>r[2]||(r[2]=[f(" Limpiar ")])),_:1})])]),e("div",U,[e("div",$,[e("div",D,[e("div",E,[e("table",I,[r[3]||(r[3]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{colspan:"2",class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Usuario validador "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Accion "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," votante validado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Ip Address "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," User Agent "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha de validaciÃ³n ")])],-1)),e("tbody",null,[(g(!0),b(y,null,C(d.auditoria_registro.data,t=>(g(),b("tr",{key:t.id,class:"text-gray-700"},[e("td",R,[i(n(O),{label:k(t.usuario.name),class:"bg-indigo-200 text-indigo-800 text-xl",size:"large",shape:"circle"},null,8,["label"])]),e("td",K,[e("p",T,o(t.usuario.name),1)]),e("td",Z,[e("p",{class:L(["text-gray-900 whitespace-no-wrap",{"text-green-600":t.accion==="Activo","text-red-600":t.accion=="Rechazado"}])},o(t.accion=="Activo"?"Aprobado":t.accion),3)]),e("td",q,[e("p",G,o(t.hash_votante.votante.nombre)+" - "+o(t.hash_votante.votante.identificacion),1)]),e("td",H,[e("p",J,o(t.ip_address),1)]),e("td",M,[e("p",P,o(t.user_agent),1)]),e("td",Q,[e("p",W,o(s.formatDate(t.created_at)),1)])]))),128))])])])])])]),e("div",X,[i(S,{links:d.auditoria_registro.links},null,8,["links"])])]),_:1})],64))}};export{fe as default};
