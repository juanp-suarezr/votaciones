import{k as _,T as v,r as d,a as i,b as n,d as p,f as t,u as m,Z as k,e as C,j as u,t as r,F as f,h as N}from"./app-BqJagvOZ.js";import{_ as j}from"./SecondaryButtonReturn-CzZg6NKK.js";import{C as V,A as B,B as S,a as A,L as E,p as L,b as T,c as z,s as P}from"./chartjs-plugin-datalabels.esm-C4x3QFVA.js";import"./index-BP6LnI58.js";const R={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},D={class:"w-full flex justify-between sm:px-16 px-4"},F={class:"w-full flex justify-center my-auto sm:px-16 px-4"},O={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},Z={class:"mt-2 text-base"},$={class:"flex gap-2 mt-2"},G={class:"flex gap-2 mt-2"},q={class:"sm:grid sm:grid-cols-2 sm:gap-4 mt-6"},H={class:"w-full mt-6"},I={class:"w-full h-full sm:h-72 mt-4"},J={class:"w-full mb-4"},K={key:0,class:"flex flex-col overflow-x-auto mt-6"},M={class:"inline-block rounded-lg shadow"},Q={class:"inline-block min-w-full py-2"},U={class:"overflow-x-auto"},W={class:"min-w-full whitespace-no-wrap"},X={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Y={class:"text-gray-900 whitespace-no-wrap"},tt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},st={class:"text-gray-700"},ot={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},at={class:"text-gray-900 whitespace-no-wrap"},lt={class:"text-gray-700"},rt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},it={class:"text-gray-900 whitespace-no-wrap"},nt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},bt={__name:"VotacionProyectos",props:{proyectos:{type:Object,default:()=>[]},votos_nulos:{type:Number,default:()=>[]},votos_no_marcados:{type:Number,default:()=>[]},comuna:{type:String,default:()=>""},subtipo:{type:Number,default:()=>""},id_evento:{type:Number,default:()=>""},total_votos_virtuales:{type:Number,default:()=>[]},total_votos_fisicos:{type:Number,default:()=>""}},setup(a){V.register(B,S,A,E,L,T,z),_("$swal");const o=a;console.log(o);const c=v({id_evento:o.id_evento,subtipo:"",comuna:""}),b=["#C20E1A","#004884","#E20613","#003070","#585857"],y=o.proyectos.map(s=>s.nombre??"Sin nombre");function g(s){const e=[];for(let l=0;l<s;l++)e.push(b[l%b.length]);return e}d({labels:o.proyectos.map(s=>s.nombre),datasets:[{data:o.proyectos.map(s=>s.total),backgroundColor:g(o.proyectos.length)}]}),d({plugins:{legend:{display:!0,position:"bottom",labels:{color:"#333",font:{size:14}}},datalabels:{color:"white",formatter:s=>s,font:{weight:"bold",size:16}}}});const x=d({labels:y,datasets:[{label:"Total de votos",data:o.proyectos.map(s=>s.total),backgroundColor:g(o.proyectos.length)}]}),h=d({indexAxis:"x",plugins:{legend:{display:!1},datalabels:{color:"white",formatter:s=>s,font:{weight:"bold",size:16}}},scales:{x:{beginAtZero:!0,ticks:{color:"#333"}},y:{ticks:{color:"#333"}}}}),w=()=>{c.subtipo=o.subtipo,c.comuna=o.comuna,c.get(route("resultado-generales"),{preserveState:!0})};return(s,e)=>(n(),i(f,null,[p(m(k),{title:"Votaciones por comuna - proyectos"}),t("div",R,[t("div",D,[e[1]||(e[1]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),p(j,{class:"h-full flex inline-flex mt-8 !text-base"},{default:C(()=>e[0]||(e[0]=[u(" Regresar ")])),_:1})]),t("div",F,[t("div",O,[e[8]||(e[8]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",Z,"Comuna/corregimiento -- "+r(a.comuna),1),t("p",$,[e[2]||(e[2]=t("b",null,"Total registrados habilitados para votar virtualmente o tics: ",-1)),u(" "+r(a.total_votos_virtuales),1)]),t("p",G,[e[3]||(e[3]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),u(" "+r(a.total_votos_fisicos),1)]),t("div",q,[t("div",H,[t("div",I,[p(m(P),{type:"bar",data:x.value,options:h.value,class:"h-full w-full mt-4"},null,8,["data","options"])])]),t("div",J,[a.proyectos.length>0?(n(),i("div",K,[t("div",M,[t("div",Q,[t("div",U,[t("table",W,[e[6]||(e[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyectos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos ")])],-1)),t("tbody",null,[(n(!0),i(f,null,N(a.proyectos,l=>(n(),i("tr",{key:l.id,class:"text-gray-700"},[t("td",X,[t("p",Y,r(l.nombre),1)]),t("td",tt,[t("p",et,r(l.total),1)])]))),128)),t("tr",st,[e[4]||(e[4]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos nulos ")],-1)),t("td",ot,[t("p",at,r(a.votos_nulos),1)])]),t("tr",lt,[e[5]||(e[5]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos no marcados ")],-1)),t("td",rt,[t("p",it,r(a.votos_no_marcados),1)])])])])])])])])):(n(),i("div",nt,e[7]||(e[7]=[t("em",null," No hay datos con votaciones realizadas ",-1)])))])])])]),t("div",{class:"w-full flex justify-end text-right sm:px-16 px-4 mb-6"},[t("button",{class:"border-2 border-gray-200 bg-white shadow-md rounded-full hover:!bg-gray-200 p-4 mt-4",onClick:w}," Resultados Generales ")])])],64))}};export{bt as default};
