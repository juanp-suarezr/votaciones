import{c as ot,o as tt,b as _,X as ut,a6 as ht,r as X,Y as pt,a as b,u as w,Z as _t,w as x,P as K,d as I,t as W,h as vt,j as $t,F as gt,V as yt}from"./app-DIyrGl1L.js";import{_ as bt}from"./AuthenticatedLayout-BxAIDjQm.js";import{_ as nt}from"./TextInput-BJjEpB4P.js";import{_ as Mt}from"./PrimaryButton-B80A82qT.js";import{_ as wt}from"./SecondaryButton-Cg4tvYaV.js";import{_ as Dt}from"./Pagination-C7R3zVJ5.js";import{s as St,a as z}from"./index-FsZZjDtL.js";import{s as xt}from"./index-BuEQSv6Q.js";import{s as Yt}from"./index-pRylM_wc.js";import{_ as kt}from"./SecondaryLink--iLBlRt3.js";import{c as st}from"./comunas-Cmo4ygD3.js";import{_ as Ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-g4EJ_edJ.js";import"./index-DknpiPbS.js";import"./index-DtUReIIg.js";import"./index-B1dGHYVn.js";import"./index-BthsV2oh.js";import"./index-4U-fxNyq.js";import"./index-BSzYxm2B.js";import"./index-CPfO2MPV.js";import"./index-CrPzoesE.js";function jt(L,H){return tt(),ot("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[_("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),_("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule":"evenodd"})])}var P={exports:{}},it;function lt(){return it||(it=1,function(L,H){(function(D,v){L.exports=v()})(ut,function(){var D=1e3,v=6e4,Y=36e5,k="millisecond",$="second",O="minute",T="hour",g="day",o="week",m="month",u="quarter",f="year",j="date",F="Invalid Date",dt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ct=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ft={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],t=s%100;return"["+s+(r[(t-20)%10]||r[t]||r[0])+"]"}},R=function(s,r,t){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(t)+s},mt={s:R,z:function(s){var r=-s.utcOffset(),t=Math.abs(r),n=Math.floor(t/60),e=t%60;return(r<=0?"+":"-")+R(n,2,"0")+":"+R(e,2,"0")},m:function s(r,t){if(r.date()<t.date())return-s(t,r);var n=12*(t.year()-r.year())+(t.month()-r.month()),e=r.clone().add(n,m),i=t-e<0,a=r.clone().add(n+(i?-1:1),m);return+(-(n+(t-e)/(i?e-a:a-e))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:m,y:f,w:o,d:g,D:j,h:T,m:O,s:$,ms:k,Q:u}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},Z="en",N={};N[Z]=ft;var et="$isDayjsObject",Q=function(s){return s instanceof q||!(!s||!s[et])},J=function s(r,t,n){var e;if(!r)return Z;if(typeof r=="string"){var i=r.toLowerCase();N[i]&&(e=i),t&&(N[i]=t,e=i);var a=r.split("-");if(!e&&a.length>1)return s(a[0])}else{var d=r.name;N[d]=r,e=d}return!n&&e&&(Z=e),e||!n&&Z},h=function(s,r){if(Q(s))return s.clone();var t=typeof r=="object"?r:{};return t.date=s,t.args=arguments,new q(t)},l=mt;l.l=J,l.i=Q,l.w=function(s,r){return h(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var q=function(){function s(t){this.$L=J(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[et]=!0}var r=s.prototype;return r.parse=function(t){this.$d=function(n){var e=n.date,i=n.utc;if(e===null)return new Date(NaN);if(l.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var a=e.match(dt);if(a){var d=a[2]-1||0,c=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],d,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)):new Date(a[1],d,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)}}return new Date(e)}(t),this.init()},r.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},r.$utils=function(){return l},r.isValid=function(){return this.$d.toString()!==F},r.isSame=function(t,n){var e=h(t);return this.startOf(n)<=e&&e<=this.endOf(n)},r.isAfter=function(t,n){return h(t)<this.startOf(n)},r.isBefore=function(t,n){return this.endOf(n)<h(t)},r.$g=function(t,n,e){return l.u(t)?this[n]:this.set(e,t)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(t,n){var e=this,i=!!l.u(n)||n,a=l.p(t),d=function(A,M){var V=l.w(e.$u?Date.UTC(e.$y,M,A):new Date(e.$y,M,A),e);return i?V:V.endOf(g)},c=function(A,M){return l.w(e.toDate()[A].apply(e.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(M)),e)},p=this.$W,y=this.$M,S=this.$D,U="set"+(this.$u?"UTC":"");switch(a){case f:return i?d(1,0):d(31,11);case m:return i?d(1,y):d(0,y+1);case o:var C=this.$locale().weekStart||0,B=(p<C?p+7:p)-C;return d(i?S-B:S+(6-B),y);case g:case j:return c(U+"Hours",0);case T:return c(U+"Minutes",1);case O:return c(U+"Seconds",2);case $:return c(U+"Milliseconds",3);default:return this.clone()}},r.endOf=function(t){return this.startOf(t,!1)},r.$set=function(t,n){var e,i=l.p(t),a="set"+(this.$u?"UTC":""),d=(e={},e[g]=a+"Date",e[j]=a+"Date",e[m]=a+"Month",e[f]=a+"FullYear",e[T]=a+"Hours",e[O]=a+"Minutes",e[$]=a+"Seconds",e[k]=a+"Milliseconds",e)[i],c=i===g?this.$D+(n-this.$W):n;if(i===m||i===f){var p=this.clone().set(j,1);p.$d[d](c),p.init(),this.$d=p.set(j,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](c);return this.init(),this},r.set=function(t,n){return this.clone().$set(t,n)},r.get=function(t){return this[l.p(t)]()},r.add=function(t,n){var e,i=this;t=Number(t);var a=l.p(n),d=function(y){var S=h(i);return l.w(S.date(S.date()+Math.round(y*t)),i)};if(a===m)return this.set(m,this.$M+t);if(a===f)return this.set(f,this.$y+t);if(a===g)return d(1);if(a===o)return d(7);var c=(e={},e[O]=v,e[T]=Y,e[$]=D,e)[a]||1,p=this.$d.getTime()+t*c;return l.w(p,this)},r.subtract=function(t,n){return this.add(-1*t,n)},r.format=function(t){var n=this,e=this.$locale();if(!this.isValid())return e.invalidDate||F;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=l.z(this),d=this.$H,c=this.$m,p=this.$M,y=e.weekdays,S=e.months,U=e.meridiem,C=function(M,V,E,G){return M&&(M[V]||M(n,i))||E[V].slice(0,G)},B=function(M){return l.s(d%12||12,M,"0")},A=U||function(M,V,E){var G=M<12?"AM":"PM";return E?G.toLowerCase():G};return i.replace(ct,function(M,V){return V||function(E){switch(E){case"YY":return String(n.$y).slice(-2);case"YYYY":return l.s(n.$y,4,"0");case"M":return p+1;case"MM":return l.s(p+1,2,"0");case"MMM":return C(e.monthsShort,p,S,3);case"MMMM":return C(S,p);case"D":return n.$D;case"DD":return l.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return C(e.weekdaysMin,n.$W,y,2);case"ddd":return C(e.weekdaysShort,n.$W,y,3);case"dddd":return y[n.$W];case"H":return String(d);case"HH":return l.s(d,2,"0");case"h":return B(1);case"hh":return B(2);case"a":return A(d,c,!0);case"A":return A(d,c,!1);case"m":return String(c);case"mm":return l.s(c,2,"0");case"s":return String(n.$s);case"ss":return l.s(n.$s,2,"0");case"SSS":return l.s(n.$ms,3,"0");case"Z":return a}return null}(M)||a.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(t,n,e){var i,a=this,d=l.p(n),c=h(t),p=(c.utcOffset()-this.utcOffset())*v,y=this-c,S=function(){return l.m(a,c)};switch(d){case f:i=S()/12;break;case m:i=S();break;case u:i=S()/3;break;case o:i=(y-p)/6048e5;break;case g:i=(y-p)/864e5;break;case T:i=y/Y;break;case O:i=y/v;break;case $:i=y/D;break;default:i=y}return e?i:l.a(i)},r.daysInMonth=function(){return this.endOf(m).$D},r.$locale=function(){return N[this.$L]},r.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),i=J(t,n,!0);return i&&(e.$L=i),e},r.clone=function(){return l.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),rt=q.prototype;return h.prototype=rt,[["$ms",k],["$s",$],["$m",O],["$H",T],["$W",g],["$M",m],["$y",f],["$D",j]].forEach(function(s){rt[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),h.extend=function(s,r){return s.$i||(s(r,q,h),s.$i=!0),h},h.locale=J,h.isDayjs=Q,h.unix=function(s){return h(1e3*s)},h.en=N[Z],h.Ls=N,h.p={},h})}(P)),P.exports}var Lt=lt();const at=ht(Lt);var Tt={exports:{}};(function(L,H){(function(D,v){L.exports=v(lt())})(ut,function(D){function v($){return $&&typeof $=="object"&&"default"in $?$:{default:$}}var Y=v(D),k={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function($){return $+"º"}};return Y.default.locale(k,null,!0),k})})(Tt);const Vt={class:"p-4"},Ht={class:"bg-white shadow-md rounded-lg p-4 mb-4"},Nt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ct={class:"mt-4 flex justify-end"},At={class:"bg-white shadow-md rounded-lg p-4"},It={class:"flex justify-between items-center"},Ut={class:"flex gap-2"},Wt={__name:"Index",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(L){const H=L;console.log(H.votantes);let D=X(H.filters.identificacion||""),v=X(H.filters.nombre||""),Y=X(H.filters.subtipo||"");const k=()=>{yt.get("/gestion_registros",{identificacion:D.value,nombre:v.value,subtipo:Y.value},{preserveState:!0,replace:!0})},$=()=>{D.value="",v.value="",Y.value="",k()},O=g=>{if(!g)return{texto:"Desconocido",color:"secondary"};const o=at(),m=at(g),u=o.diff(m,"days");o.diff(m,"hours")%24;let f="secondary";return u>=1&&u<=3?f="success":u>=4&&u<=6?f="warn":u>=7&&(f="danger"),{texto:`${u} días`,color:f}},T=g=>{var o;return console.log(g),(o=st.find(m=>m.value==g))==null?void 0:o.label};return(g,o)=>{const m=pt("tooltip");return tt(),ot(gt,null,[b(w(_t),{title:"gestión Usuarios registrados"}),b(bt,null,{header:x(()=>o[3]||(o[3]=[_("div",{class:"flex justify-between items-center"},[_("h1",{class:"text-2xl font-bold"},"Gestión de registros")],-1)])),default:x(()=>[_("div",Vt,[_("div",Ht,[_("div",Nt,[b(nt,{id:"identificacion",modelValue:w(D),"onUpdate:modelValue":o[0]||(o[0]=u=>K(D)?D.value=u:D=u),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),b(nt,{id:"nombre",modelValue:w(v),"onUpdate:modelValue":o[1]||(o[1]=u=>K(v)?v.value=u:v=u),placeholder:"Nombre",class:"w-full"},null,8,["modelValue"]),b(w(xt),{id:"comuna",modelValue:w(Y),"onUpdate:modelValue":o[2]||(o[2]=u=>K(Y)?Y.value=u:Y=u),options:w(st),filter:"",optionLabel:"label",placeholder:"Seleccione comuna",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"])]),_("div",Ct,[b(Mt,{onClick:k},{default:x(()=>o[4]||(o[4]=[I("Buscar")])),_:1}),b(wt,{onClick:$},{default:x(()=>o[5]||(o[5]=[I("Limpiar Filtros")])),_:1})])]),_("div",At,[b(w(St),{value:L.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:x(()=>[_("div",It,[o[6]||(o[6]=_("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),b(Dt,{links:L.votantes.links},null,8,["links"])])]),default:x(()=>[b(w(z),{header:"Propietario"},{body:x(u=>{var f,j,F;return[_("p",null,[o[7]||(o[7]=_("b",null,"Nombre:",-1)),I(" "+W(((f=u.data.votante)==null?void 0:f.nombre)||"Sin información")+" ",1),o[8]||(o[8]=_("br",null,null,-1)),_("b",null,W((j=u.data.votante)==null?void 0:j.tipo_documento)+":",1),I(" "+W(((F=u.data.votante)==null?void 0:F.identificacion)||"N/A")+" ",1),o[9]||(o[9]=_("br",null,null,-1))])]}),_:1}),b(w(z),{header:"Sector"},{body:x(u=>{var f;return[I(W(T(u.data.subtipo)||"N/A")+" ",1),o[10]||(o[10]=_("br",null,null,-1)),I(" "+W(((f=u.data.votante)==null?void 0:f.barrio)||"N/A"),1)]}),_:1}),b(w(z),{header:"Evento"},{body:x(u=>[I(W(u.data.evento.nombre||"N/A"),1)]),_:1}),b(w(z),{header:"Tiempo de espera"},{body:x(u=>[b(w(Yt),{severity:O(u.data.created_at).color,value:O(u.data.created_at).texto},null,8,["severity","value"])]),_:1}),b(w(z),{header:"Acciones"},{body:x(u=>[_("div",Ut,[vt((tt(),$t(kt,{class:"border-gray-800 hover:!bg-gray-200",href:g.route("gestion_registros.show",{id:u.data.id})},{default:x(()=>[b(w(jt),{class:"h-6 w-6 text-gray-800"})]),_:2},1032,["href"])),[[m,"Ver detalles",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value"])])])]),_:1})],64)}}},ue=Ot(Wt,[["__scopeId","data-v-e9b47b8a"]]);export{ue as default};
