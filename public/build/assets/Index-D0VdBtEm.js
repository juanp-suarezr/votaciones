import{k as q,r as m,T as N,c as h,w as B,a as g,b as x,d as t,u as n,Z as D,e as a,f as s,j as d,F as k,h as F,t as b,U as I,n as S}from"./app-BIXmy2eP.js";import{_ as T}from"./AuthenticatedLayout-aVBiUomC.js";import{_ as z}from"./PrimaryLink-PnOMzE2-.js";import{_ as A}from"./Modal-_WsM26e2.js";import{_ as K}from"./SecondaryButton-BwB8jDKZ.js";import{_ as C}from"./DangerButton-BPBAPbtj.js";import{_ as M}from"./InputError-3zJuY3qq.js";import{_ as O}from"./InputLabel-HQtqiWJ1.js";import{_ as Z}from"./TextInput-CRpB5CPY.js";import{_ as G}from"./SecondaryLink-Daojx5Qb.js";import"./index-vN4oGBrx.js";import"./index-CGQ-1WUB.js";import"./index-CXb0tjo1.js";import"./SecondaryButtonReturn-CRv9nIwW.js";import"./PrimaryButton-BCY5KWGq.js";import"./XCircleIcon-DP43Vrjv.js";import"./TrashIcon-CvLaHw31.js";const H={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},J={class:"text-right p-4"},Q={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},W={class:"w-full whitespace-no-wrap overflow-x-auto"},X={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"inline-flex w-full border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},se={class:"flex items-center border-b bg-gray-50 px-5 py-2 xs:flex-row justify-between text-gray-500 text-xs font-semibold"},te=["disabled"],oe=["disabled"],re={class:"p-6"},ae={class:"mt-6"},le={class:"mt-6 flex justify-end"},Ce={__name:"Index",props:{roles:Object},setup($){const w=$,E=q("$swal"),c=m(!1),v=m(),r=N({password:""}),P=[{url:"",text:"Roles del sistema"}],p=()=>{c.value=!1,r.reset()},R=l=>{c.value=!0,v.value=l},_=()=>{r.delete(route("roles.destroy",v.value),{preserveScroll:!0,onSuccess:()=>{p(),E({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>r.reset()})},u=m(8),o=m(0),f=h(()=>Math.ceil(w.roles.length/u.value)),U=()=>{o.value>0&&o.value--},V=()=>{o.value<f.value-1&&o.value++};B(u,()=>{o.value=0});const j=m(""),L=h(()=>{const l=o.value*u.value,e=l+u.value;return w.roles.filter(y=>y.name.toLowerCase().includes(j.value.toLowerCase())).slice(l,e)});return(l,e)=>(x(),g(k,null,[t(n(D),{title:"Roles del sistema"}),t(T,{breadCrumbLinks:P},{header:a(()=>e[1]||(e[1]=[d(" Roles del sistema ")])),default:a(()=>[s("div",H,[s("div",J,[t(z,{href:l.route("roles.create")},{default:a(()=>e[2]||(e[2]=[d(" Agregar ")])),_:1},8,["href"])])]),s("div",Q,[s("table",W,[e[5]||(e[5]=s("thead",null,[s("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[s("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),s("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),s("tbody",null,[(x(!0),g(k,null,F(L.value,i=>(x(),g("tr",{key:i.id,class:"text-gray-700"},[s("td",X,[s("p",Y,b(i.name),1)]),s("td",ee,[t(G,{href:l.route("roles.edit",i.id),class:"mr-2"},{default:a(()=>e[3]||(e[3]=[d(" Editar ")])),_:2},1032,["href"]),t(C,{onClick:y=>R(i.id)},{default:a(()=>e[4]||(e[4]=[d("Eliminar")])),_:2},1032,["onClick"])])]))),128))])]),s("div",se,[s("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:U,disabled:o.value===0},e[6]||(e[6]=[s("i",{class:"fa-solid fa-arrow-left"},null,-1)]),8,te),s("p",null,"Pagina "+b(o.value+1)+" de "+b(f.value),1),s("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:V,disabled:o.value===f.value-1},e[7]||(e[7]=[s("i",{class:"fa-solid fa-arrow-right"},null,-1)]),8,oe)])]),t(A,{show:c.value,onClose:p},{default:a(()=>[s("div",re,[e[10]||(e[10]=s("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un rol de usuario? ",-1)),e[11]||(e[11]=s("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el rol, todos los permisos se eliminaran permanentemente de los usuarios. Por favor ingrese su contraseña para confirmar que desea eliminar. ",-1)),s("div",ae,[t(O,{for:"password",value:"Contraseña",class:"sr-only"}),t(Z,{id:"password",ref:"passwordInput",modelValue:n(r).password,"onUpdate:modelValue":e[0]||(e[0]=i=>n(r).password=i),type:"password",class:"mt-1 block w-3/4",placeholder:"Contraseña",onKeyup:I(_,["enter"])},null,8,["modelValue"]),t(M,{message:n(r).errors.password,class:"mt-2"},null,8,["message"])]),s("div",le,[t(K,{onClick:p},{default:a(()=>e[8]||(e[8]=[d(" Cancelar ")])),_:1}),t(C,{class:S(["ms-3",{"opacity-25":n(r).processing}]),disabled:n(r).processing,onClick:_},{default:a(()=>e[9]||(e[9]=[d(" Eliminar rol ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ce as default};
