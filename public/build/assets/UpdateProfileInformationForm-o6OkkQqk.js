import{x as q,T as N,r as V,f as O,o as n,c as r,d as o,a,w as g,u as s,m as b,h as y,v as _,F as k,i as w,b as f,n as $,I as C,l as R,t as U}from"./app-74Tqkxu4.js";import{a as x,b as d,_ as u}from"./TextInput-gRJayFt0.js";import{_ as z}from"./PrimaryButton-fmKowG_M.js";import{b as B}from"./multiselect.esm-AiWtFrmQ.js";import{s as E}from"./selectbutton.esm-mX_DTcRg.js";import{_ as I}from"./SecondaryLink-BNmkV-27.js";import"./index.esm-Bemt7Lu3.js";import"./ripple.esm-8LGWsVUM.js";import"./basecomponent.esm-hD8WUoT4.js";import"./portal.esm-dK4q9sTt.js";const T={class:"text-right"},F=o("h2",{class:"text-lg font-medium text-gray-900"},"Información usuario",-1),D=o("p",{class:"mt-1 text-sm text-gray-600"}," Actualice la información del usuario y la dirección de Usuario. ",-1),L={key:0},M={class:"sm:flex gap-4"},G={key:0},P=o("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione tipo votante",-1),H=["value"],J={key:1,class:"text-xs text-gray-600"},K=["href"],Q={class:"card flex justify-content-center"},W=o("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione evento a asignar",-1),X=["value"],Y={key:1,class:"text-xs text-gray-600"},Z=["href"],ee={class:"sm:flex gap-4"},se=o("option",{value:"Activo"},"Activo",-1),te=o("option",{value:"Bloqueado"},"Bloqueado",-1),oe=[se,te],ae={class:"w-full flex justify-end"},le={class:"card flex z-10 gap-4 mt-4"},ie={class:"card flex justify-content-center"},ne={class:"flex items-center gap-4"},re={key:0,class:"text-sm text-gray-600"},_e={__name:"UpdateProfileInformationForm",props:{user:{type:Object,default:()=>({})},roles:{type:Object,default:()=>({})},userRoles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})}},setup(c){const j=q("$swal"),h=c,p=Object.values(h.userRoles),i=h.user,A=()=>{e.patch(route("users.update",i.id),{onSuccess:()=>j({title:"Registro Actualizado",text:"El usuario se ha actualizado exitosamente",icon:"success"})})},e=N({name:i.name,email:i.email,identificacion:i.votantes?i.votantes.identificacion:"",tipo:i.votantes?i.votantes.tipo:"",estado:i.estado,roles_user:p,eventos:i.votantes?i.votantes.id_eventos:"",candidato:i.votantes?i.votantes.candidato:""}),v=V(e.candidato?"Candidato":"Usuario"),S=V(["Candidato","Usuario"]);return O(v,m=>{m=="Candidato"?e.candidato=1:e.candidato=0}),(m,l)=>(n(),r("section",null,[o("header",null,[o("div",T,[a(I,{href:m.route("users.index")},{default:g(()=>[f(" Regresar ")]),_:1},8,["href"])]),F,D]),o("form",{onSubmit:R(A,["prevent"]),class:"mt-6 space-y-6"},[o("div",null,[a(u,{for:"name",value:"Nombre"}),a(x,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=t=>s(e).name=t),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(d,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),o("div",null,[a(u,{for:"email",value:"Usuario"}),a(x,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":l[1]||(l[1]=t=>s(e).email=t),required:"",autocomplete:"username"},null,8,["modelValue"]),a(d,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),s(p).find(t=>t!="Administrador")?(n(),r("div",L,[a(u,{for:"identificacion",value:"Identificación"}),a(x,{id:"identificacion",type:"identificacion",class:"mt-1 block w-full",modelValue:s(e).identificacion,"onUpdate:modelValue":l[2]||(l[2]=t=>s(e).identificacion=t),required:"",autocomplete:"username"},null,8,["modelValue"]),a(d,{class:"mt-2",message:s(e).errors.identificacion},null,8,["message"])])):b("",!0),o("div",M,[s(p).find(t=>t!="Administrador")?(n(),r("div",G,[a(u,{for:"tipo",value:"Tipo votante"}),c.tipos.length?y((n(),r("select",{key:0,"onUpdate:modelValue":l[3]||(l[3]=t=>s(e).tipo=t),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[P,(n(!0),r(k,null,w(c.tipos,t=>(n(),r("option",{value:t.nombre,key:t.id},U(t.nombre),9,H))),128))],512)),[[_,s(e).tipo]]):(n(),r("p",J,[f("No hay tipos de usuarios registrados, registrar uno nuevo "),o("a",{href:m.route("tipos.index")},"Aquí",8,K)])),a(d,{class:"mt-2",message:s(e).errors.tipo},null,8,["message"])])):b("",!0),o("div",null,[a(u,{for:"roles",value:"Roles"}),o("div",Q,[a(s(B),{id:"roles",modelValue:s(e).roles_user,"onUpdate:modelValue":l[4]||(l[4]=t=>s(e).roles_user=t),display:"chip",options:Object.values(c.roles),placeholder:"Seleccione rol",maxSelectedLabels:3,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),a(d,{class:"mt-2",message:s(e).errors.roles_user},null,8,["message"])])]),o("div",null,[a(u,{for:"evento",value:"Evento votante"}),c.eventos.length?y((n(),r("select",{key:0,"onUpdate:modelValue":l[5]||(l[5]=t=>s(e).eventos=t),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[W,(n(!0),r(k,null,w(c.eventos,t=>(n(),r("option",{value:t.id,key:t.id},U(t.nombre),9,X))),128))],512)),[[_,s(e).eventos]]):(n(),r("p",Y,[f("No hay eventos registrados, registrar uno nuevo "),o("a",{href:m.route("eventos.index")},"Aquí",8,Z)])),a(d,{class:"mt-2",message:s(e).errors.eventos},null,8,["message"])]),o("div",ee,[o("div",null,[a(u,{for:"estado",value:"Estado"}),y(o("select",{id:"estado","onUpdate:modelValue":l[6]||(l[6]=t=>s(e).estado=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},oe,512),[[_,s(e).estado]]),a(d,{class:"mt-2",message:s(e).errors.estado},null,8,["message"])]),o("div",ae,[o("div",le,[o("div",ie,[a(s(E),{modelValue:v.value,"onUpdate:modelValue":l[7]||(l[7]=t=>v.value=t),options:S.value,"aria-labelledby":"basic"},null,8,["modelValue","options"])])])])]),o("div",ne,[a(z,{class:$({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:g(()=>[f("Guardar ")]),_:1},8,["class","disabled"]),a(C,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:g(()=>[s(e).recentlySuccessful?(n(),r("p",re,"Actualizado.")):b("",!0)]),_:1})])],32)]))}};export{_e as default};
