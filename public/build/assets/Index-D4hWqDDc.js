import{a as j,b as h,f as o,r as _,_ as B,d as a,u as s,Z as C,e as l,N as g,j as r,t as n,g as D,i as I,F as U,S as Z}from"./app-dUjcy5ia.js";import{_ as E}from"./AuthenticatedLayout-CA27uDOi.js";import{_ as N}from"./TextInput-CA1wxWn6.js";import{_ as F}from"./PrimaryButton-Cp2uMQaE.js";import{_ as L}from"./SecondaryButton-CV67izfx.js";import{_ as M}from"./Pagination-DCPy3bOO.js";import{s as O,a as p}from"./index-d-o5rEYJ.js";import{s as T}from"./index-CsMCTnaX.js";import{s as G}from"./index-CCNW-IYs.js";import{d as k}from"./es-SaOAW-hi.js";import{_ as R}from"./SecondaryLink-DeEW3W9t.js";import{c as S}from"./comunas-CgAZlVl9.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CYuEviiQ.js";import"./index-DI_V581D.js";import"./index-Cx2grRWr.js";import"./index--cGjy-sB.js";import"./index-CF1CZwr6.js";import"./index-DnXap5rO.js";import"./index-BY2N3obz.js";import"./index-Cgk9x-8W.js";import"./index-DUBpQA3_.js";function z(b,v){return h(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),o("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule":"evenodd"})])}const H={class:"p-4"},J={class:"bg-white shadow-md rounded-lg p-4 mb-4"},K={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Q={class:"mt-4 flex justify-end"},W={class:"bg-white shadow-md rounded-lg p-4"},X={class:"flex justify-between items-center"},Y={class:"flex gap-2"},P={__name:"Index",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(b){const v=b;console.log(v.votantes);let u=_(v.filters.identificacion||""),c=_(v.filters.nombre||""),m=_(v.filters.subtipo||"");const y=()=>{Z.get("/gestion_registros",{identificacion:u.value,nombre:c.value,subtipo:m.value},{preserveState:!0,replace:!0})},$=()=>{u.value="",c.value="",m.value="",y()},x=d=>{if(!d)return{texto:"Desconocido",color:"secondary"};const t=k(),f=k(d),e=t.diff(f,"days");t.diff(f,"hours")%24;let i="secondary";return e>=1&&e<=3?i="success":e>=4&&e<=6?i="warn":e>=7&&(i="danger"),{texto:`${e} días`,color:i}},A=d=>{var t;return console.log(d),(t=S.find(f=>f.value==d))==null?void 0:t.label};return(d,t)=>{const f=B("tooltip");return h(),j(U,null,[a(s(C),{title:"gestión Usuarios registrados"}),a(E,null,{header:l(()=>t[3]||(t[3]=[o("div",{class:"flex justify-between items-center"},[o("h1",{class:"text-2xl font-bold"},"Gestión de registros")],-1)])),default:l(()=>[o("div",H,[o("div",J,[o("div",K,[a(N,{id:"identificacion",modelValue:s(u),"onUpdate:modelValue":t[0]||(t[0]=e=>g(u)?u.value=e:u=e),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),a(N,{id:"nombre",modelValue:s(c),"onUpdate:modelValue":t[1]||(t[1]=e=>g(c)?c.value=e:c=e),placeholder:"Nombre",class:"w-full"},null,8,["modelValue"]),a(s(T),{id:"comuna",modelValue:s(m),"onUpdate:modelValue":t[2]||(t[2]=e=>g(m)?m.value=e:m=e),options:s(S),filter:"",optionLabel:"label",placeholder:"Seleccione comuna",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"])]),o("div",Q,[a(F,{onClick:y},{default:l(()=>t[4]||(t[4]=[r("Buscar")])),_:1}),a(L,{onClick:$},{default:l(()=>t[5]||(t[5]=[r("Limpiar Filtros")])),_:1})])]),o("div",W,[a(s(O),{value:b.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:l(()=>[o("div",X,[t[6]||(t[6]=o("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),a(M,{links:b.votantes.links},null,8,["links"])])]),default:l(()=>[a(s(p),{header:"ID"},{body:l(e=>[r(n(e.data.id||"N/A"),1)]),_:1}),a(s(p),{header:"Propietario"},{body:l(e=>{var i,w,V;return[o("p",null,[t[7]||(t[7]=o("b",null,"Nombre:",-1)),r(" "+n(((i=e.data.votante)==null?void 0:i.nombre)||"Sin información")+" ",1),t[8]||(t[8]=o("br",null,null,-1)),o("b",null,n((w=e.data.votante)==null?void 0:w.tipo_documento)+":",1),r(" "+n(((V=e.data.votante)==null?void 0:V.identificacion)||"N/A")+" ",1),t[9]||(t[9]=o("br",null,null,-1))])]}),_:1}),a(s(p),{header:"Sector"},{body:l(e=>{var i;return[r(n(A(e.data.subtipo)||"N/A")+" ",1),t[10]||(t[10]=o("br",null,null,-1)),r(" "+n(((i=e.data.votante)==null?void 0:i.barrio)||"N/A"),1)]}),_:1}),a(s(p),{header:"Evento"},{body:l(e=>[r(n(e.data.evento.nombre||"N/A"),1)]),_:1}),a(s(p),{header:"Tiempo de espera"},{body:l(e=>[a(s(G),{severity:x(e.data.created_at).color,value:x(e.data.created_at).texto},null,8,["severity","value"])]),_:1}),a(s(p),{header:"Acciones"},{body:l(e=>[o("div",Y,[D((h(),I(R,{class:"border-gray-800 hover:!bg-gray-200",href:d.route("gestion_registros.show",{id:e.data.id})},{default:l(()=>[a(s(z),{class:"h-6 w-6 text-gray-800"})]),_:2},1032,["href"])),[[f,"Ver detalles",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value"])])])]),_:1})],64)}}},we=q(P,[["__scopeId","data-v-bdb1f007"]]);export{we as default};
