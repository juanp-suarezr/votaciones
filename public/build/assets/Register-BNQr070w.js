import{x as Te,T as Re,D as Ne,r,w as q,s as Oe,c as u,o as d,b as i,d as z,e as t,u as s,Z as $e,p as U,t as F,f as k,F as L,k as W,v as X,E as ae,j as I,C as ve,n as te,l as Ae,z as ge}from"./app-C5yxKk7E.js";import{c as Le,P as Pe}from"./ciudades-C75U-kSl.js";import{_ as p}from"./InputError-NZj76MOm.js";import{_ as m}from"./InputLabel-2LHaajgQ.js";import{_ as se}from"./PrimaryButton-ClLxQ_0y.js";import{_ as ie}from"./Modal-DzGdtog6.js";import{_ as g}from"./TextInput-BTyfzZnw.js";import{s as be,t as Ge,e as He,c as We}from"./etnia-DmVWwxMd.js";import{s as xe}from"./index-BjKGNBJH.js";import{s as Xe}from"./index-0frlKJ5O.js";import{s as Ye}from"./index-Dz5DUfN6.js";import{b as Ze}from"./barrios-CntC0Qm4.js";import{f as Je}from"./cedulaFrontEjemplo-eqgE4YJW.js";import{d as Ke,T as Qe,n as le}from"./FaceMatcher-DQZ88WER.js";import{r as eo}from"./PhotoIcon-DmgDZiDC.js";/* empty css                                                                   */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XCircleIcon-CL88tNB0.js";import"./index-sJ8nJiuc.js";import"./index-Bi-0pOyB.js";import"./index-urxxQI4C.js";import"./index-ZcdxqGhF.js";import"./index-CvKiFm1d.js";import"./index-BMG-J-zJ.js";import"./index-W8u5J2_s.js";const oo={class:"w-full sm:max-w-6xl h-full mx-auto bg-white shadow-lg rounded-lg px-4 sm:px-6 py-12 z-10"},ao={class:"mt-4 justify-center"},to={class:"m-auto py-4"},so={key:0,class:"sm:grid sm:grid-cols-2 gap-6 h-full"},io={class:"mb-2"},lo={class:"mb-2"},ro={key:0,class:"mt-2 text-sm md:text-base text-red-600"},no={class:"mb-2"},co=["value"],uo={class:"mb-2 sm:block hidden"},mo={key:0,class:"text-red-500"},po={class:"mb-2 sm:hidden grid grid-cols-3 gap-2"},fo={class:"w-auto mt-1"},vo={class:"w-auto mt-1"},go={class:"w-auto mt-1"},bo={key:0,class:"text-red-500"},xo={class:"col-span-2 flex justify-end"},wo={key:1,class:"sm:grid sm:grid-cols-2 gap-6"},yo={class:"mb-2"},ho={class:"mt-2 block sm:flex"},_o={class:""},ko={class:"sm:ms-6"},Vo={key:0,class:"sm:ms-6"},Co={key:1,class:"sm:ms-6"},Eo={class:"mb-2"},Do=["value"],So={class:"mb-2"},jo=["value"],qo={class:"w-full mb-2"},Uo={class:"w-full flex flex-wrap gap-2 mt-1"},Fo={class:"mb-2 w-full col-span-2"},Io={class:"bg-azul rounded-md p-2 w-full h-full"},Bo={class:"text-white text-base"},zo=["href"],Mo={class:"mb-2"},To={class:"mb-2"},Ro={key:0,class:"w-full mt-2"},No={class:"mb-2"},Oo={class:"mb-2"},$o={class:"mb-2"},Ao={class:"my-4 col-span-2 mb-2"},Lo={class:"mb-4 col-span-2 mb-2"},Po={class:"col-span-2 flex justify-between gap-2"},Go={class:"flex pt-4 justify-end"},Ho={class:"flex pt-4 justify-end h-full"},Wo={key:2,class:"gap-6"},Xo={class:"sm:grid sm:grid-cols-2 gap-2 h-full sm:px-16 px-4"},Yo={class:"w-full h-full mt-4"},Zo={class:"w-full"},Jo=["src"],Ko={class:"mb-2 h-full flex justify-center items-center mt-4"},Qo={class:"border-2 border-gray-300 rounded-md p-2 h-full"},ea={class:"flex justify-center"},oa=["src","alt"],aa={key:0,class:"flex justify-center mt-2"},ta={class:"w-full"},sa={class:"col-span-2 flex justify-between gap-2 mt-4"},ia={class:"flex pt-4 justify-end"},la={class:"flex pt-4 justify-end"},ra={class:"flex justify-center my-12"},na={class:"my-12 px-4"},da=["value"],ca=["disabled"],ua={class:"flex justify-center gap-4 text-center h-full my-6"},Ta={__name:"Register",props:{comunas:{type:Object,required:!0}},setup(we){const c=Te("$swal"),ye=we,o=Re({nombre:"",identificacion:"",tipo_documento:"",nacimiento:"",cedula_front:null,genero:"",etnia:"",condicion:"",direccion:"",celular:"",comuna:"",barrio:"",email:"",password:"",embedding:"",photo:"",validaciones:"",checked:!1,declaracion:!1,recaptcha_token:"",campoObligatorio:""}),{executeRecaptcha:he}=Ne(),_e=r(""),ke=r([]),Y=r(""),Z=r([]),J=r(""),K=r(""),Q=r(""),w=r(!1),re=r(!0),Ve=r(ye.comunas),Ce=r([{label:"Información Personal"},{label:"Datos Demográficos"},{label:"Registro datos"}]),Ee=r([{label:"paso 1"},{label:"paso 2"},{label:"paso 3"}]),b=r(0),M=r(""),B=r(""),v=r(!1),x=r(!1),P=r(!1);r(!1);const O=r(null);r(null);const G=r([]),$=r(""),y=r(null),h=r(""),ne=r(!1),V=r(!1),T=r(0),de=r(!1);q([J,K,Q],([l,e,a])=>{if(l&&e&&a){const n=String(l).padStart(2,"0"),_=String(e).padStart(2,"0");o.nacimiento=`${a}-${_}-${n}`}}),q(P,l=>{l&&(o.genero="")}),q(_e,l=>{l&&(ke.value=Le.find(e=>e.id===l.id).ciudades)}),q(Y,l=>{l&&(o.comuna=l,Z.value=Ze.find(e=>e.id===parseInt(l.id)).barrios,console.log(Z.value))}),q(()=>o.barrio,l=>{console.log(l),l=="Otro"&&(o.barrio="",de.value=!0)}),q(()=>o.data(),l=>{Object.keys(o.errors).forEach(e=>{l[e]&&(o.errors[e]=null)})},{deep:!0});async function De(){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){c.fire({icon:"warning",title:"Navegador no compatible",text:"Tu navegador no permite acceder a los dispositivos multimedia."});return}try{(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput").length===0?c.fire({icon:"warning",title:"Cámara no detectada",text:"Es necesario que el dispositivo tenga una cámara para continuar con el proceso."}):console.log("Cámara detectada, puede continuar.")}catch(l){console.error("Error al verificar dispositivos:",l),c.fire({icon:"error",title:"Error al verificar la cámara",text:"Ocurrió un problema al intentar detectar la cámara."})}}const Se=(l,e)=>{const a=e.target.files[0];if(!a)return;((_,C)=>{const E=new FileReader;E.onload=H=>{const D=new Image;D.onload=()=>{const f=document.createElement("canvas"),R=f.getContext("2d"),N=1024,oe=1024;let S=D.width,j=D.height;(S>N||j>oe)&&(S>j?(j=Math.round(j*N/S),S=N):(S=Math.round(S*oe/j),j=oe)),f.width=S,f.height=j,R.drawImage(D,0,0,S,j),f.toBlob(pe=>{if(pe.size>2e6){Swal.fire({icon:"error",title:"Error",text:"Incluso comprimida, la imagen supera los 2MB."});return}const fe=new File([pe],_.name,{type:"image/jpeg",lastModified:Date.now()});C(fe,URL.createObjectURL(fe))},"image/jpeg",.8)},D.src=H.target.result},E.readAsDataURL(_)})(a,(_,C)=>{o[l]=_,O.value=C})},je=l=>{o.cedula_front=null,O.value=null},ce=l=>{b.value=l,v.value=!0},qe=async()=>{w.value=!0;try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(n=>n.stop()),await le.tinyFaceDetector.loadFromUri("/models/tiny_face_detector"),await le.faceRecognitionNet.loadFromUri("/models/face_recognition"),await le.faceLandmark68Net.loadFromUri("/models/face_landmark_68");const e=await navigator.mediaDevices.enumerateDevices();G.value=e.filter(n=>n.kind==="videoinput");const a=G.value.find(n=>n.label.toLowerCase().includes("user"))||G.value[0];console.log(a),$.value=(a==null?void 0:a.deviceId)||"",w.value=!1,x.value=!0,await me($.value)}catch(l){w.value=!1,T.value==3,c.fire({icon:"error",title:"Error al acceder a la cámara",text:"No se pudo acceder a la cámara. Por favor, asegúrese de que su dispositivo tenga una cámara y que haya otorgado los permisos necesarios."}),console.error("Error al iniciar:",l),h.value="No se pudo acceder a la cámara."}},Ue=async()=>{V.value=!0,x.value=!1,w.value=!0,h.value="";const l=a=>parseInt(sessionStorage.getItem(a)||"0"),e=(a,n)=>sessionStorage.setItem(a,n.toString());if(!ne.value){l("fallo_camara")+1,h.value="La cámara no está lista.",V.value=!1,w.value=!1,x.value=!0;return}try{const a=await Ke(y.value,new Qe).withFaceLandmarks().withFaceDescriptor();console.log("entro -- validador"),c.fire({title:"Validación en progreso",text:"Mire a la cámara hasta que finalice la validación.",icon:"info",timer:5e3,showConfirmButton:!1,didClose:()=>{}});const n=document.createElement("canvas");n.width=y.value.videoWidth,n.height=y.value.videoHeight,n.getContext("2d").drawImage(y.value,0,0,n.width,n.height);const C=await new Promise(f=>n.toBlob(f,"image/jpeg")),E=new File([C],"photo.jpg",{type:"image/jpeg"});if(o.photo=E,!a){w.value=!1,V.value=!1,h.value="No se detectó un rostro.",T.value+=1,T.value==3&&c.fire({title:"Error en validación",text:"Error, no se detectó un rostro, vuelve a intentar o avanzar con la imagen poco visible y posiblemente sin registro biométrico (alta probabilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(f=>{f.isConfirmed?(o.embedding="",o.validaciones="no_rostro",x.value=!1,A()):f.dismiss===c.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),h.value="",T.value=0)});return}const H=a.descriptor;o.embedding=H;const D=new FormData;D.append("embedding",H),V.value=!1,x.value=!1,ge.post(route("face-validate"),D,{headers:{"Content-Type":"multipart/form-data"}}).then(f=>{h.value=f.data.message,console.log(f),V.value=!1,w.value=!1,f.data.match?c.fire({title:"Error en validación",text:"Usted ya tiene un registro biométrico. Si está seguro que no se ha registrado, puede volver a intentarlo o continuar (probabilidad de rechazo).",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(R=>{R.isConfirmed?(o.validaciones="registro_duplicado",x.value=!1,A()):R.dismiss===c.DismissReason.cancel&&console.log("Usuario decide volver a intentar")}):c({title:"Validación exitosa",text:"Validación biométrica exitosa",icon:"success",didClose:()=>{x.value=!1,A()}})}).catch(f=>{V.value=!1,w.value=!1,console.log(f);const R=l("fallo_registro")+1;e("fallo_registro",R),c.fire({title:"Error en validación",text:"Error en la validación, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(N=>{N.isConfirmed?(o.embedding="",o.validaciones="fallo_registro_biometrico",x.value=!1,A()):N.dismiss===c.DismissReason.cancel&&console.log("Usuario decide volver a intentar")})})}catch(a){console.error(a),V.value=!1,w.value=!1,T.value==3&&c.fire({title:"Error en validación",text:"Error al procesar el rostro, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(n=>{n.isConfirmed?(o.embedding="",o.validaciones="fallo_registro",x.value=!1,A()):n.dismiss===c.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),h.value="",T.value=0)}),h.value="Error al procesar el rostro."}},Fe=()=>{if(!o.nacimiento)return B.value="Debes ingresar la fecha de nacimiento.",!1;const l=new Date,e=o.nacimiento,[a,n,_]=e.split("-").map(Number);let C=l.getFullYear()-a;const E=l.getMonth()-(n-1);return console.log(l.getMonth()),console.log(E),console.log(l.getDate()),(E<0||E===0&&l.getDate()<_)&&C--,C<14?(B.value="Edad minima para participar: 14 años.",!1):(B.value="",!0)},Ie=async()=>{if(v.value=!1,o.nombre&&o.identificacion&&o.tipo_documento&&o.nacimiento){if(console.log(o.nacimiento),!Fe())return;M.value="";try{const l=await Be(o.identificacion);console.log("Identificación existe:",l),l?(M.value="Tu documento de identidad ya está registrado.",v.value=!1):(M.value="",v.value=!0)}catch{M.value="Error al validar la identificación. Intenta de nuevo.",v.value=!1}}v.value?b.value=1:(o.nombre||(o.errors.nombre="Este campo es requerido."),(!o.identificacion||M.value!="")&&(o.errors.identificacion=M.value||"Este campo es requerido."),o.tipo_documento||(o.errors.tipo_documento="Este campo es requerido."),o.nacimiento||(o.errors.nacimiento="Este campo es requerido."))},Be=async l=>(await ge.post("/validar-identificacion",{identificacion:l})).data.existe,ze=l=>{switch(v.value=!1,l){case 1:Ie();break;case 2:ue();break}v.value&&(b.value=l)},ue=()=>{v.value=!1,o.genero&&o.etnia&&o.condicion&&o.celular&&o.comuna&&o.barrio&&o.direccion&&o.password&&o.checked&&o.declaracion&&(console.log(o.password.length),o.password.length>=8&&(v.value=!0,b.value=2)),v.value||(o.password.length<8&&(o.errors.password="El campo de contraseña debe contener minimo 8 caracteres. "+o.password.length+"/8 caracteres ingresados"),o.genero||(o.errors.genero="Este campo es requerido."),o.etnia||(o.errors.etnia="Este campo es requerido."),o.condicion||(o.errors.condicion="Este campo es requerido."),o.celular||(o.errors.celular="Este campo es requerido."),o.comuna||(o.errors.comuna="Este campo es requerido."),o.barrio||(o.errors.barrio="Este campo es requerido."),o.direccion||(o.errors.direccion="Este campo es requerido."),o.password||(o.errors.password="Este campo es requerido."),o.checked||(o.errors.checked="Este campo es requerido."),o.declaracion||(o.errors.declaracion="Este campo es requerido."))},Me=()=>{v.value=!1,o.cedula_front&&(v.value=!0),v.value?qe():o.cedula_front||(o.errors.cedula_front="Este campo es requerido.")},A=async()=>{c.fire({title:"Registrando usuario...",text:"Por favor, espere mientras se procesa su registro.",allowOutsideClick:!1,didOpen:()=>{c.showLoading()}});const l=await he("register");o.recaptcha_token=l,o.post(route("create-user"),{onSuccess:()=>{try{c.close()}catch{}c({title:"Registro realizado",text:"Registro de usuario realizado exitosamente. Para poder votar, se realizará una validación interna de su información. El estado del trámite será notificado en un máximo de 72 horas al correo electrónico registrado. Recuerde que su usuario corresponde a su número de identificación y la contraseña es la que creó al momento del registro.",icon:"success"}).then(e=>{window.location.href=route("welcome")}),sessionStorage.removeItem("fallo_camara"),sessionStorage.removeItem("fallo_registro"),sessionStorage.removeItem("registro_duplicado"),o.reset(),ee()},onError:e=>{try{c.close()}catch{}ee(),c({title:"Error",text:"Ocurrió un error al registrar el usuario.",icon:"error"}).then(a=>{b.value=0}),console.error(e)}})},me=async l=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:l}}});y.value.srcObject=e,ne.value=!0}catch(e){console.error("Error al iniciar cámara:",e),h.value="Error al iniciar la cámara."}};q($,async l=>{l&&await me(l)});const ee=()=>{try{y.value&&y.value.srcObject&&(y.value.srcObject.getTracks().forEach(e=>e.stop()),y.value.srcObject=null)}catch(l){console.error("Error al detener la cámara:",l)}};return q(x,l=>{l==!1&&ee()}),Oe(()=>{De()}),(l,e)=>(d(),u(L,null,[i(Pe,null,{default:z(()=>[i(s($e),{title:"Registro de Usuario"}),t("div",oo,[e[49]||(e[49]=t("h1",{class:"text-2xl font-bold text-center text-gray-800"}," Registro votante ",-1)),t("div",ao,[i(s(be),{class:"hidden sm:block",model:Ce.value,activeStep:b.value,"onUpdate:activeStep":e[0]||(e[0]=a=>b.value=a)},null,8,["model","activeStep"]),i(s(be),{class:"sm:hidden block",model:Ee.value,activeStep:b.value,"onUpdate:activeStep":e[1]||(e[1]=a=>b.value=a)},null,8,["model","activeStep"])]),t("form",to,[b.value==0?(d(),u("div",so,[t("div",io,[i(m,{for:"nombre",value:"Nombre Completo"}),i(g,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(o).nombre,"onUpdate:modelValue":e[2]||(e[2]=a=>s(o).nombre=a),required:""},null,8,["modelValue"]),i(p,{class:"mt-2",message:s(o).errors.nombre},null,8,["message"])]),t("div",lo,[i(m,{for:"identificacion",value:"Identificación"}),i(g,{id:"identificacion",type:"text",class:"mt-1 block w-full",modelValue:s(o).identificacion,"onUpdate:modelValue":e[3]||(e[3]=a=>s(o).identificacion=a),required:""},null,8,["modelValue"]),s(o).errors.identificacion?(d(),u("p",ro,F(s(o).errors.identificacion),1)):U("",!0)]),t("div",no,[i(m,{for:"tipo_documento",value:"Tipo de Documento"}),k(t("select",{id:"tipo_documento","onUpdate:modelValue":e[4]||(e[4]=a=>s(o).tipo_documento=a),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[33]||(e[33]=t("option",{value:"",disabled:""},"Seleccione tipo de documento",-1)),(d(!0),u(L,null,W(s(Ge),a=>(d(),u("option",{key:a.id,value:a.nombre},F(a.nombre),9,co))),128))],512),[[X,s(o).tipo_documento]]),i(p,{class:"mt-2",message:s(o).errors.tipo_documento},null,8,["message"])]),t("div",uo,[i(m,{for:"nacimiento",value:"Fecha de Nacimiento"}),i(g,{id:"nacimiento",type:"date",class:"mt-1 block w-full",modelValue:s(o).nacimiento,"onUpdate:modelValue":e[5]||(e[5]=a=>s(o).nacimiento=a),required:""},null,8,["modelValue"]),i(p,{class:"mt-2",message:s(o).errors.nacimiento},null,8,["message"]),B.value?(d(),u("p",mo,F(B.value),1)):U("",!0)]),t("div",po,[i(m,{class:"col-span-3",for:"nacimiento",value:"Fecha de Nacimiento"}),t("div",fo,[i(m,{for:"nacimientoDia",value:"Día"}),i(g,{id:"nacimientoDia",type:"number",class:"block",modelValue:J.value,"onUpdate:modelValue":e[6]||(e[6]=a=>J.value=a)},null,8,["modelValue"])]),t("div",vo,[i(m,{for:"nacimientoMes",value:"Mes"}),i(g,{id:"nacimientoMes",type:"number",class:"block",modelValue:K.value,"onUpdate:modelValue":e[7]||(e[7]=a=>K.value=a)},null,8,["modelValue"])]),t("div",go,[i(m,{for:"nacimientoAnnio",value:"Año"}),i(g,{id:"nacimientoAnnio",type:"number",class:"block",modelValue:Q.value,"onUpdate:modelValue":e[8]||(e[8]=a=>Q.value=a)},null,8,["modelValue"])]),i(p,{class:"mt-2",message:s(o).errors.nacimiento},null,8,["message"]),B.value?(d(),u("p",bo,F(B.value),1)):U("",!0)]),t("div",xo,[t("button",{type:"button",class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white p-2 rounded-md shadow-xl",onClick:e[9]||(e[9]=a=>ze(1))}," Siguiente ")])])):U("",!0),b.value==1?(d(),u("div",wo,[t("div",yo,[i(m,{for:"genero",value:"Identidad de Género"}),t("div",ho,[t("div",_o,[k(t("input",{type:"radio",id:"masculino",value:"Masculino","onUpdate:modelValue":e[10]||(e[10]=a=>s(o).genero=a)},null,512),[[ae,s(o).genero]]),e[34]||(e[34]=t("label",{class:"ps-2 text-sm sm:text-base",for:"masculino"},"Masculino",-1))]),t("div",ko,[k(t("input",{type:"radio",id:"two",value:"Femenino","onUpdate:modelValue":e[11]||(e[11]=a=>s(o).genero=a)},null,512),[[ae,s(o).genero]]),e[35]||(e[35]=t("label",{class:"ps-2 text-sm sm:text-base",for:"two"},"Femenino",-1))]),P.value?(d(),u("div",Vo,[i(m,{class:"sm:text-sm text-xs",for:"genero",value:"¿Cual?"}),i(g,{id:"genero",type:"text",class:"mt-1 block w-full p-0 sm:p-1",modelValue:s(o).genero,"onUpdate:modelValue":e[12]||(e[12]=a=>s(o).genero=a),autocomplete:"genero"},null,8,["modelValue"]),i(p,{class:"mt-1",message:s(o).errors.genero},null,8,["message"])])):(d(),u("div",Co,[k(t("input",{type:"radio",id:"tres",value:"true","onUpdate:modelValue":e[13]||(e[13]=a=>P.value=a)},null,512),[[ae,P.value]]),e[36]||(e[36]=t("label",{class:"ps-2 text-sm sm:text-base",for:"tres"},"Otro",-1))]))]),i(p,{class:"mt-2",message:s(o).errors.genero},null,8,["message"])]),t("div",Eo,[i(m,{for:"etnia",value:"Grupo poblacional"}),k(t("select",{id:"etnia","onUpdate:modelValue":e[14]||(e[14]=a=>s(o).etnia=a),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[37]||(e[37]=t("option",{value:"",disabled:""}," Seleccione grupo poblacional perteneciente ",-1)),(d(!0),u(L,null,W(s(He),a=>(d(),u("option",{key:a.id,value:a.nombre},F(a.nombre),9,Do))),128))],512),[[X,s(o).etnia]]),i(p,{class:"mt-2",message:s(o).errors.etnia},null,8,["message"])]),t("div",So,[i(m,{for:"condicion",value:"Condición poblacional"}),k(t("select",{id:"condicion","onUpdate:modelValue":e[15]||(e[15]=a=>s(o).condicion=a),class:"mt-1 block w-full border-gray-300 rounded-lg"},[e[38]||(e[38]=t("option",{value:"",disabled:""}," Seleccione condición poblacional ",-1)),(d(!0),u(L,null,W(s(We),a=>(d(),u("option",{key:a.id,value:a.nombre},F(a.nombre),9,jo))),128))],512),[[X,s(o).condicion]]),i(p,{class:"mt-2",message:s(o).errors.condicion},null,8,["message"])]),t("div",qo,[t("div",null,[i(m,{for:"celular",value:"Celular"}),t("div",Uo,[e[39]||(e[39]=t("div",{class:"flex items-center w-auto[20%] block p-2 border border-gray-400 bg-gray-100 rounded-md"},[t("p",null,"+57")],-1)),i(g,{id:"celular",type:"number",class:"w-[80%] flex",modelValue:s(o).celular,"onUpdate:modelValue":e[16]||(e[16]=a=>s(o).celular=a),required:""},null,8,["modelValue"])]),i(p,{class:"mt-2",message:s(o).errors.celular},null,8,["message"])])]),t("div",Fo,[t("div",Io,[t("p",Bo,[e[40]||(e[40]=I(" Si no esta seguro a que comuna/corregimiento o barrio/vereda pertenece, puede consultar en el siguiente ")),t("a",{href:l.route("ComunasBarrios"),target:"_blank",class:"underline !text-white font-bold cursor-pointer"},"enlace",8,zo),e[41]||(e[41]=I(". "))])])]),t("div",Mo,[i(m,{for:"comuna",value:"Comuna/Corregimiento"}),i(s(xe),{id:"comuna",modelValue:Y.value,"onUpdate:modelValue":e[17]||(e[17]=a=>Y.value=a),options:Ve.value,filter:"",optionLabel:"detalle",placeholder:"Seleccione comuna/corregimiento de dirección",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),i(p,{class:"mt-2",message:s(o).errors.comuna},null,8,["message"])]),t("div",To,[i(m,{for:"barrio",value:"Barrio/Vereda"}),i(s(xe),{id:"barrio",modelValue:s(o).barrio,"onUpdate:modelValue":e[18]||(e[18]=a=>s(o).barrio=a),options:Z.value,filter:"",placeholder:"Seleccione barrio/vereda de dirección",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),de.value?(d(),u("div",Ro,[i(m,{for:"barrio_otro",value:"Cual?"}),i(g,{id:"barrio_otro",type:"text",class:"mt-1 block w-full",modelValue:s(o).barrio,"onUpdate:modelValue":e[19]||(e[19]=a=>s(o).barrio=a)},null,8,["modelValue"])])):U("",!0),i(p,{class:"mt-2",message:s(o).errors.barrio},null,8,["message"])]),t("div",No,[i(m,{for:"direccion",value:"Dirección"}),i(g,{id:"direccion",type:"text",class:"mt-1 block w-full",modelValue:s(o).direccion,"onUpdate:modelValue":e[20]||(e[20]=a=>s(o).direccion=a),required:""},null,8,["modelValue"]),i(p,{class:"mt-2",message:s(o).errors.direccion},null,8,["message"])]),t("div",Oo,[i(m,{for:"email",value:"Correo Electrónico"}),i(g,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(o).email,"onUpdate:modelValue":e[21]||(e[21]=a=>s(o).email=a)},null,8,["modelValue"]),i(p,{class:"mt-2",message:s(o).errors.email},null,8,["message"])]),e[45]||(e[45]=t("div",{class:"mb-2"},[t("div",{class:"bg-azul rounded-md p-2 w-full h-full"},[t("p",{class:"text-white text-base"}," Digite una contraseña fácil de recordar para luego acceder a votar. ")])],-1)),t("div",$o,[i(m,{for:"password",value:"Contraseña (mínimo: 8 caracteres)"}),i(s(Ye),{id:"password",modelValue:s(o).password,"onUpdate:modelValue":e[22]||(e[22]=a=>s(o).password=a),required:"",toggleMask:"",autocomplete:"current-password"},null,8,["modelValue"]),i(p,{class:"mt-2",message:s(o).errors.password},null,8,["message"])]),t("div",Ao,[k(t("input",{type:"checkbox",id:"consentimiento1",name:"consentimiento1",required:"","onUpdate:modelValue":e[23]||(e[23]=a=>s(o).checked=a)},null,512),[[ve,s(o).checked]]),e[42]||(e[42]=t("label",{for:"consentimiento1",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},[I("Conozco y Acepto la Política de Privacidad de Datos "),t("a",{href:"https://www.pereira.gov.co/publicaciones/38/politicas-de-privacidad-y-condiciones-de-uso/",target:"_blank",class:"underline !text-azul cursor-pointer"},"Política")],-1)),i(p,{class:"mt-1",message:s(o).errors.checked},null,8,["message"])]),t("div",Lo,[k(t("input",{type:"checkbox",id:"consentimiento2",name:"consentimiento2",required:"","onUpdate:modelValue":e[24]||(e[24]=a=>s(o).declaracion=a)},null,512),[[ve,s(o).declaracion]]),e[43]||(e[43]=t("label",{for:"consentimiento2",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},[t("a",{href:"https://www.pereira.gov.co/loader.php?lServicio=Tools2&lTipo=descargas&lFuncion=visorpdf&file=https%3A%2F%2Fwww.pereira.gov.co%2Floader.php%3FlServicio%3DTools2%26lTipo%3Ddescargas%26lFuncion%3DexposeDocument%26idFile%3D211273%26tmp%3De1c59e50ed23a13cda9087f627ac4f4d%26urlDeleteFunction%3Dhttps%253A%252F%252Fwww.pereira.gov.co%252Floader.php%253FlServicio%253DTools2%2526lTipo%253Ddescargas%2526lFuncion%253DdeleteTemporalFile%2526tmp%253De1c59e50ed23a13cda9087f627ac4f4d&pdf=1&tmp=e1c59e50ed23a13cda9087f627ac4f4d&fileItem=229566",target:"_blank",class:"underline !text-azul cursor-pointer"},"Manifiesto"),I(" que la información registrada es veraz y corresponde a mis datos personales ")],-1)),i(p,{class:"mt-1",message:s(o).errors.declaracion},null,8,["message"])]),t("div",Po,[t("div",Go,[t("button",{type:"button",onClick:e[25]||(e[25]=a=>ce(0)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),t("div",Ho,[i(se,{type:"button",class:te(["h-full",{"opacity-25":s(o).processing}]),onClick:ue,disabled:s(o).processing},{default:z(()=>e[44]||(e[44]=[I(" Siguiente ")])),_:1},8,["class","disabled"])])])])):U("",!0),b.value==2?(d(),u("div",Wo,[t("div",Xo,[e[47]||(e[47]=t("div",{class:"col-span-2 text-sm sm:text-base text-gray-800 pt-6"},[t("h3",{class:"text-lg font-semibold"}," Cargue documento de identificación parte frontal "),t("p",null," Para cargar el documento frontal, asegúrese de que la imagen sea clara y legible. El documento debe estar bien iluminado y sin reflejos. ")],-1)),t("div",Yo,[t("div",Zo,[e[46]||(e[46]=t("h4",{class:"text-2xl underline"},"Ejemplo parte frontal",-1)),t("img",{src:s(Je),alt:"Documento Frontal ejemplo",class:"w-full h-full object-contain mt-2"},null,8,Jo)])]),t("div",Ko,[t("div",Qo,[i(g,{id:"cedula_front",type:"file",class:"mt-1 !border-0",accept:"image/jpeg,image/jpg,image/png,image/gif,image/svg+xml,image/webp",onInput:e[26]||(e[26]=a=>Se("cedula_front",a)),maxFileSize:2e6}),i(p,{class:"mt-2",message:s(o).errors.cedula_front},null,8,["message"]),t("div",ea,[O.value?(d(),u("img",{key:0,src:O.value,alt:s(o).cedula_front,class:"w-4/6 h-full object-contain"},null,8,oa)):(d(),Ae(s(eo),{key:1,class:"w-2/6 text-gray-300 flex justify-center items-center"}))]),O.value?(d(),u("div",aa,[t("button",{onClick:e[27]||(e[27]=a=>je(1)),type:"button",class:"bg-red-500 text-white px-4 py-2 rounded"}," Eliminar Imagen ")])):U("",!0)])])]),t("div",ta,[i(g,{id:"campo_obligatorio",type:"text",class:"mt-1 !border-0 hidden",modelValue:s(o).campoObligatorio,"onUpdate:modelValue":e[28]||(e[28]=a=>s(o).campoObligatorio=a)},null,8,["modelValue"])]),t("div",sa,[t("div",ia,[t("button",{type:"button",onClick:e[29]||(e[29]=a=>ce(1)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),t("div",la,[i(se,{type:"button",onClick:Me,class:te({"opacity-25":s(o).processing}),disabled:s(o).processing},{default:z(()=>e[48]||(e[48]=[I(" Siguiente ")])),_:1},8,["class","disabled"])])])])):U("",!0)])])]),_:1}),i(ie,{show:w.value,closeable:!1},{default:z(()=>[e[50]||(e[50]=t("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Cargando datos... ",-1)),t("div",ra,[i(s(Xe),{"aria-label":"Loading"})])]),_:1},8,["show"]),i(ie,{show:x.value,closeable:!0},{default:z(()=>[e[52]||(e[52]=t("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex flex-wrap tex-center justify-center bg-azul text-white"}," Validación Biométrica ",-1)),e[53]||(e[53]=t("div",{class:"mt-4 px-4"},[t("p",{class:"text-sm sm:text-base text-gray-800"}," Por favor, asegúrese de que su rostro esté bien iluminado y visible en la cámara (sin gorras, tapabocas, gafas). ")],-1)),t("div",na,[e[51]||(e[51]=t("label",{for:"camera"},"Seleccionar cámara:",-1)),k(t("select",{id:"camera","onUpdate:modelValue":e[30]||(e[30]=a=>$.value=a),class:"rounded-lg w-auto ms-4"},[(d(!0),u(L,null,W(G.value,a=>(d(),u("option",{key:a.deviceId,value:a.deviceId},F(a.label||"Cámara desconocida"),9,da))),128))],512),[[X,$.value]]),t("video",{ref_key:"video",ref:y,autoplay:"",muted:"",width:"400",height:"340",class:"rounded-xl shadow-lg flex mx-auto mt-6"},null,512),t("button",{type:"button",disabled:V.value,class:"bg-secondary hover:bg-primary z-1000 text-base sm:text-base text-white p-2 rounded-md shadow-xl flex mx-auto mt-4 disabled:bg-gray-500",onClick:e[31]||(e[31]=a=>Ue())}," Validar ",8,ca),I(" "+F(h.value),1)])]),_:1},8,["show"]),i(ie,{show:re.value,closeable:!0},{default:z(()=>[e[55]||(e[55]=t("h2",{class:"p-4 sm:text-4xl text-2x font-bold text-gray-800 text-justify flex tex-center justify-center bg-azul text-white"}," Aviso Importante para el proceso de registro ",-1)),e[56]||(e[56]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 mt-6"},[t("p",null," El dispositivo que utilice para registrarse debe contar con cámara, ya que es un requisito indispensable para la validación de identidad. "),t("br"),t("p",null," Asegúrese de ingresar correctamente toda la información solicitada, ya que cualquier error podría resultar en el rechazo. "),t("br"),t("p",null," Al momento de seleccionar su comuna o corregimiento, hágalo con precisión. Recuerde que el derecho al voto solo podrá ejercerse una única vez y no habrá posibilidad de repetir el proceso. ")],-1)),t("div",ua,[i(se,{type:"button",class:te(["h-full text-xl sm:text-2xl",{"opacity-25":s(o).processing}]),onClick:e[32]||(e[32]=a=>re.value=!1),disabled:s(o).processing},{default:z(()=>e[54]||(e[54]=[I(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])],64))}};export{Ta as default};
