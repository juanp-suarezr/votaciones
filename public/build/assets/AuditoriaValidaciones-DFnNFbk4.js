import{_ as S}from"./AuthenticatedLayout-CgDNlNf-.js";import{r as m,c as g,o as x,b as l,u as c,Z as V,d as u,e as t,i as $,j as y,F as f,k as j,t as i,n as C,N as h}from"./app-B6yFAzME.js";import{_ as L}from"./SecondaryButton-COISaDV1.js";import{_ as N}from"./Pagination-IRn4lN9a.js";import{s as D}from"./index-NPzz3BT2.js";import{s as F}from"./index-C0o6VrMj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-BBTA-8hS.js";import"./SecondaryButtonReturn-C-gUezTD.js";import"./PrimaryButton-CQFNt3KA.js";import"./XCircleIcon-ClcHFQtb.js";import"./index-Cs440XgY.js";import"./index-XV9siEJl.js";import"./index-Bme09EK8.js";import"./index-BYT0Xwr4.js";import"./index-COkdnfqZ.js";import"./index-CQ2xe2mL.js";import"./index-0ppgMMUg.js";const O={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},z={class:"flex gap 4 p-4"},B={class:"flex flex-col overflow-x-auto"},U={class:"inline-block rounded-lg shadow"},E={class:"inline-block min-w-full py-2"},I={class:"overflow-x-auto"},R={class:"min-w-full whitespace-no-wrap"},K={class:"border-b border-gray-200 bg-white p-1 text-sm"},M={class:"border-b border-gray-200 bg-white py-5 text-sm"},T={class:"text-gray-900 whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Z={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},q={class:"text-gray-900 whitespace-no-wrap"},G={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},H={class:"text-gray-900 whitespace-no-wrap"},J={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},P={class:"text-gray-900 whitespace-no-wrap"},Q={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},W={class:"text-gray-900 whitespace-no-wrap"},X={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},ft={__name:"AuditoriaValidaciones",props:{auditoria_registro:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(d){const p=d,_=[{url:"",text:"auditoria/historial validaciones"}];let b=m(p.filters.id_user??""),o=m(p.eventos.find(a=>a.id==15));const v=a=>{const r=new Date(a),e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${s}`},w=()=>{h.get("/auditoria-validaciones",{id_evento:o.value.id,id_user:b.value.id},{preserveState:!0,replace:!0})},k=()=>{b.value=null,o.value=p.eventos.find(a=>a.id==15),h.get("/auditoria-validaciones",{id_evento:o.value,id_user:b.value.id},{preserveState:!0,replace:!0})},A=function(a){let r=a.split(" "),e="",n=0;for(var s=0;s<r.length&&n<2;s++)r[s].length>0&&r[s]!==""&&(e+=r[s][0],n++);return e};return(a,r)=>(x(),g(f,null,[l(c(V),{title:"Auditoria validaciones"}),l(S,{breadCrumbLinks:_},{header:u(()=>r[1]||(r[1]=[y(" Auditoria validaciones ")])),default:u(()=>[t("div",O,[t("div",null,[l(c(F),{id:"eventos",modelValue:c(o),"onUpdate:modelValue":r[0]||(r[0]=e=>$(o)?o.value=e:o=e),options:d.eventos,filter:"",optionLabel:"nombre",placeholder:"Seleccione el evento",checkmark:"",highlightOnSelect:!1,onChange:w,class:"block w-full px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"])]),t("div",z,[l(L,{class:"me-4 py-2 h-full",onClick:k},{default:u(()=>r[2]||(r[2]=[y(" Limpiar ")])),_:1})])]),t("div",B,[t("div",U,[t("div",E,[t("div",I,[t("table",R,[r[3]||(r[3]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{colspan:"2",class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Usuario validador "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Accion "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," votante validado "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Ip Address "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," User Agent "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha de registro ")])],-1)),t("tbody",null,[(x(!0),g(f,null,j(d.auditoria_registro.data,e=>(x(),g("tr",{key:e.id,class:"text-gray-700"},[t("td",K,[l(c(D),{label:A(e.usuario.name),class:"bg-indigo-200 text-indigo-800 text-xl",size:"large",shape:"circle"},null,8,["label"])]),t("td",M,[t("p",T,i(e.usuario.name),1)]),t("td",Y,[t("p",{class:C(["text-gray-900 whitespace-no-wrap",{"text-green-600":e.accion==="Activo","text-red-600":e.accion=="Rechazado"}])},i(e.accion=="Activo"?"Aprobado":e.accion),3)]),t("td",Z,[t("p",q,i(e.hash_votante.votante.nombre)+" - "+i(e.hash_votante.votante.identificacion),1)]),t("td",G,[t("p",H,i(e.ip_address),1)]),t("td",J,[t("p",P,i(e.user_agent),1)]),t("td",Q,[t("p",W,i(v(e.created_at)),1)])]))),128))])])])])])]),t("div",X,[l(N,{links:d.auditoria_registro.links},null,8,["links"])])]),_:1})],64))}};export{ft as default};
