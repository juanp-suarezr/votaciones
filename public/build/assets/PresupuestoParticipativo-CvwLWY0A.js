import{k as j,T as S,r as f,m as $,a as n,b as a,d,f as t,u as r,Z as N,e as b,j as x,t as l,F as y,h as T,g as z,i as B,l as L,n as h,N as v}from"./app-BskcHc5B.js";import{_ as D}from"./Pagination-DmbEEReD.js";import{_ as F}from"./Modal-S6-bmnPp.js";import{s as O}from"./index-zYEcOy3a.js";import{_ as P}from"./SecondaryButton-BtkF-oxE.js";import{_ as R}from"./SecondaryButtonReturn-CN-cSzwP.js";import{r as E}from"./EyeIcon-CpYaeX9w.js";import"./index-BA9tx9EM.js";import"./index-5dntp_Po.js";import"./index-DRYIuwzr.js";import"./index-Be1fzYNM.js";import"./index-BZqujO1y.js";import"./index-DM08SyfQ.js";import"./index-Biyr0XtE.js";import"./index-DhrXniox.js";const M={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},A={class:"w-full flex justify-between sm:px-16 px-4"},I={class:"w-full flex justify-center my-auto sm:px-16 px-4"},K={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},U={class:"mt-2 text-base"},Z={class:"mt-4 w-full flex flex-wrap"},q={class:"flex gap 4 p-4"},G={key:0,class:"flex flex-col overflow-x-auto mt-6"},H={class:"inline-block rounded-lg shadow"},J={class:"inline-block min-w-full py-2"},Q={class:"overflow-x-auto"},W={class:"min-w-full whitespace-no-wrap"},X={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Y={class:"text-gray-900 whitespace-no-wrap"},tt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},st={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ot={class:"text-gray-900 whitespace-no-wrap"},rt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},at={class:"text-gray-900 whitespace-no-wrap"},lt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},it={class:"text-gray-900 whitespace-no-wrap"},nt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},dt={class:"flex gap-2"},ct=["onClick"],pt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},ut={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},xt={class:"p-4 sm:text-4xl text-2x text-center font-bold text-gray-800 text-center flex tex-center justify-center bg-azul text-white"},bt={class:"sm:flex gap-4 sm:text-2xl text-xl my-6 p-4"},mt={class:"sm:w-1/2 px-4 mb-12"},gt=["disabled"],ft={class:"sm:w-1/2 px-4 mb-8"},yt=["disabled"],Ft={__name:"PresupuestoParticipativo",props:{evento:{type:Object,default:()=>[]},resultados:{type:Object,default:()=>[]}},setup(i){j("$swal");const c=i;console.log(c);const o=S({id_evento:c.evento.id,subtipo:"",comuna:""}),p=f(""),_=c.resultados.data,m=f(!1),w=()=>{v.get("/resultado-comunas",{id_evento:c.evento.id,subtipo:p.value.value},{preserveState:!0,replace:!0})},k=()=>{p.value="",v.get("/resultado-comunas",{id_evento:c.evento.id,subtipo:p.value},{preserveState:!0,replace:!0})},C=u=>{m.value=!0,o.subtipo=u.value,o.comuna=u.label},g=u=>{u==1?o.get(route("resultado-proyectos"),{preserveState:!0}):o.get(route("resultado-generales"),{preserveState:!0})};return(u,e)=>{const V=$("tooltip");return a(),n(y,null,[d(r(N),{title:"Votaciones por comunas"}),t("div",M,[t("div",A,[e[4]||(e[4]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),d(R,{class:"h-full flex inline-flex mt-8 !text-base"},{default:b(()=>e[3]||(e[3]=[x(" Regresar ")])),_:1})]),t("div",I,[t("div",K,[e[8]||(e[8]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",U,l(i.evento.nombre)+" - Resultados por Comuna/Corregimiento ",1),t("div",Z,[d(r(O),{id:"comuna",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),options:r(_),filter:"",optionLabel:"label",placeholder:"Seleccione la comuna/corregimiento",checkmark:"",highlightOnSelect:!1,onChange:w,class:"block h-full w-auto px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"]),t("div",q,[d(P,{class:"p-2 h-full",onClick:k},{default:b(()=>e[5]||(e[5]=[x(" Limpiar ")])),_:1})])]),i.resultados.data.length>0?(a(),n("div",G,[t("div",H,[t("div",J,[t("div",Q,[t("table",W,[e[6]||(e[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Comuna "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Virtuales "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Presenciales TIC "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos Físicos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Total "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),t("tbody",null,[(a(!0),n(y,null,T(i.resultados.data,s=>(a(),n("tr",{key:s.id,class:"text-gray-700"},[t("td",X,[t("p",Y,l(s.label),1)]),t("td",tt,[t("p",et,l(s.votos_virtuales),1)]),t("td",st,[t("p",ot,l(s.votos_presenciales_Tic),1)]),t("td",rt,[t("p",at,l(s.votos_fisicos),1)]),t("td",lt,[t("b",it,l(s.votos_virtuales+s.votos_fisicos+s.votos_presenciales_Tic),1)]),t("td",nt,[t("div",dt,[z((a(),n("button",{class:"border border-gray-400 rounded-full hover:!bg-gray-200 p-1",onClick:ht=>C(s)},[d(r(E),{class:"h-6 w-6 text-gray-800"})],8,ct)),[[V,"Ver detalles",void 0,{bottom:!0}]])])])]))),128))])])])])])])):(a(),n("div",pt,e[7]||(e[7]=[t("em",null," No hay comunas con votaciones realizadas ",-1)]))),t("div",ut,[i.resultados.data.length>0?(a(),B(D,{key:0,links:i.resultados.links},null,8,["links"])):L("",!0)])])])]),d(F,{show:m.value,closeable:!0},{default:b(()=>[t("h2",xt,[e[9]||(e[9]=x(" Votación ")),e[10]||(e[10]=t("br",null,null,-1)),x(" Comuna/Corregimiento: "+l(r(o).comuna),1)]),t("div",bt,[t("div",mt,[e[11]||(e[11]=t("p",{class:"mx-auto text-center"},"Ver votación por proyecto",-1)),t("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-primary hover:bg-secondary text-white rounded-lg shadow-md p-2",{"opacity-25":r(o).processing}]),onClick:e[1]||(e[1]=s=>g(1)),disabled:r(o).processing}," Continuar ",10,gt)]),t("div",ft,[e[12]||(e[12]=t("p",{class:"mx-auto text-center"},"Ver votación datos generales",-1)),t("button",{type:"button",class:h(["flex mx-auto mt-4 text-xl sm:text-2xl bg-azul hover:bg-azul/80 text-white rounded-lg shadow-md p-2",{"opacity-25":r(o).processing}]),onClick:e[2]||(e[2]=s=>g(2)),disabled:r(o).processing}," Continuar ",10,yt)])])]),_:1},8,["show"])],64)}}};export{Ft as default};
