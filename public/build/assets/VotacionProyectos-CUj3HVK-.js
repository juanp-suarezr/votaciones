import{x as v,T as k,r as p,c as i,o as n,b,e as t,u as f,Z as C,d as V,j as g,t as r,F as x,k as j}from"./app-CTH0EfYJ.js";import{_ as S}from"./SecondaryButtonReturn-B2CGcSpu.js";import{C as N,A as B,B as A,a as E,L,p as T,b as z,c as P,s as R}from"./chartjs-plugin-datalabels.esm-Dr2d_Y2I.js";import"./index-BjJtr76W.js";const D={class:"relative min-h-screen bg-center bg-option2 selection:bg-red-500 selection:text-white flex flex-col justify-center"},F={class:"w-full flex justify-between sm:px-16 px-4"},O={class:"w-full flex justify-center my-auto sm:px-16 px-4"},Z={class:"w-full border border-gray-200 bg-white shadow-md rounded-lg p-4"},$={class:"mt-2 text-base"},G={class:"flex gap-2 mt-2"},q={class:"flex gap-2 mt-2"},H={class:"mt-6"},I={class:"w-full mt-6"},J={class:"w-full h-full mt-4"},K={class:"w-full mb-4"},M={key:0,class:"flex flex-col overflow-x-auto mt-6"},Q={class:"inline-block rounded-lg shadow"},U={class:"inline-block min-w-full py-2"},W={class:"overflow-x-auto"},X={class:"min-w-full whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},tt={class:"text-gray-900 whitespace-no-wrap"},ot={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},st={class:"text-gray-900 whitespace-no-wrap"},et={class:"text-gray-700"},at={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},lt={class:"text-gray-900 whitespace-no-wrap"},rt={class:"text-gray-700"},it={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},nt={class:"text-gray-900 whitespace-no-wrap"},dt={key:1,class:"flex flex-col overflow-x-auto justify-center items-center"},gt={__name:"VotacionProyectos",props:{proyectos:{type:Object,default:()=>[]},votos_nulos:{type:Number,default:()=>[]},votos_no_marcados:{type:Number,default:()=>[]},comuna:{type:String,default:()=>""},subtipo:{type:String,default:()=>""},id_evento:{type:String,default:()=>""},total_votos_virtuales:{type:Number,default:()=>[]},total_votos_fisicos:{type:Number,default:()=>""}},setup(a){N.register(B,A,E,L,T,z,P),v("$swal");const e=a;console.log(e);const u=k({id_evento:e.id_evento,subtipo:"",comuna:""}),m=["#C20E1A","#004884","#E20613","#003070","#585857"];let d=e.proyectos.map(s=>s.nombre??"Sin nombre"),c=e.proyectos.map(s=>s.total??0);console.log(d),console.log(c),d.push("Votos nulos"),d.push("Votos no marcados"),c.push(e.votos_nulos),c.push(e.votos_no_marcados);function y(s){const o=[];for(let l=0;l<s;l++)o.push(m[l%m.length]);return o}p({labels:e.proyectos.map(s=>s.nombre),datasets:[{data:e.proyectos.map(s=>s.total),backgroundColor:y(e.proyectos.length)}]}),p({plugins:{legend:{display:!0,position:"bottom",labels:{color:"#333",font:{size:14}}},datalabels:{color:"white",formatter:s=>s,font:{weight:"bold",size:16}}}});const h=p({labels:d,datasets:[{label:"Total de votos",data:c,backgroundColor:y(e.proyectos.length)}]}),_=p({indexAxis:"x",plugins:{legend:{display:!1},datalabels:{color:"white",formatter:s=>s,font:{weight:"bold",size:16}}},scales:{x:{beginAtZero:!0,ticks:{color:"#333"}},y:{ticks:{color:"#333"}}}}),w=()=>{u.subtipo=e.subtipo,u.comuna=e.comuna,u.get(route("resultado-generales"),{preserveState:!0})};return(s,o)=>(n(),i(x,null,[b(f(C),{title:"Votaciones por comuna - proyectos"}),t("div",D,[t("div",F,[o[1]||(o[1]=t("a",{class:"sm:flex justify-start mt-2",href:"/welcome"},[t("img",{src:"/assets/img/logo.png",alt:"Logo",class:"h-24 w-auto"})],-1)),b(S,{class:"h-full flex inline-flex mt-8 !text-base"},{default:V(()=>o[0]||(o[0]=[g(" Regresar ")])),_:1})]),t("div",O,[t("div",Z,[o[8]||(o[8]=t("h2",{class:"font-bold mt-2 text-2xl"},"Resultados de Votación",-1)),t("p",$,"Comuna/corregimiento -- "+r(a.comuna),1),t("p",G,[o[2]||(o[2]=t("b",null,"Total registrados habilitados para votar virtualmente o electronico: ",-1)),g(" "+r(a.total_votos_virtuales),1)]),t("p",q,[o[3]||(o[3]=t("b",null,"Total registrados habilitados para votar presencial físico: ",-1)),g(" "+r(a.total_votos_fisicos),1)]),t("div",H,[t("div",I,[t("div",J,[b(f(R),{type:"bar",data:h.value,options:_.value,class:"w-full mt-4"},null,8,["data","options"])])]),t("div",K,[a.proyectos.length>0?(n(),i("div",M,[t("div",Q,[t("div",U,[t("div",W,[t("table",X,[o[6]||(o[6]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyectos "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Votos ")])],-1)),t("tbody",null,[(n(!0),i(x,null,j(a.proyectos,l=>(n(),i("tr",{key:l.id,class:"text-gray-700"},[t("td",Y,[t("p",tt,r(l.nombre),1)]),t("td",ot,[t("p",st,r(l.total),1)])]))),128)),t("tr",et,[o[4]||(o[4]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos nulos ")],-1)),t("td",at,[t("p",lt,r(a.votos_nulos),1)])]),t("tr",rt,[o[5]||(o[5]=t("td",{class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},[t("p",{class:"text-gray-900 whitespace-no-wrap"}," Votos no marcados ")],-1)),t("td",it,[t("p",nt,r(a.votos_no_marcados),1)])])])])])])])])):(n(),i("div",dt,o[7]||(o[7]=[t("em",null," No hay datos con votaciones realizadas ",-1)])))])])])]),t("div",{class:"w-full flex justify-end text-right sm:px-16 px-4 mb-6"},[t("button",{class:"border-2 border-gray-200 bg-white shadow-md rounded-full hover:!bg-gray-200 p-4 mt-4",onClick:w}," Resultados Generales ")])])],64))}};export{gt as default};
