import{_ as j}from"./AuthenticatedLayout-CTACvArd.js";import{r as f,c as u,o as x,b as i,u as n,Z as C,d as p,e as t,i as D,j as m,F as y,k as L,t as l,n as N,N as h}from"./app-BCaQpHsm.js";import{_ as F}from"./SecondaryButton-DgnP6oQ4.js";import{_ as O}from"./Pagination-Bl_Z5ZEg.js";import{s as z}from"./index-CuS328VR.js";import{s as B}from"./index-DDuaK1FI.js";import{_ as R}from"./SecondaryLink-DIv-mlaB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-JJJk67pW.js";import"./SecondaryButtonReturn-Cnh4hNV0.js";import"./PrimaryButton-BvR2ZBVo.js";import"./XCircleIcon-CMPOU9ID.js";import"./index-Dptqq3B_.js";import"./index-C7EsHN12.js";import"./index-Cge1yt0f.js";import"./index-CHuUmmzU.js";import"./index-C4bEG7Ur.js";import"./index-C9s61hU0.js";import"./index-BKw5CTfp.js";const U={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},E={class:"flex gap 4 p-4"},I={class:"flex gap 4 p-4 justify-end"},M={class:"flex flex-col overflow-x-auto"},H={class:"inline-block rounded-lg shadow"},K={class:"inline-block min-w-full py-2"},T={class:"overflow-x-auto"},Y={class:"min-w-full whitespace-no-wrap"},Z={class:"border-b border-gray-200 bg-white p-1 text-sm"},q={class:"border-b border-gray-200 bg-white py-5 text-sm"},G={class:"text-gray-900 whitespace-no-wrap"},J={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},P={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},Q={class:"text-gray-900 whitespace-no-wrap"},W={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},X={class:"text-gray-900 whitespace-no-wrap"},tt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},et={class:"text-gray-900 whitespace-no-wrap"},rt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},at={class:"text-gray-900 whitespace-no-wrap"},st={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},St={__name:"AuditoriaValidaciones",props:{auditoria_registro:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(d){const g=d,_=[{url:"",text:"auditoria/historial validaciones"}];let b=f(g.filters.id_user??""),s=f(g.eventos.find(a=>a.id==15));const v=a=>{const e=new Date(a),r=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),$=String(e.getHours()).padStart(2,"0"),A=String(e.getMinutes()).padStart(2,"0"),V=String(e.getSeconds()).padStart(2,"0");return`${r}-${c}-${o} ${$}:${A}:${V}`},w=()=>{h.get("/auditoria-validaciones",{id_evento:s.value.id,id_user:b.value.id},{preserveState:!0,replace:!0})},k=()=>{b.value=null,s.value=g.eventos.find(a=>a.id==15),h.get("/auditoria-validaciones",{id_evento:s.value,id_user:b.value.id},{preserveState:!0,replace:!0})},S=function(a){let e=a.split(" "),r="",c=0;for(var o=0;o<e.length&&c<2;o++)e[o].length>0&&e[o]!==""&&(r+=e[o][0],c++);return r};return(a,e)=>(x(),u(y,null,[i(n(C),{title:"Auditoria validaciones"}),i(j,{breadCrumbLinks:_},{header:p(()=>e[1]||(e[1]=[m(" Auditoria validaciones ")])),default:p(()=>[t("div",U,[t("div",null,[i(n(B),{id:"eventos",modelValue:n(s),"onUpdate:modelValue":e[0]||(e[0]=r=>D(s)?s.value=r:s=r),options:d.eventos,filter:"",optionLabel:"nombre",placeholder:"Seleccione el evento",checkmark:"",highlightOnSelect:!1,onChange:w,class:"block w-full px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue","options"])]),t("div",E,[i(F,{class:"me-4 py-2 h-full",onClick:k},{default:p(()=>e[2]||(e[2]=[m(" Limpiar ")])),_:1})]),t("div",I,[i(R,{class:"me-4 py-2 h-full !bg-green-400 text-green-800",href:a.route("auditoriaVal.excel",{id_evento:n(s)})},{default:p(()=>e[3]||(e[3]=[m(" Descargar Reporte ")])),_:1},8,["href"])])]),t("div",M,[t("div",H,[t("div",K,[t("div",T,[t("table",Y,[e[4]||(e[4]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{colspan:"2",class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Usuario validador "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Accion "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," votante validado "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Ip Address "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," User Agent "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha de validaciÃ³n ")])],-1)),t("tbody",null,[(x(!0),u(y,null,L(d.auditoria_registro.data,r=>(x(),u("tr",{key:r.id,class:"text-gray-700"},[t("td",Z,[i(n(z),{label:S(r.usuario.name),class:"bg-indigo-200 text-indigo-800 text-xl",size:"large",shape:"circle"},null,8,["label"])]),t("td",q,[t("p",G,l(r.usuario.name),1)]),t("td",J,[t("p",{class:N(["text-gray-900 whitespace-no-wrap",{"text-green-600":r.accion==="Activo","text-red-600":r.accion=="Rechazado"}])},l(r.accion=="Activo"?"Aprobado":r.accion),3)]),t("td",P,[t("p",Q,l(r.hash_votante.votante.nombre)+" - "+l(r.hash_votante.votante.identificacion),1)]),t("td",W,[t("p",X,l(r.ip_address),1)]),t("td",tt,[t("p",et,l(r.user_agent),1)]),t("td",rt,[t("p",at,l(v(r.created_at)),1)])]))),128))])])])])])]),t("div",st,[i(O,{links:d.auditoria_registro.links},null,8,["links"])])]),_:1})],64))}};export{St as default};
