import{x as D,T as B,r as v,s as K,w as G,c as m,o as d,e as t,H as P,b as p,f as k,l as H,I as W,u as r,J as Y,j as a,B as Z,h as C,d as g,n as j,Z as Q,p as E,F as N,k as z,t as x}from"./app-BxIIz8xi.js";import{_ as X}from"./BreadCrumb-B2B6hVTB.js";import{_ as S}from"./PrimaryButton-6W-93YlO.js";import{r as tt,a as I}from"./XCircleIcon-B6mCsqlc.js";import{s as et}from"./index-BnO4kO_U.js";import{s as st}from"./index-B5dVfnrr.js";import{c as ot}from"./comunas_completas-Gg-gMHNz.js";import{_ as lt}from"./Modal-BP6luseK.js";import"./index-qDRMcyrz.js";import"./index-BpLu9pOF.js";const it={class:"flex h-screen bg-gray-200 font-roboto"},rt={class:"flex flex-1 flex-col overflow-hidden"},nt={class:"flex-1 overflow-y-auto mb-4 overflow-x-hidden bg-gray-200"},at={class:"w-full flex justify-between items-center h-auto p-2 px-4 bg-azul shadow-lg"},dt={class:"min-[300px]:text-sm md:text-md lg:text-lg font-medium text-white"},ut={class:"mx-auto px-6 pt-4"},ct={class:"mx-auto px-6 py-8 relative"},xt={class:"lg:block fixed right-4 top-[25%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},mt={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},pt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},bt={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},ft={class:"mb-2"},vt={class:"mb-2"},gt={class:"mb-2"},yt={class:"mb-2"},wt={class:"mb-2 hidden"},A="panel_visible",ht={__name:"SimpleLayout",props:{breadCrumbLinks:{type:Array,default:()=>[]}},setup(f){const y=D("$swal"),i=B({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""});console.log(f);const u=v(!1);K(()=>{const c=localStorage.getItem(A);c!==null?u.value=c==="true":u.value=window.innerWidth>=768}),G(u,c=>{localStorage.setItem(A,c)});const w=()=>{u.value=!u.value},h=()=>{i.post(route("enviarSolicitud"),{onSuccess:function(){y({title:"Solicitud enviada con Ã©xito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirÃ¡ respuesta",icon:"success"}).then(()=>{u.value=!1})},onError:function(){y({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(c,o)=>(d(),m("div",it,[t("div",rt,[t("main",nt,[t("div",at,[t("h3",dt,[P(c.$slots,"header")])]),t("div",ut,[p(X,{links:f.breadCrumbLinks},null,8,["links"])]),t("div",ct,[P(c.$slots,"default"),t("button",{onClick:w,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar informaciÃ³n"},[(d(),H(W(u.value?r(tt):r(I)),{class:"w-6 h-6 lg:w-8 lg:h-8"}))]),k(t("div",xt,[t("div",mt,[t("h4",pt,[p(r(I),{class:"h-4 w-4"}),o[5]||(o[5]=a(" Â¿Necesitas soporte? "))]),t("div",bt,[o[12]||(o[12]=t("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),t("form",{onSubmit:Z(h,["prevent"])},[t("div",ft,[o[6]||(o[6]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),k(t("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>r(i).nombre=n),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).nombre]])]),t("div",vt,[o[7]||(o[7]=t("label",{class:"text-xs md:text-sm text-gray-700"},"IdentificaciÃ³n",-1)),k(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>r(i).identificacion=n),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).identificacion]])]),t("div",gt,[o[8]||(o[8]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),k(t("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>r(i).celular=n),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[C,r(i).celular]])]),t("div",yt,[o[9]||(o[9]=t("label",{class:"text-xs md:text-sm text-gray-700"},"DescripciÃ³n",-1)),p(r(et),{modelValue:r(i).descripcion,"onUpdate:modelValue":o[3]||(o[3]=n=>r(i).descripcion=n),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),t("div",wt,[o[10]||(o[10]=t("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),k(t("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>r(i).campo_obligatorio=n),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[C,r(i).campo_obligatorio]])]),p(S,{class:j(["mt-2",{"opacity-25":r(i).processing}]),disabled:r(i).processing},{default:g(()=>o[11]||(o[11]=[a(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[Y,u.value]])])])])]))}},_t={class:"items-center flex flex-col justify-center mx-2"},kt={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},$t={class:"mx-auto w-full flex justify-center items-center"},Ct={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},jt={class:"m-auto sm:text-4xxl text-xxl object-cover"},St={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Vt=["src"],Et={class:"mt-4 mx-auto"},Nt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},Ot={class:"sm:text-2xl text-xl text-justify"},Pt={class:"sm:text-2xl text-xl text-justify"},zt=["onClick"],It={class:"mt-4 mx-auto"},At={class:"mx-auto"},Dt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Bt=["src"],Mt={class:"mt-8 mx-auto"},Tt={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Ut={class:"bg-white p-6 rounded-lg w-full"},Lt={class:"mb-4 text-base sm:text-2xl"},qt={class:"mb-4 text-base sm:text-2xl"},Rt={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Ft={class:"bg-white p-6 rounded-lg w-full"},Jt={class:"flex flex-wrap gap-8 mt-4 text-base sm:text-4xl"},Kt={class:"w-auto border-r pr-2 border-gray-600"},Gt={class:"w-auto pr-2"},Ht={class:"mt-6 text-base sm:text-4xl"},Wt={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6 mt-6"},Yt={class:"flex justify-end pr-6 pt-4"},Zt={class:"px-6 mt-4"},Qt={class:"max-h-80 overflow-y-auto pr-2 space-y-4"},Xt={class:"space-y-4"},te={class:"flex flex-col gap-2"},ee={class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},se={class:"text-lg sm:text-xl text-gray-700 leading-relaxed"},oe={class:"flex justify-center gap-4 text-center h-full my-8"},pe={__name:"ProyectosJurados",props:{proyectos:Object,votante:Object,last_vote:Number},setup(f){const y=D("$swal"),i=f;console.log(i);const b=B({isProyecto:!0,id_votante:i.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",subtipo:0,estado:"Activo",last_vote:i.last_vote?parseInt(i.last_vote):0}),u=v(!1),w=v(!1),h=v(!1),c=v({proyecto:{detalle:""}}),o=v(0),n=v([]),M=function(s){let e=s.split(" "),l="",$=0;for(var _=0;_<e.length&&$<2;_++)e[_].length>0&&e[_]!==""&&(l+=e[_][0],$++);return l},T=s=>`/storage/uploads/usuarios/${s}`,U=s=>`/storage/uploads/proyectos/${s}`,V=s=>{var e;return console.log(s),(e=ot.find(l=>l.value==s))==null?void 0:e.label},L=(s,e)=>s?s.length>e?s.substring(0,e)+"...":s:"",q=s=>{c.value=s,w.value=!0},O=s=>{n.value=s,console.log(s),b.id_candidato=s?s.id_proyecto:0,b.id_eventos=s?s.id_evento:i.proyectos[0].id_evento,b.tipo=s?s.proyecto.tipo:i.proyectos[0].proyecto.tipo,b.subtipo=s?s.proyecto.subtipo:i.proyectos[0].proyecto.subtipo,o.value=s?s.id:null,h.value=!0},R=()=>{b.post(route("votos.store"),{onSuccess:()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:!1,closeOnClickOutside:!1,closeOnEsc:!1}),setTimeout(()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:{confirm:"OK"}})},3e3)},onError:()=>y({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})},F=s=>{window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(s);e.lang="es-CO",e.rate=1,e.pitch=1,window.speechSynthesis.speak(e)},J=()=>{let s="Aviso importante para el proceso de votaciÃ³n. Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad. Proyectos disponibles: ";i.proyectos.forEach(e=>{s+=`. Proyecto: ${e.nombre}. Detalle: ${e.proyecto.detalle}. `}),F(s)};return(s,e)=>(d(),m(N,null,[p(r(Q),{title:"Votaciones"}),p(ht,null,{header:g(()=>e[6]||(e[6]=[a(" Votaciones ")])),default:g(()=>[t("div",_t,[t("div",kt,[(d(!0),m(N,null,z(f.proyectos,l=>(d(),m("div",{key:l.id,class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",o.value===l.id?"border-4 border-red-500":""])},[t("div",$t,[l.proyecto.imagen=="NA"?(d(),m("div",Ct,[t("p",jt,x(M(l.proyecto.detalle)),1)])):(d(),m("div",St,[t("img",{src:U(l.proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,Vt)]))]),p(r(st),{value:V(l.proyecto.subtipo),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2"},null,8,["value"]),t("div",Et,[t("h2",Nt," Proyecto -- "+x(l.proyecto.numero_tarjeton),1),t("p",Ot,[e[7]||(e[7]=t("b",null,"Nombre Proyecto:",-1)),e[8]||(e[8]=a()),e[9]||(e[9]=t("br",null,null,-1)),a(" "+x(l.proyecto.detalle),1)]),t("p",Pt,[e[10]||(e[10]=t("b",null,"DescripciÃ³n:",-1)),e[11]||(e[11]=a()),e[12]||(e[12]=t("br",null,null,-1)),a(" "+x(L(l.proyecto.descripcion,80))+" ",1),l.proyecto.descripcion.length>80?(d(),m("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:$=>q(l)}," Ver mÃ¡s ",8,zt)):E("",!0)])]),t("div",It,[p(S,{type:"button",onClick:$=>O(l),class:"sm:text-2xl text-xl"},{default:g(()=>e[13]||(e[13]=[a(" Votar ")])),_:2},1032,["onClick"])])],2))),128)),t("div",{class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",o.value===null?"border-4 border-red-500":""])},[t("div",At,[t("div",Dt,[t("img",{src:T("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,Bt)])]),e[15]||(e[15]=t("div",{class:"mt-6 mx-auto"},[t("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[a(" VOTO "),t("br"),a(" EN BLANCO ")])],-1)),t("div",Mt,[p(S,{type:"button",onClick:e[0]||(e[0]=l=>O(null)),class:"sm:text-2xl text-xl"},{default:g(()=>e[14]||(e[14]=[a(" Votar ")])),_:1})])],2)])]),w.value?(d(),m("div",Tt,[t("div",Ut,[e[17]||(e[17]=t("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),t("p",Lt,x(c.value.proyecto.detalle),1),t("p",qt,[e[16]||(e[16]=t("b",null,"DescripciÃ³n:",-1)),a(" "+x(c.value.proyecto.descripcion),1)]),t("button",{onClick:e[1]||(e[1]=l=>w.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):E("",!0),h.value?(d(),m("div",Rt,[t("div",Ft,[e[21]||(e[21]=t("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," ðŸ—³ï¸ Confirmar voto ",-1)),e[22]||(e[22]=t("p",{class:"mb-4 text-base sm:text-4xl"},[t("span",{class:"text-lg sm:text-5xl font-bold"},"EstÃ¡ a punto de votar por el siguiente proyecto:")],-1)),t("div",Jt,[t("div",Kt,[e[18]||(e[18]=t("span",{class:"text-gray-600"},"NÃºmero Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025"),1)]),t("div",Gt,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"Comuna/Corregimiento:",-1)),a(" "+x(n.value?V(n.value.proyecto.subtipo):V(f.proyectos[0].proyecto.subtipo)),1)])]),t("div",Ht,[e[20]||(e[20]=t("span",{class:"text-gray-600"},"Nombre Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.detalle:"VOTO EN BLANCO"),1)]),t("div",Wt,[t("button",{onClick:e[2]||(e[2]=l=>h.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),t("button",{onClick:e[3]||(e[3]=l=>R()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):E("",!0),p(lt,{show:u.value,closeable:!0},{default:g(()=>[e[26]||(e[26]=t("h2",{class:"p-4 sm:text-4xl text-2xl font-bold flex justify-center text-center bg-azul text-white"}," Aviso Importante para el proceso de votaciÃ³n ",-1)),t("div",Yt,[t("button",{onClick:e[4]||(e[4]=l=>J()),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[27]||(e[27]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 leading-relaxed"},[t("p",null," Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad para realizar esta acciÃ³n. ")],-1)),t("div",Zt,[e[24]||(e[24]=t("h3",{class:"text-2xl sm:text-3xl font-semibold mb-4 text-gray-800"}," Proyectos Disponibles ",-1)),t("div",Qt,[t("ul",Xt,[(d(!0),m(N,null,z(f.proyectos,l=>(d(),m("li",{key:l.id,class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",te,[t("h4",ee,[e[23]||(e[23]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})],-1)),a(" "+x(l.nombre),1)]),t("p",se,x(l.proyecto.detalle),1)])]))),128))])])]),t("div",oe,[p(S,{type:"button",class:j(["h-full text-xl sm:text-2xl px-8 py-3",{"opacity-25":r(b).processing}]),onClick:e[5]||(e[5]=l=>u.value=!1),disabled:r(b).processing},{default:g(()=>e[25]||(e[25]=[a(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{pe as default};
