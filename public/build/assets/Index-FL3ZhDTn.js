import{_ as A}from"./AuthenticatedLayout-DZkY-PHi.js";import{_ as B}from"./Pagination-HpNTw5Rj.js";import{_ as D}from"./PrimaryLink-oNoPnxCa.js";import{_ as k,a as E}from"./Modal-InZ4mG2C.js";import{x as N,r as p,T as q,e as C,f as I,k as P,o as h,c as y,a as s,u as m,w as i,F as $,Z as L,b as n,d as e,i as R,t as c,n as M}from"./app-PcRM3UgZ.js";import{_ as F}from"./DangerButton-fv_LgJwP.js";import{_ as G,a as O,b as Z}from"./TextInput-2QPlzEFa.js";const H={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},J={class:"text-right p-4"},K={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},Q={class:"w-full whitespace-no-wrap overflow-x-auto"},W=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Descripción "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Dependencia "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha inicio "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha fin "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1),X={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},se={class:"text-gray-900 whitespace-no-wrap"},te={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},oe={class:"text-gray-900 whitespace-no-wrap"},re={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ae={class:"text-gray-900 whitespace-no-wrap"},ie={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},le={class:"text-gray-900 whitespace-no-wrap"},ne={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ce={class:"text-gray-900 whitespace-no-wrap"},de={class:"w-full inline-block border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},pe={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},me={class:"p-6"},ue={class:"text-xl font-semibold"},xe={class:"mt-6"},be={class:"flex items-center justify-end mt-6"},fe={class:"p-6"},ge=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un tipo de usuario? ",-1),_e=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1),he={class:"mt-6 flex justify-end"},Fe={__name:"Index",props:{eventos:Object},setup(b){const u=b,f=N("$swal"),g=p(!1),_=p(!1),l=p(0),t=q({password:"",nombre:""}),d=()=>{g.value=!1,_.value=!1,t.reset()},S=o=>{t.nombre=u.tipos.find(a=>a.id==o)?u.tipos.find(a=>a.id==o).nombre:"",_.value=!0,l.value=o},T=o=>{o=="new"?t.post(route("tipos.store",l.value),{preserveScroll:!0,onSuccess:()=>{d(),f({title:"Registro Creado",text:"El tipo se ha registrado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()}):t.put(route("tipos.update",l.value),{preserveScroll:!0,onSuccess:()=>{d(),f({title:"Registro Actualizado",text:"El tipo se ha actualizado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()})},U=o=>{g.value=!0,l.value=o},j=()=>{t.delete(route("tipos.destroy",l.value),{preserveScroll:!0,onSuccess:()=>{d(),f({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>t.reset()})},x=p(8),w=p(0);C(()=>Math.ceil(u.tipos.length/x.value)),I(x,()=>{w.value=0});const V=p("");return C(()=>{const o=w.value*x.value,a=o+x.value;return u.tipos.filter(r=>r.nombre.toLowerCase().includes(V.value.toLowerCase())).slice(o,a)}),(o,a)=>{const v=P("Button");return h(),y($,null,[s(m(L),{title:"Eventos"}),s(A,null,{header:i(()=>[n(" Eventos ")]),default:i(()=>[e("div",H,[e("div",J,[s(D,{href:o.route("eventos.create")},{default:i(()=>[n(" Agregar ")]),_:1},8,["href"])])]),e("div",K,[e("table",Q,[W,e("tbody",null,[(h(!0),y($,null,R(b.eventos.data,r=>(h(),y("tr",{key:r.id,class:"text-gray-700"},[e("td",X,[e("p",Y,c(r.nombre),1)]),e("td",ee,[e("p",se,c(r.descripcion),1)]),e("td",te,[e("p",oe,c(r.dependencias),1)]),e("td",re,[e("p",ae,c(r.fecha_inicio),1)]),e("td",ie,[e("p",le,c(r.fecha_fin),1)]),e("td",ne,[e("p",ce,c(r.estado),1)]),e("td",de,[s(k,{type:"button",onClick:z=>S(r.id),class:"mb-3"},{default:i(()=>[n(" Editar ")]),_:2},1032,["onClick"]),s(F,{onClick:a[0]||(a[0]=z=>U(o.tipo.id))},{default:i(()=>[n("Eliminar")]),_:1})])]))),128))])]),e("div",pe,[s(B,{links:b.eventos.links},null,8,["links"])])]),s(E,{show:_.value,onClose:d},{default:i(()=>[e("div",me,[e("h2",ue,c(l.value=="new"?"Añadir Tipo de Usuario":"Editar Tipo de Usuario"),1),e("div",xe,[s(G,{class:"sm:text-sm text-xs",for:"nombre",value:"Nombre del tipo de usuario"}),s(O,{id:"nombre",type:"text",class:"mt-1 block w-full p-0 sm:p-2",modelValue:m(t).nombre,"onUpdate:modelValue":a[1]||(a[1]=r=>m(t).nombre=r),required:"",autocomplete:"nombre"},null,8,["modelValue"]),s(Z,{class:"mt-1",message:m(t).errors.nombre},null,8,["message"])]),e("div",be,[s(v,{class:"bg-blue-800 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor",type:"button",onClick:a[2]||(a[2]=r=>T(l.value))},{default:i(()=>[n("Guardar")]),_:1})])])]),_:1},8,["show"]),s(E,{show:g.value,onClose:d},{default:i(()=>[e("div",fe,[ge,_e,e("div",he,[s(k,{onClick:d},{default:i(()=>[n(" Cancelar ")]),_:1}),s(F,{class:M(["ms-3",{"opacity-25":m(t).processing}]),disabled:m(t).processing,onClick:j},{default:i(()=>[n(" Eliminar tipo de usuario ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64)}}};export{Fe as default};
