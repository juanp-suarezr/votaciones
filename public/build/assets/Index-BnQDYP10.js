import{x as L,r as f,T as R,c as x,o as b,b as o,u as a,Z as M,d as l,e as t,f as _,i as j,v as A,g as B,h as Z,j as n,F as D,k as G,t as v,n as N,p as I,N as H}from"./app-BHqMkuYd.js";import{_ as J}from"./AuthenticatedLayout-CbfLa1L0.js";import{_ as Q}from"./Pagination-CeplZ4m0.js";import{_ as W}from"./PrimaryButton-F7z6cVDG.js";import{_ as P}from"./Modal-B3RctYNZ.js";import{_ as C}from"./SecondaryButton-B6ltthZJ.js";import{_ as U}from"./DangerButton-DsaMVldb.js";import{_ as E}from"./InputError-BmZ7GgaE.js";import{_ as V}from"./InputLabel-BqXJtIyW.js";import{_ as q}from"./TextInput-CB4VZ2rn.js";import{s as X}from"./index-DNweyFNv.js";import"./index-B_l8hspz.js";import"./index-xG-ogl8F.js";import"./index-D8Ib4L7d.js";import"./SecondaryButtonReturn-AGM51iA5.js";import"./XCircleIcon-Ch4-DsVa.js";import"./TrashIcon-Brtgrzd8.js";import"./index-MlNXRvnv.js";import"./index-x5s95k5V.js";const Y={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},ee={class:"..."},te={class:"relative"},se={class:"text-right p-4 gap-2 flex flex-wrap"},re={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},oe={class:"w-full whitespace-no-wrap overflow-x-auto"},ae={key:0},le={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},de={class:"text-gray-900 whitespace-no-wrap"},ie={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ne={class:"text-gray-900 whitespace-no-wrap"},me={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},pe={class:"w-auto border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs flex flex-wrap gap-4"},ue={key:1},ce={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},xe={class:"p-6"},be={class:"text-xl font-semibold"},ge={class:"mt-6"},fe={key:0,class:"mt-4"},ye={class:"flex items-center justify-end mt-6"},we={class:"p-6"},ve={class:"mt-6"},ke={class:"mt-6 flex justify-end"},Ke={__name:"Index",props:{parametros:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(y){const g=y,p=L("$swal"),k=f(!1),h=f(!1),i=f(0),r=R({password:"",detalle:"",codParametro:g.filters.codParametro,estado:"1"}),F=[{url:"/parametros",text:"listado de parámetros generales"},{url:"",text:"listado de parámetros detalle"}],d=()=>{k.value=!1,h.value=!1,r.reset()},$=m=>{let e=g.parametros.data.find(s=>s.id==m);r.detalle=e?e.detalle:"",r.estado=e?e.estado:"",h.value=!0,i.value=m},T=m=>{m=="new"?r.post(route("parametrosDetalle.store"),{preserveScroll:!0,replace:!0,onSuccess:()=>{d(),p({title:"Registro Creado",text:"El parametro detalle se ha registrado exitosamente",icon:"success"})},onError:()=>{d(),p({title:"Error",text:"Ocurrió un error al registrar el parámetro.",icon:"error"})},onFinish:()=>r.reset()}):(console.log(r.estado),console.log(i.value),r.patch(route("parametrosDetalle.update",i.value),{preserveScroll:!0,replace:!0,onSuccess:()=>{d(),p({title:"Registro Actualizado",text:"El parámetro se ha actualizado exitosamente",icon:"success"})},onError:()=>{d(),p({title:"Error",text:"Ocurrió un error al registrar el parámetro.",icon:"error"})},onFinish:()=>r.reset()}))},z=m=>{k.value=!0,i.value=m},S=()=>{r.delete(route("parametrosDetalle.destroy",i.value),{preserveScroll:!0,onSuccess:()=>{d(),p({title:"Registro Eliminado",text:"El parámetro detalle se ha eliminado exitosamente",icon:"success"})},onError:()=>{d(),p({title:"Error",text:"Ocurrió un error al eliminar el parámetro.",icon:"error"})},onFinish:()=>r.reset()})};let u=f(g.filters.search),c=f(g.filters.estado??"");const w=()=>{H.get("/parametrosDetalle",{search:u.value,estado:c.value,codParametro:g.filters.codParametro},{preserveState:!0,preserveScroll:!0,replace:!0})},O=()=>{u.value="",c.value="",w()};return(m,e)=>(b(),x(D,null,[o(a(M),{title:"Parámetros detalle"}),o(J,{breadCrumbLinks:F},{header:l(()=>e[7]||(e[7]=[n(" Parámetros detalle ")])),default:l(()=>[t("div",Y,[t("div",null,[_(t("select",{id:"estado",name:"estado","onUpdate:modelValue":e[0]||(e[0]=s=>j(c)?c.value=s:c=s),onChange:w,class:"block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},e[8]||(e[8]=[t("option",{selected:"",value:""},"Filtrar por estado",-1),t("option",{value:"1"},"Activo",-1),t("option",{value:"0"},"Bloqueado",-1)]),544),[[A,a(c)]])]),t("div",ee,[e[10]||(e[10]=t("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),t("div",te,[e[9]||(e[9]=t("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),_(t("input",{type:"search",onKeydown:B(w,["enter"]),"onUpdate:modelValue":e[1]||(e[1]=s=>j(u)?u.value=s:u=s),id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-0 focus:border-transparent",placeholder:"Buscar por nombre",required:""},null,544),[[Z,a(u)]]),t("button",{type:"submit",onClick:w,class:"text-white absolute end-2.5 bottom-2.5 bg-sky-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-sky-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Buscar ")])]),t("div",se,[o(C,{onClick:O},{default:l(()=>e[11]||(e[11]=[n(" Limpiar ")])),_:1}),o(W,{onClick:e[2]||(e[2]=s=>$("new"))},{default:l(()=>e[12]||(e[12]=[n(" Agregar ")])),_:1})])]),t("div",re,[t("table",oe,[e[16]||(e[16]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Código padre "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),y.parametros.data.length>0?(b(),x("tbody",ae,[(b(!0),x(D,null,G(y.parametros.data,s=>(b(),x("tr",{key:s.id,class:"text-gray-700"},[t("td",le,[t("p",de,v(s.detalle),1)]),t("td",ie,[t("p",ne,v(s.codParametro),1)]),t("td",me,[t("p",{class:N(["text-gray-900 whitespace-no-wrap inline-flex px-2 rounded-md bg-red-200",{"!bg-green-400":s.estado===1}])},v(s.estado?"Activo":"Bloqueado"),3)]),t("td",pe,[o(C,{type:"button",onClick:K=>$(s.id),class:"mb-2"},{default:l(()=>e[13]||(e[13]=[n(" Editar ")])),_:2},1032,["onClick"]),o(U,{class:"p-1 mb-2",onClick:K=>z(s.id)},{default:l(()=>e[14]||(e[14]=[n("Eliminar")])),_:2},1032,["onClick"])])]))),128))])):(b(),x("tbody",ue,e[15]||(e[15]=[t("tr",null,[t("td",{class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs text-center",colspan:"5"},[t("p",{class:"whitespace-no-wrap bg-red-400 text-white text-base font-bold inline-flex px-2 rounded-md shadow-md"}," No hay registros de parámetros detalle ")])],-1)])))]),t("div",ce,[o(Q,{links:y.parametros.links},null,8,["links"])])]),o(P,{show:h.value,onClose:d},{default:l(()=>[t("div",xe,[t("h2",be,v(i.value=="new"?"Añadir Tipo de Usuario":"Editar Tipo de Usuario"),1),t("div",ge,[o(V,{class:"sm:text-sm text-xs",for:"nombre",value:"Nombre del parámetro detalle"}),o(q,{id:"nombre",type:"text",class:"mt-1 block w-full p-0 sm:p-2",modelValue:a(r).detalle,"onUpdate:modelValue":e[3]||(e[3]=s=>a(r).detalle=s),required:"",autocomplete:"nombre"},null,8,["modelValue"]),o(E,{class:"mt-1",message:a(r).errors.detalle},null,8,["message"])]),i.value!="new"?(b(),x("div",fe,[o(V,{class:"sm:text-sm text-xs",for:"estado",value:"Estado del parámetro detalle"}),_(t("select",{id:"estado",name:"estado","onUpdate:modelValue":e[4]||(e[4]=s=>a(r).estado=s),class:"mt-1 block w-full p-0 sm:p-2"},e[17]||(e[17]=[t("option",{value:"1"},"Activo",-1),t("option",{value:"0"},"Bloqueado",-1)]),512),[[A,a(r).estado]]),o(E,{class:"mt-1",message:a(r).errors.estado},null,8,["message"])])):I("",!0),t("div",ye,[o(a(X),{class:"bg-blue-800 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor",type:"button",onClick:e[5]||(e[5]=s=>T(i.value))},{default:l(()=>e[18]||(e[18]=[n("Guardar")])),_:1})])])]),_:1},8,["show"]),o(P,{show:k.value,onClose:d},{default:l(()=>[t("div",we,[e[21]||(e[21]=t("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar el parámetro? ",-1)),e[22]||(e[22]=t("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el parámetro especifico, esté deja de existir. Pero no se borra los registros relacionados con el usuario votante o candidato o proyecto. ",-1)),t("div",ve,[o(V,{for:"password",value:"Password",class:"sr-only"}),o(q,{id:"password",modelValue:a(r).password,"onUpdate:modelValue":e[6]||(e[6]=s=>a(r).password=s),type:"password",class:"mt-1 block w-3/4",placeholder:"Contraseña",onKeyup:B(S,["enter"])},null,8,["modelValue"]),o(E,{message:a(r).errors.password,class:"mt-2"},null,8,["message"])]),t("div",ke,[o(C,{onClick:d},{default:l(()=>e[19]||(e[19]=[n(" Cancelar ")])),_:1}),o(U,{class:N(["ms-3",{"opacity-25":a(r).processing}]),disabled:a(r).processing,onClick:S},{default:l(()=>e[20]||(e[20]=[n(" Eliminar parámetro detallado ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ke as default};
