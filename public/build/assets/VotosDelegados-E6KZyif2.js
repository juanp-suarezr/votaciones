import{_ as Z}from"./AuthenticatedLayout-DOPTANKP.js";import{M as G,r as m,T as H,c as n,o as i,a as d,u as N,Z as J,w as u,b as e,m as g,F as h,i as E,n as b,t as a,d as o,V as K}from"./app-Dj7PdhHe.js";import{_ as x}from"./PrimaryButton-sHOYhOEq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"items-center flex flex-col justify-center mx-2"},W={key:0,class:"mt-6 w-full"},X={class:"sm:flex w-full sm:grid md:grid-cols-3 grid-cols-2 gap-4 mt-6"},Y={class:"mx-auto w-full flex justify-center items-center"},tt={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},et={class:"m-auto sm:text-4xxl text-xxl object-cover"},lt=["image"],st=["src"],ot={class:"mt-4 mx-auto"},nt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},it={key:0,class:"sm:text-xl text-lg text-gray-800 mt-2"},at={class:"mt-4 mx-auto"},rt={class:"mx-auto"},dt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},ut=["src"],xt={class:"mt-6 mx-auto"},ct={class:"flex justify-end mt-6"},mt={key:1,class:"mt-6 w-full"},gt={class:"sm:flex w-full sm:grid md:grid-cols-3 grid-cols-2 gap-4 mt-6"},ft={class:"mx-auto w-full flex justify-center items-center"},vt={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},bt={class:"m-auto sm:text-4xxl text-xxl object-cover"},pt={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},yt=["src"],_t={class:"mt-4 mx-auto"},ht={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},wt={key:0,class:"sm:text-xl text-lg text-gray-800 mt-2"},kt={class:"mt-4 mx-auto"},jt={class:"mx-auto"},Ct={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Vt=["src"],$t={class:"mt-6 mx-auto"},Nt={class:"flex justify-between mt-6"},Et={key:2,class:"mt-6 w-full"},Ot={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},St={class:"mx-auto w-full flex justify-center items-center"},zt={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Dt={class:"m-auto sm:text-4xxl text-xxl object-cover"},Bt={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},It=["src"],At={class:"mt-4 mx-auto"},Lt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},Pt={class:"sm:text-2xl text-xl text-justify"},Tt={class:"sm:text-2xl text-xl text-justify"},Mt=["onClick"],Ft={class:"sm:text-xl text-lg font-bold capitalize text-gray-600 text-justify"},Ut={class:"mt-4 mx-auto"},qt={class:"mx-auto"},Rt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Zt=["src"],Gt={class:"mt-8 mx-auto"},Ht={class:"flex justify-between mt-6"},Jt={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Kt={class:"bg-white p-6 rounded-lg w-full"},Qt={class:"mb-4 text-base sm:text-2xl"},Wt={class:"mb-4 text-base sm:text-2xl"},Xt={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Yt={class:"bg-white p-6 rounded-lg w-full"},te={class:"mb-4 text-base sm:text-4xl"},ee={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6"},ie={__name:"VotosDelegados",props:{delegados:Object,votante:Object,proyectos:Object},setup(O){const _=G("$swal"),c=O;console.log(c);const w=m(!1),S=m(!1),k=m({proyecto:{detalle:""}}),T=c.delegados.filter(l=>l.votante.genero=="Masculino"),M=c.delegados.filter(l=>l.votante.genero=="Femenino"),r=H({id_votante:c.votante[0].id,id_candidato:0,id_evento_padre:0,id_candidato1:null,id_proyecto:0,id_evento:0,tipo:"",subtipo:0,estado:"Activo"}),F=[{url:"",text:"Votaciones"}],j=m(0),C=m(0),V=m(0),z=m([]),p=m(1),$=function(l){let t=l.split(" "),s="",v=0;for(var y=0;y<t.length&&v<2;y++)t[y].length>0&&t[y]!==""&&(s+=t[y][0],v++);return s},f=l=>`/storage/uploads/usuarios/${l}`,U=l=>`/storage/uploads/proyectos/${l}`,D=l=>{console.log(l),r.id_candidato=l?l.id_votante:-1,r.id_evento_padre=l?l.id_evento:c.delegados[0].id_evento,r.tipo=l?l.tipo:c.delegados[0].tipo,r.subtipo=l?l.subtipo:c.delegados[0].subtipo,j.value=l?l.id:null},B=l=>{console.log(l),r.id_candidato1=l?l.id_votante:0,C.value=l?l.id:null},q=(l,t)=>l?l.length>t?l.substring(0,t)+"...":l:"",R=l=>{k.value=l,w.value=!0},I=l=>{console.log(l),r.id_proyecto=l?l.id_proyecto:null,r.id_evento=l?l.id_evento:c.proyectos[0].id_evento,V.value=l?l.id:null},A=l=>{let t=!1;switch(l){case 2:t=r.id_candidato!=0;break;case 3:t=r.id_candidato1!=null;break}t?p.value=l:_({title:"Error",text:"Debes seleccionar un candidato o proyecto antes de continuar",icon:"error"})},L=l=>{p.value=l},P=()=>{let l=!1;if(l=r.id_proyecto!=0,!l){_({title:"Error",text:"Debes seleccionar un candidato o proyecto antes de continuar",icon:"error"});return}r.post(route("votos.store"),{onSuccess:()=>_({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success"}).then(t=>{K.get("dashboard")}),onError:()=>_({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})};return(l,t)=>(i(),n(h,null,[d(N(J),{title:"Votaciones"}),d(Z,{breadCrumbLinks:F},{header:u(()=>t[11]||(t[11]=[o(" Votaciones ")])),default:u(()=>[e("div",Q,[t[33]||(t[33]=e("div",{class:"flex flex-col w-full"},[e("h1",{class:"sm:text-3xl text-xl font-semibold text-justify"},' Para votar basta con dar click en el botón azul "Seleccionar" de cada tarjeta según el delegado especifico '),e("p",{class:"sm:text-2xl text-lg text-gray-600 text-justify mt-2"}," Recuerda que puedes votar por un delegado masculino y por una delegada femenina "),e("p",{class:"sm:text-2xl text-lg text-gray-600 text-justify mt-2"}," Si no deseas votar por ningún candidato, puedes seleccionar la opción de Voto en Blanco "),e("p",{class:"sm:text-2xl text-lg text-gray-600 text-justify mt-2 italic font-semibold"}," Después dar click en el botón continuar ")],-1)),p.value===1?(i(),n("div",W,[t[16]||(t[16]=e("div",{class:"mt-6"},[e("h3",{class:"sm:text-3xl text-xl"},"Delegados")],-1)),e("div",X,[(i(!0),n(h,null,E(N(T),s=>(i(),n("div",{key:s.id,class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",j.value===s.id?"border-4 border-red-500":""])},[e("div",Y,[s.votante.imagen=="user.png"?(i(),n("div",tt,[e("p",et,a($(s.votante.nombre)),1)])):(i(),n("div",{key:1,image:f(s.votante.imagen),class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},[e("img",{src:f(s.votante.imagen),alt:"Imagen de candidato",class:"w-full h-full object-cover"},null,8,st)],8,lt))]),e("div",ot,[e("h2",nt,a(s.votante.nombre),1),s.votante.nombre!="Voto En Blanco"?(i(),n("h3",it," CC "+a(s.votante.identificacion),1)):g("",!0)]),e("div",at,[d(x,{type:"button",onClick:v=>D(s),class:"sm:text-2xl text-xl"},{default:u(()=>t[12]||(t[12]=[o(" Seleccionar ")])),_:2},1032,["onClick"])])],2))),128)),e("div",{class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",j.value===null?"border-4 border-red-500":""])},[e("div",rt,[e("div",dt,[e("img",{src:f("12345678_candidatos.jpg"),alt:"Imagen de candidato",class:"w-full h-full object-cover"},null,8,ut)])]),t[14]||(t[14]=e("div",{class:"mt-6 mx-auto"},[e("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[o(" VOTO "),e("br"),o(" EN BLANCO ")])],-1)),e("div",xt,[d(x,{type:"button",onClick:t[0]||(t[0]=s=>D(null)),class:"sm:text-2xl text-xl"},{default:u(()=>t[13]||(t[13]=[o(" Seleccionar ")])),_:1})])],2)]),e("div",ct,[d(x,{type:"button",onClick:t[1]||(t[1]=s=>A(2)),class:"sm:text-3xl text-xl"},{default:u(()=>t[15]||(t[15]=[o(" Continuar ")])),_:1})])])):g("",!0),p.value===2?(i(),n("div",mt,[t[21]||(t[21]=e("div",{class:"mt-6"},[e("h3",{class:"sm:text-3xl text-xl"},"Delegadas")],-1)),e("div",gt,[(i(!0),n(h,null,E(N(M),s=>(i(),n("div",{key:s.id,class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",C.value===s.id?"border-4 border-red-500":""])},[e("div",ft,[s.votante.imagen=="user.png"?(i(),n("div",vt,[e("p",bt,a($(s.votante.nombre)),1)])):(i(),n("div",pt,[e("img",{src:f(s.votante.imagen),alt:"Imagen de candidato",class:"w-full h-full object-cover"},null,8,yt)]))]),e("div",_t,[e("h2",ht,a(s.votante.nombre),1),s.votante.nombre!="Voto En Blanco"?(i(),n("h3",wt," CC "+a(s.votante.identificacion),1)):g("",!0)]),e("div",kt,[d(x,{type:"button",onClick:v=>B(s),class:"sm:text-2xl text-xl"},{default:u(()=>t[17]||(t[17]=[o(" Seleccionar ")])),_:2},1032,["onClick"])])],2))),128)),e("div",{class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",C.value===null?"border-4 border-red-500":""])},[e("div",jt,[e("div",Ct,[e("img",{src:f("12345678_candidatos.jpg"),alt:"Imagen de candidato",class:"w-full h-full object-cover"},null,8,Vt)])]),t[19]||(t[19]=e("div",{class:"mt-6 mx-auto"},[e("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[o(" VOTO "),e("br"),o(" EN BLANCO ")])],-1)),e("div",$t,[d(x,{type:"button",onClick:t[2]||(t[2]=s=>B(null)),class:"sm:text-2xl text-xl"},{default:u(()=>t[18]||(t[18]=[o(" Seleccionar ")])),_:1})])],2)]),e("div",Nt,[e("button",{class:"sm:text-3xl text-xl text-gray-600 border border-gray-400 rounded-md px-4 py-1 hover:bg-gray-300",onClick:t[3]||(t[3]=s=>L(1))}," Anterior "),d(x,{type:"button",onClick:t[4]||(t[4]=s=>A(3)),class:"sm:text-3xl text-xl"},{default:u(()=>t[20]||(t[20]=[o(" Continuar ")])),_:1})])])):g("",!0),p.value===3?(i(),n("div",Et,[t[32]||(t[32]=e("div",{class:"mt-6"},[e("h3",{class:"sm:text-3xl text-xl"},"Proyectos")],-1)),e("div",Ot,[(i(!0),n(h,null,E(O.proyectos,s=>(i(),n("div",{key:s.id,class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",V.value===s.id?"border-4 border-red-500":""])},[e("div",St,[s.proyecto.imagen=="NA"?(i(),n("div",zt,[e("p",Dt,a($(s.proyecto.detalle)),1)])):(i(),n("div",Bt,[e("img",{src:U(s.proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,It)]))]),e("div",At,[e("h2",Lt," Numero tarjeton -- "+a(s.proyecto.numero_tarjeton),1),e("p",Pt,[t[22]||(t[22]=e("b",null,"Detalle:",-1)),t[23]||(t[23]=o()),t[24]||(t[24]=e("br",null,null,-1)),o(" "+a(s.proyecto.detalle),1)]),e("p",Tt,[t[25]||(t[25]=e("b",null,"Descripción:",-1)),t[26]||(t[26]=o()),t[27]||(t[27]=e("br",null,null,-1)),o(" "+a(q(s.proyecto.detalle,80))+" ",1),s.proyecto.detalle.length>80?(i(),n("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:v=>R(s)}," Ver más ",8,Mt)):g("",!0)]),e("p",Ft," Tipo: "+a(s.proyecto.tipo),1)]),e("div",Ut,[d(x,{type:"button",onClick:v=>I(s),class:"sm:text-2xl text-xl"},{default:u(()=>t[28]||(t[28]=[o(" Seleccionar ")])),_:2},1032,["onClick"])])],2))),128)),e("div",{class:b(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",V.value===null?"border-4 border-red-500":""])},[e("div",qt,[e("div",Rt,[e("img",{src:f("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,Zt)])]),t[30]||(t[30]=e("div",{class:"mt-6 mx-auto"},[e("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[o(" VOTO "),e("br"),o(" EN BLANCO ")])],-1)),e("div",Gt,[d(x,{type:"button",onClick:t[5]||(t[5]=s=>I(null)),class:"sm:text-2xl text-xl"},{default:u(()=>t[29]||(t[29]=[o(" Seleccionar ")])),_:1})])],2)]),e("div",Ht,[e("button",{class:"sm:text-3xl text-xl text-gray-600 border border-gray-400 rounded-md px-4 py-1 hover:bg-gray-300",onClick:t[6]||(t[6]=s=>L(2))}," Anterior "),d(x,{type:"button",onClick:t[7]||(t[7]=s=>P()),class:"sm:text-6xl text-2xl"},{default:u(()=>t[31]||(t[31]=[o(" Enviar votación ")])),_:1})])])):g("",!0)]),w.value?(i(),n("div",Jt,[e("div",Kt,[t[35]||(t[35]=e("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),e("p",Qt,a(k.value.proyecto.detalle),1),e("p",Wt,[t[34]||(t[34]=e("b",null,"descripción:",-1)),o(" "+a(k.value.proyecto.descripcion),1)]),e("button",{onClick:t[8]||(t[8]=s=>w.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):g("",!0),S.value?(i(),n("div",Xt,[e("div",Yt,[t[39]||(t[39]=e("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," 🗳️ Confirmar voto ",-1)),e("p",te,[t[36]||(t[36]=e("span",{class:"text-lg sm:text-5xl font-bold"},"Está a punto de votar por el siguiente proyecto:",-1)),t[37]||(t[37]=e("br",null,null,-1)),o(" "+a(z.value.proyecto.detalle)+" ",1),t[38]||(t[38]=e("br",null,null,-1)),o(" Número de tarjetón: "+a(z.value.proyecto.numero_tarjeton),1)]),e("div",ee,[e("button",{onClick:t[9]||(t[9]=s=>S.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),e("button",{onClick:t[10]||(t[10]=s=>P()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):g("",!0)]),_:1})],64))}};export{ie as default};
