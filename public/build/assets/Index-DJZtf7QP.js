import{M as A,r as n,T as F,c as p,o as m,a as r,u,Z as P,w as o,b as e,h,P as v,v as D,R as L,S as M,d as a,F as _,i as T,t as c,n as k,V as C}from"./app-55seC4H5.js";import{_ as K}from"./AuthenticatedLayout-BelZUj06.js";import{_ as R}from"./Pagination-Dkmxv2an.js";import{_ as U}from"./PrimaryLink-C-TKxVSR.js";import{_ as z}from"./Modal-DPXyyV_x.js";import{_ as S}from"./SecondaryButton-DMBe6Dao.js";import{_ as I}from"./DangerButton-srboewsU.js";import{_ as E}from"./SecondaryLink-CVgsRPb_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TrashIcon-BxhenAIa.js";const O={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},Z={class:"..."},G={class:"relative"},H={class:"text-right p-4 gap-2 flex flex-wrap"},J={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},Q={class:"w-full whitespace-no-wrap overflow-x-auto"},W={key:0},X={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},te={class:"text-gray-900 whitespace-no-wrap"},se={class:"border-b border-gray-200 bg-white sm:py-5 p-2 sm:text-sm text-xs"},re={class:"text-gray-900 whitespace-no-wrap"},oe={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ae={class:"w-auto border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs flex flex-wrap gap-4"},le={key:1},de={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},ie={class:"p-6"},ne={class:"mt-6 flex justify-end"},he={__name:"Index",props:{parametros:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(b){const y=b,B=A("$swal"),w=n(!1),j=n(!1),q=n(0),i=F({password:"",nombre:""}),N=[{url:"",text:"listado de parámetros generales"}],x=()=>{w.value=!1,j.value=!1,i.reset()},V=()=>{i.delete(route("tipos.destroy",q.value),{preserveScroll:!0,onSuccess:()=>{x(),B({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>i.reset()})};let l=n(y.filters.search),d=n(y.filters.estado??"");const g=()=>{C.get("/parametros",{search:l.value,estado:d.value},{preserveState:!0,preserveScroll:!0,replace:!0})},$=()=>{l.value="",d.value="",C.get("/parametros",{search:l.value,estado:d.value},{preserveState:!0,preserveScroll:!0,replace:!0})};return(f,t)=>(m(),p(_,null,[r(u(P),{title:"Parametros"}),r(K,{breadCrumbLinks:N},{header:o(()=>t[2]||(t[2]=[a(" Parámetros ")])),default:o(()=>[e("div",O,[e("div",null,[h(e("select",{id:"estado",name:"estado","onUpdate:modelValue":t[0]||(t[0]=s=>v(d)?d.value=s:d=s),onChange:g,class:"block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},t[3]||(t[3]=[e("option",{selected:"",value:""},"Filtrar por estado",-1),e("option",{value:"1"},"Activo",-1),e("option",{value:"0"},"Bloqueado",-1)]),544),[[D,u(d)]])]),e("div",Z,[t[5]||(t[5]=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),e("div",G,[t[4]||(t[4]=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),h(e("input",{type:"search",onKeydown:L(g,["enter"]),"onUpdate:modelValue":t[1]||(t[1]=s=>v(l)?l.value=s:l=s),id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-0 focus:border-transparent",placeholder:"Buscar por código o nombre",required:""},null,544),[[M,u(l)]]),e("button",{type:"submit",onClick:g,class:"text-white absolute end-2.5 bottom-2.5 bg-sky-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-sky-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Buscar")])]),e("div",H,[r(S,{onClick:$},{default:o(()=>t[6]||(t[6]=[a(" Limpiar ")])),_:1}),r(U,{href:f.route("parametros.create")},{default:o(()=>t[7]||(t[7]=[a(" Agregar ")])),_:1},8,["href"])])]),e("div",J,[e("table",Q,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Código "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"},[a(" Cantidad "),e("br"),a(" de parámetros ")]),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),b.parametros.data.length>0?(m(),p("tbody",W,[(m(!0),p(_,null,T(b.parametros.data,s=>(m(),p("tr",{key:s.id,class:"text-gray-700"},[e("td",X,[e("p",Y,c(s.detalle),1)]),e("td",ee,[e("p",te,c(s.cod),1)]),e("td",se,[e("p",re,c(s.parametros_detalle_count),1)]),e("td",oe,[e("p",{class:k(["text-gray-900 whitespace-no-wrap inline-flex px-2 rounded-md bg-red-200",{"!bg-green-400":s.estado===1}])},c(s.estado?"Activo":"Bloqueado"),3)]),e("td",ae,[r(E,{type:"button",href:f.route("parametros.edit",s.id),class:"mb-2"},{default:o(()=>t[8]||(t[8]=[a(" Editar ")])),_:2},1032,["href"]),r(E,{type:"button",href:f.route("parametrosDetalle.index",{codParametro:s.cod}),class:"mb-2"},{default:o(()=>t[9]||(t[9]=[a(" detalle ")])),_:2},1032,["href"])])]))),128))])):(m(),p("tbody",le,t[10]||(t[10]=[e("tr",null,[e("td",{class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs text-center",colspan:"5"},[e("p",{class:"whitespace-no-wrap bg-red-400 text-white text-base font-bold inline-flex px-2 rounded-md shadow-md"},"No hay registros de parámetros")])],-1)])))]),e("div",de,[r(R,{links:b.parametros.links},null,8,["links"])])]),r(z,{show:w.value,onClose:x},{default:o(()=>[e("div",ie,[t[14]||(t[14]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar el parámetro? ",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1)),e("div",ne,[r(S,{onClick:x},{default:o(()=>t[12]||(t[12]=[a(" Cancelar ")])),_:1}),r(I,{class:k(["ms-3",{"opacity-25":u(i).processing}]),disabled:u(i).processing,onClick:V},{default:o(()=>t[13]||(t[13]=[a(" Eliminar tipo de usuario ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{he as default};
