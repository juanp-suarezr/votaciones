import{a as u,b as d,f as s,x as B,y as C,B as Je,z as Qe,C as et,A as tt,D as at,E as ot,G as de,H as st,l as Ve,d as n,m as k,i as se,I as Ee,t as U,e as _,J as lt,K as it,T as nt,L as rt,r as f,w as ee,u as l,Z as dt,g as L,F as K,h as te,v as ae,M as ue,q as je,j as O,n as P,p as Ie,k as ce}from"./app-dUjcy5ia.js";import{_ as ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as v}from"./InputError-CpjPYpRG.js";import{_ as b}from"./InputLabel-DRTh4GCZ.js";import{_ as W}from"./PrimaryButton-Cp2uMQaE.js";import{_ as ct}from"./SecondaryButton-CV67izfx.js";import{_ as oe}from"./Modal-B30GLp2W.js";import{_ as y}from"./TextInput-CA1wxWn6.js";import{c as mt,s as Le,t as pt,d as ft,e as vt,a as gt,f as bt,b as yt,g as ht}from"./cedulaBackEjemplo-BL0_ghpW.js";import{s as me}from"./index-CsMCTnaX.js";import{s as Oe}from"./index-CYuEviiQ.js";import{s as xt,a as wt,b as kt,O as Ct}from"./index--cGjy-sB.js";import{c as _t}from"./comunas-CgAZlVl9.js";import{d as St,T as Vt,n as pe}from"./FaceMatcher-DQZ88WER.js";import{r as $e}from"./PhotoIcon-CUZ8wZ1u.js";import"./index-DI_V581D.js";import"./index-Cx2grRWr.js";import"./index-BY2N3obz.js";import"./index-CF1CZwr6.js";const Et={class:"flex h-full min-h-screen w-full items-center justify-center bg-black px-6 py-6 relative"},jt={__name:"PageLayout",props:["isRegister"],setup(a){return(i,e)=>(d(),u("div",Et,[e[0]||(e[0]=s("div",{class:"absolute inset-0 bg-pattern h-full min-h-screen"},null,-1)),B(i.$slots,"default",{},void 0,!0)]))}},It=ut(jt,[["__scopeId","data-v-ab6415a1"]]);var Pe={name:"EyeIcon",extends:Oe};function Lt(a,i,e,c,g,p){return d(),u("svg",C({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.pti()),i[0]||(i[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z",fill:"currentColor"},null,-1)]),16)}Pe.render=Lt;var Ue={name:"EyeSlashIcon",extends:Oe};function $t(a,i,e,c,g,p){return d(),u("svg",C({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.pti()),i[0]||(i[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z",fill:"currentColor"},null,-1)]),16)}Ue.render=$t;var Tt=({dt:a})=>`
.p-password {
    display: inline-flex;
    position: relative;
}

.p-password .p-password-overlay {
    min-width: 100%;
}

.p-password-meter {
    height: ${a("password.meter.height")};
    background: ${a("password.meter.background")};
    border-radius: ${a("password.meter.border.radius")};
}

.p-password-meter-label {
    height: 100%;
    width: 0;
    transition: width 1s ease-in-out;
    border-radius: ${a("password.meter.border.radius")};
}

.p-password-meter-weak {
    background: ${a("password.strength.weak.background")};
}

.p-password-meter-medium {
    background: ${a("password.strength.medium.background")};
}

.p-password-meter-strong {
    background: ${a("password.strength.strong.background")};
}

.p-password-fluid {
    display: flex;
}

.p-password-fluid .p-password-input {
    width: 100%;
}

.p-password-input::-ms-reveal,
.p-password-input::-ms-clear {
    display: none;
}

.p-password-overlay {
    padding: ${a("password.overlay.padding")};
    background: ${a("password.overlay.background")};
    color: ${a("password.overlay.color")};
    border: 1px solid ${a("password.overlay.border.color")};
    box-shadow: ${a("password.overlay.shadow")};
    border-radius: ${a("password.overlay.border.radius")};
}

.p-password-content {
    display: flex;
    flex-direction: column;
    gap: ${a("password.content.gap")};
}

.p-password-toggle-mask-icon {
    inset-inline-end: ${a("form.field.padding.x")};
    color: ${a("password.icon.color")};
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * calc(${a("icon.size")} / 2));
    width: ${a("icon.size")};
    height: ${a("icon.size")};
}

.p-password:has(.p-password-toggle-mask-icon) .p-password-input {
    padding-inline-end: calc((${a("form.field.padding.x")} * 2) + ${a("icon.size")});
}
`,Ot={root:function(i){var e=i.props;return{position:e.appendTo==="self"?"relative":void 0}}},Pt={root:function(i){var e=i.instance;return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":e.$filled,"p-inputwrapper-focus":e.focused,"p-password-fluid":e.$fluid}]},pcInputText:"p-password-input",maskIcon:"p-password-toggle-mask-icon p-password-mask-icon",unmaskIcon:"p-password-toggle-mask-icon p-password-unmask-icon",overlay:"p-password-overlay p-component",content:"p-password-content",meter:"p-password-meter",meterLabel:function(i){var e=i.instance;return"p-password-meter-label ".concat(e.meter?"p-password-meter-"+e.meter.strength:"")},meterText:"p-password-meter-text"},Ut=Je.extend({name:"password",style:Tt,classes:Pt,inlineStyles:Ot}),Rt={name:"BasePassword",extends:kt,props:{promptLabel:{type:String,default:null},mediumRegex:{type:[String,RegExp],default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:[String,RegExp],default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:void 0},maskIcon:{type:String,default:void 0},showIcon:{type:String,default:void 0},unmaskIcon:{type:String,default:void 0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},overlayId:{type:String,default:null},overlayClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null},autofocus:{type:Boolean,default:null}},style:Ut,provide:function(){return{$pcPassword:this,$parentInstance:this}}},Re={name:"Password",extends:Rt,inheritAttrs:!1,emits:["change","focus","blur","invalid"],inject:{$pcFluid:{default:null}},data:function(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted:function(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount:function(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(de.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter:function(i){de.set("overlay",i,this.$primevue.config.zIndex.overlay),st(i,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave:function(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave:function(i){de.clear(i)},alignOverlay:function(){this.appendTo==="self"?tt(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=at(this.$refs.input.$el)+"px",ot(this.overlay,this.$refs.input.$el))},testStrength:function(i){var e=0;return this.strongCheckRegExp.test(i)?e=3:this.mediumCheckRegExp.test(i)?e=2:i.length&&(e=1),e},onInput:function(i){this.writeValue(i.target.value,i),this.$emit("change",i)},onFocus:function(i){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.d_value),this.overlayVisible=!0),this.$emit("focus",i)},onBlur:function(i){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",i)},onKeyUp:function(i){if(this.feedback){var e=i.target.value,c=this.checkPasswordStrength(e),g=c.meter,p=c.label;if(this.meter=g,this.infoText=p,i.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter:function(){if(!this.d_value){this.meter=null,this.infoText=this.promptText;return}var i=this.checkPasswordStrength(this.d_value),e=i.meter,c=i.label;this.meter=e,this.infoText=c,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength:function(i){var e=null,c=null;switch(this.testStrength(i)){case 1:e=this.weakText,c={strength:"weak",width:"33.33%"};break;case 2:e=this.mediumText,c={strength:"medium",width:"66.66%"};break;case 3:e=this.strongText,c={strength:"strong",width:"100%"};break;default:e=this.promptText,c=null;break}return{label:e,meter:c}},onInvalid:function(i){this.$emit("invalid",i)},bindScrollListener:function(){var i=this;this.scrollHandler||(this.scrollHandler=new et(this.$refs.input.$el,function(){i.overlayVisible&&(i.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var i=this;this.resizeListener||(this.resizeListener=function(){i.overlayVisible&&!Qe()&&(i.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef:function(i){this.overlay=i},onMaskToggle:function(){this.unmasked=!this.unmasked},onOverlayClick:function(i){Ct.emit("overlay-click",{originalEvent:i,target:this.$el})}},computed:{inputType:function(){return this.unmasked?"text":"password"},weakText:function(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText:function(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText:function(){return this.strongLabel||this.$primevue.config.locale.strong},promptText:function(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},overlayUniqueId:function(){return this.$id+"_overlay"}},components:{InputText:wt,Portal:xt,EyeSlashIcon:Ue,EyeIcon:Pe}};function G(a){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},G(a)}function Te(a,i){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);i&&(c=c.filter(function(g){return Object.getOwnPropertyDescriptor(a,g).enumerable})),e.push.apply(e,c)}return e}function fe(a){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?Te(Object(e),!0).forEach(function(c){zt(a,c,e[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):Te(Object(e)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(e,c))})}return a}function zt(a,i,e){return(i=qt(i))in a?Object.defineProperty(a,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[i]=e,a}function qt(a){var i=Dt(a,"string");return G(i)=="symbol"?i:i+""}function Dt(a,i){if(G(a)!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var c=e.call(a,i);if(G(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}var Mt=["id"];function Bt(a,i,e,c,g,p){var j=Ve("InputText"),R=Ve("Portal");return d(),u("div",C({class:a.cx("root"),style:a.sx("root")},a.ptmi("root")),[n(j,C({ref:"input",id:a.inputId,type:p.inputType,class:[a.cx("pcInputText"),a.inputClass],style:a.inputStyle,defaultValue:a.d_value,name:a.$formName,"aria-labelledby":a.ariaLabelledby,"aria-label":a.ariaLabel,"aria-controls":a.overlayProps&&a.overlayProps.id||a.overlayId||a.panelProps&&a.panelProps.id||a.panelId||p.overlayUniqueId,"aria-expanded":g.overlayVisible,"aria-haspopup":!0,placeholder:a.placeholder,required:a.required,fluid:a.fluid,disabled:a.disabled,variant:a.variant,invalid:a.invalid,size:a.size,autofocus:a.autofocus,onInput:p.onInput,onFocus:p.onFocus,onBlur:p.onBlur,onKeyup:p.onKeyUp,onInvalid:p.onInvalid},a.inputProps,{pt:a.ptm("pcInputText"),unstyled:a.unstyled}),null,16,["id","type","class","style","defaultValue","name","aria-labelledby","aria-label","aria-controls","aria-expanded","placeholder","required","fluid","disabled","variant","invalid","size","autofocus","onInput","onFocus","onBlur","onKeyup","onInvalid","pt","unstyled"]),a.toggleMask&&g.unmasked?B(a.$slots,a.$slots.maskicon?"maskicon":"hideicon",{key:0,toggleCallback:p.onMaskToggle},function(){return[(d(),se(Ee(a.maskIcon?"i":"EyeSlashIcon"),C({class:[a.cx("maskIcon"),a.maskIcon],onClick:p.onMaskToggle},a.ptm("maskIcon")),null,16,["class","onClick"]))]}):k("",!0),a.toggleMask&&!g.unmasked?B(a.$slots,a.$slots.unmaskicon?"unmaskicon":"showicon",{key:1,toggleCallback:p.onMaskToggle},function(){return[(d(),se(Ee(a.unmaskIcon?"i":"EyeIcon"),C({class:[a.cx("unmaskIcon"),a.unmaskIcon],onClick:p.onMaskToggle},a.ptm("unmaskIcon")),null,16,["class","onClick"]))]}):k("",!0),s("span",C({class:"p-hidden-accessible","aria-live":"polite"},a.ptm("hiddenAccesible"),{"data-p-hidden-accessible":!0}),U(g.infoText),17),n(R,{appendTo:a.appendTo},{default:_(function(){return[n(lt,C({name:"p-connected-overlay",onEnter:p.onOverlayEnter,onLeave:p.onOverlayLeave,onAfterLeave:p.onOverlayAfterLeave},a.ptm("transition")),{default:_(function(){return[g.overlayVisible?(d(),u("div",C({key:0,ref:p.overlayRef,id:a.overlayId||a.panelId||p.overlayUniqueId,class:[a.cx("overlay"),a.panelClass,a.overlayClass],style:[a.overlayStyle,a.panelStyle],onClick:i[0]||(i[0]=function(){return p.onOverlayClick&&p.onOverlayClick.apply(p,arguments)})},fe(fe(fe({},a.panelProps),a.overlayProps),a.ptm("overlay"))),[B(a.$slots,"header"),B(a.$slots,"content",{},function(){return[s("div",C({class:a.cx("content")},a.ptm("content")),[s("div",C({class:a.cx("meter")},a.ptm("meter")),[s("div",C({class:a.cx("meterLabel"),style:{width:g.meter?g.meter.width:""}},a.ptm("meterLabel")),null,16)],16),s("div",C({class:a.cx("meterText")},a.ptm("meterText")),U(g.infoText),17)],16)]}),B(a.$slots,"footer")],16,Mt)):k("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Re.render=Bt;const Ft={class:"w-full sm:max-w-6xl h-full mx-auto bg-white shadow-lg rounded-lg px-4 sm:px-6 py-12 z-10"},At={class:"mt-4 justify-center"},Ht={class:"m-auto py-4"},Nt={key:0,class:"sm:grid sm:grid-cols-2 gap-6 h-full"},Zt={class:"mb-2"},Kt={class:"mb-2"},Wt={class:"mb-2"},Gt=["value"],Yt={class:"mb-2"},Xt={key:0,class:"cols-span-2 w-full mb-2"},Jt={class:"mb-2 mt-1"},Qt={key:0,class:""},ea={class:"mb-2"},ta={key:0,class:"text-red-500"},aa={class:"col-span-2 flex justify-end"},oa={key:1,class:"sm:grid sm:grid-cols-2 gap-6"},sa={class:"mb-2"},la={class:"mt-2 block sm:flex"},ia={class:""},na={class:"sm:ms-6"},ra={key:0,class:"sm:ms-6"},da={key:1,class:"sm:ms-6"},ua={class:"mb-2"},ca=["value"],ma={class:"mb-2"},pa=["value"],fa={class:"mb-2"},va={class:"col-span-2 flex flex-wrap mb-1"},ga={class:"mb-2"},ba={class:"mb-2"},ya={class:"mb-2"},ha={class:"mb-2"},xa={class:"mb-2"},wa={class:"my-4 col-span-2 mb-2"},ka={class:"mb-4 col-span-2 mb-2"},Ca={class:"col-span-2 flex justify-between gap-2"},_a={class:"flex pt-4 justify-end"},Sa={class:"flex pt-4 justify-end h-full"},Va={key:2,class:"gap-6"},Ea={class:"sm:grid sm:grid-cols-2 gap-2 h-full sm:px-16 px-4"},ja={class:"w-full h-full mt-4"},Ia={class:"w-full"},La=["src"],$a={class:"mb-2 h-full flex justify-center items-center mt-4"},Ta={class:"border-2 border-gray-300 rounded-md p-2 h-full"},Oa={class:"flex justify-center"},Pa=["src","alt"],Ua={key:0,class:"flex justify-center mt-2"},Ra={class:"sm:grid sm:grid-cols-2 gap-2 h-full sm:px-16 px-4"},za={class:"w-full h-full mt-4"},qa={class:"w-full"},Da=["src"],Ma={class:"mb-2 h-full flex justify-center items-center mt-4"},Ba={class:"border-2 border-gray-300 rounded-md p-2 h-full"},Fa={class:"flex justify-center"},Aa=["src","alt"],Ha={key:0,class:"flex justify-center mt-2"},Na={class:"w-full gap-2 h-full sm:px-16 px-4 mt-4"},Za={class:"flex gap-4 mb-2"},Ka={key:0},Wa={key:0,class:"mt-2"},Ga=["src"],Ya={key:1},Xa={key:0,class:"mt-2"},Ja=["src"],Qa={class:"w-full"},eo={class:"col-span-2 flex justify-between gap-2 mt-4"},to={class:"flex pt-4 justify-end"},ao={class:"flex pt-4 justify-end"},oo={key:3,class:"gap-6"},so={class:"w-full mt-6"},lo={class:"col-span-2 flex justify-between gap-2 mt-4"},io={class:"flex pt-4 justify-end"},no={class:"flex pt-4 justify-end"},ro={class:"flex justify-center my-12"},uo={class:"flex justify-center gap-4 text-center h-full my-12"},co={class:"my-12 px-4"},mo=["value"],po=["disabled"],fo={class:"flex justify-center gap-4 text-center h-full my-6"},Uo={__name:"Register",setup(a){const i=it("$swal"),e=nt({nombre:"",identificacion:"",tipo_documento:"",fecha_expedicion:"",lugar_expedicion:"",nacimiento:"",cedula_front:null,cedula_back:null,genero:"",etnia:"",condicion:"",direccion:"",indicativo:"+57",celular:"",comuna:"",barrio:"",email:"",password:"",embedding:"",photo:"",validaciones:"",checked:!1,declaracion:!1,firma:"",recaptcha_token:"",campoObligatorio:"",codigo:""}),{executeRecaptcha:c}=rt(),g=f(""),p=f([]),j=f(null),R=f("imagen"),$=f(null);let le=!1;const S=f(!1),ve=f(!0),ze=f([{label:"Información Personal"},{label:"Datos Demográficos"},{label:"Registro datos"},{label:"Verificación"}]),qe=f([{label:"paso 1"},{label:"paso 2"},{label:"paso 3"},{label:"paso 4"}]),h=f(0),q=f(""),F=f(""),x=f(!1),I=f(!1),Y=f(!1),z=f(!1),A=f(null),H=f(null),X=f([]),N=f(""),V=f(null),E=f(""),ge=f(!1),T=f(!1),D=f(0);ee(Y,r=>{r&&(e.genero="")}),ee(g,r=>{r&&(p.value=mt.find(t=>t.id===r.id).ciudades)});const ie=(r,t)=>{if(e[r]=t.target.files[0],r==="cedula_front"){const o=new FileReader;o.onload=m=>{A.value=m.target.result},o.readAsDataURL(e[r])}else if(r==="cedula_back"){const o=new FileReader;o.onload=m=>{H.value=m.target.result},o.readAsDataURL(e[r])}else if(r=="firma"){const o=new FileReader;o.onload=m=>{j.value=m.target.result},o.readAsDataURL(file)}},be=r=>{r===1?(e.cedula_front=null,A.value=null):r===2&&(e.cedula_back=null,H.value=null)},ye=r=>{le=!0;const t=$.value.getContext("2d"),o=xe(r);t.beginPath(),t.moveTo(o.x,o.y)},he=r=>{if(!le)return;const t=$.value.getContext("2d"),o=xe(r);t.lineTo(o.x,o.y),t.strokeStyle="#222",t.lineWidth=2,t.stroke()},ne=()=>{le=!1},De=()=>{$.value.getContext("2d").clearRect(0,0,$.value.width,$.value.height),j.value=null,e.firma=null},Me=()=>{$.value.toBlob(r=>{e.firma=new File([r],"firma.webp",{type:"image/webp"});const t=new FileReader;t.onload=o=>{j.value=o.target.result},t.readAsDataURL(e.firma)},"image/webp")},xe=r=>{const t=$.value.getBoundingClientRect();return r.touches&&r.touches.length>0?{x:r.touches[0].clientX-t.left,y:r.touches[0].clientY-t.top}:{x:r.offsetX,y:r.offsetY}},re=r=>{h.value=r,x.value=!0},Be=async()=>{S.value=!0;try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(m=>m.stop()),await pe.tinyFaceDetector.loadFromUri("/models/tiny_face_detector"),await pe.faceRecognitionNet.loadFromUri("/models/face_recognition"),await pe.faceLandmark68Net.loadFromUri("/models/face_landmark_68");const t=await navigator.mediaDevices.enumerateDevices();X.value=t.filter(m=>m.kind==="videoinput");const o=X.value.find(m=>m.label.toLowerCase().includes("user"))||X.value[0];console.log(o),N.value=(o==null?void 0:o.deviceId)||"",S.value=!1,I.value=!0,await Ce(N.value)}catch(r){S.value=!1,D.value==3,console.error("Error al iniciar:",r),E.value="No se pudo acceder a la cámara."}},Fe=async()=>{E.value="",T.value=!0;const r=o=>parseInt(sessionStorage.getItem(o)||"0"),t=(o,m)=>sessionStorage.setItem(o,m.toString());if(!ge.value){r("fallo_camara")+1,E.value="La cámara no está lista.",T.value=!1;return}try{const o=await St(V.value,new Vt).withFaceLandmarks().withFaceDescriptor();if(console.log("entro -- validador"),!o){T.value=!1,E.value="No se detectó un rostro.",D.value+=1;const w=document.createElement("canvas");w.width=V.value.videoWidth,w.height=V.value.videoHeight,w.getContext("2d").drawImage(V.value,0,0,w.width,w.height);const J=await new Promise(Q=>w.toBlob(Q,"image/jpeg")),Xe=new File([J],"photo.jpg",{type:"image/jpeg"});e.photo=Xe,D.value==3&&i.fire({title:"Error en validación",text:"Error, no se detectó un rostro, vuelve a intentar o avanzar con la imagen poco visible y posiblemente sin registro biométrico (alta probabilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(Q=>{Q.isConfirmed?(e.embedding="",e.validaciones="no_rostro",I.value=!1,z.value=!0):Q.dismiss===Swal.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),E.value="",D.value=0)});return}const m=o.descriptor;e.embedding=m,console.log("emb",m);const M=document.createElement("canvas");M.width=V.value.videoWidth,M.height=V.value.videoHeight,M.getContext("2d").drawImage(V.value,0,0,M.width,M.height);const Ge=await new Promise(w=>M.toBlob(w,"image/jpeg")),Ye=new File([Ge],"photo.jpg",{type:"image/jpeg"});e.photo=Ye;const Se=new FormData;Se.append("embedding",m),T.value=!1,I.value=!1,S.value=!0,ce.post(route("face-validate"),Se,{headers:{"Content-Type":"multipart/form-data"}}).then(w=>{E.value=w.data.message,console.log(w),T.value=!1,S.value=!1,w.data.match?i.fire({title:"Error en validación",text:"Usted ya tiene un registro biométrico. Si está seguro que no se ha registrado, puede volver a intentarlo o continuar (probabilidad de rechazo).",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(Z=>{Z.isConfirmed?(e.validaciones="registro_duplicado",I.value=!1,z.value=!0):Z.dismiss===i.DismissReason.cancel&&console.log("Usuario decide volver a intentar")}):i({title:"Validación exitosa",text:"Validación biométrica exitosa",icon:"success",didClose:()=>{I.value=!1,z.value=!0}})}).catch(w=>{T.value=!1,S.value=!1,console.log(w);const Z=r("fallo_registro")+1;t("fallo_registro",Z),i.fire({title:"Error en validación",text:"Error en la validación, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(J=>{J.isConfirmed?(e.embedding="",e.validaciones="fallo_registro_biometrico",I.value=!1,z.value=!0):J.dismiss===i.DismissReason.cancel&&console.log("Usuario decide volver a intentar")})})}catch(o){console.error(o),T.value=!1,S.value=!1,D.value==3&&i.fire({title:"Error en validación",text:"Error al procesar el rostro, vuelve a intentar o avanzar sin registro biometrico (posibilidad de rechazo)",icon:"error",showCancelButton:!0,cancelButtonText:"Volver a intentar",confirmButtonText:"Continuar"}).then(m=>{m.isConfirmed?(e.embedding="",e.validaciones="fallo_registro",I.value=!1,z.value=!0):m.dismiss===i.DismissReason.cancel&&(console.log("Usuario decide volver a intentar"),E.value="",D.value=0)}),E.value="Error al procesar el rostro."}},Ae=()=>{if(!e.nacimiento)return F.value="Debes ingresar la fecha de nacimiento.",!1;const r=new Date,t=new Date(e.nacimiento);let o=r.getFullYear()-t.getFullYear();const m=r.getMonth()-t.getMonth();return(m<0||m===0&&r.getDate()<t.getDate())&&o--,o<14?(F.value="No es posible el registro de menores de 14 años.",!1):(F.value="",!0)},He=async()=>{if(x.value=!1,e.nombre&&e.identificacion&&e.tipo_documento&&e.fecha_expedicion&&(e.lugar_expedicion||e.tipo_documento!="Cédula Ciudadanía")&&e.nacimiento){if(!Ae())return;q.value="";try{const r=await Ne(e.identificacion);console.log("Identificación existe:",r),r?(q.value="La identificación ya está registrada.",x.value=!1):(q.value="",x.value=!0)}catch{q.value="Error al validar la identificación. Intenta de nuevo.",x.value=!1}}x.value?h.value=1:(e.nombre||(e.errors.nombre="Este campo es requerido."),(!e.identificacion||q.value!="")&&(e.errors.identificacion=q.value||"Este campo es requerido."),e.tipo_documento||(e.errors.tipo_documento="Este campo es requerido."),e.fecha_expedicion||(e.errors.fecha_expedicion="Este campo es requerido."),e.lugar_expedicion||(e.errors.lugar_expedicion="Este campo es requerido."),e.nacimiento||(e.errors.nacimiento="Este campo es requerido."))},Ne=async r=>(await ce.post("/validar-identificacion",{identificacion:r})).data.existe,Ze=r=>{switch(x.value=!1,r){case 1:He();break;case 2:we();break}x.value&&(h.value=r)},we=()=>{x.value=!1,e.genero&&e.etnia&&e.condicion&&e.celular&&e.comuna&&e.barrio&&e.direccion&&e.email&&e.password&&e.checked&&e.declaracion&&(x.value=!0,h.value=2),x.value||(e.genero||(e.errors.genero="Este campo es requerido."),e.etnia||(e.errors.etnia="Este campo es requerido."),e.condicion||(e.errors.condicion="Este campo es requerido."),e.celular||(e.errors.celular="Este campo es requerido."),e.comuna||(e.errors.comuna="Este campo es requerido."),e.barrio||(e.errors.barrio="Este campo es requerido."),e.direccion||(e.errors.direccion="Este campo es requerido."),e.email||(e.errors.email="Este campo es requerido."),e.password||(e.errors.password="Este campo es requerido."),e.checked||(e.errors.checked="Este campo es requerido."),e.declaracion||(e.errors.declaracion="Este campo es requerido."))},Ke=()=>{x.value=!1,e.cedula_front&&e.cedula_back&&e.firma&&(x.value=!0),x.value?Be():(e.cedula_front||(e.errors.cedula_front="Este campo es requerido."),e.cedula_back||(e.errors.cedula_back="Este campo es requerido."),e.firma||(e.errors.firma="Este campo es requerido"))},ke=async r=>{z.value=!1,S.value=!0,console.log(e.embedding);try{const t=new FormData;switch(r){case 0:t.append("via","correo");break;case 1:t.append("via","sms");break}const o=await c("register");e.recaptcha_token=o,t.append("nombre",e.nombre),t.append("identificacion",e.identificacion),t.append("tipo_documento",e.tipo_documento),t.append("fecha_expedicion",e.fecha_expedicion),t.append("lugar_expedicion",e.lugar_expedicion),t.append("nacimiento",e.nacimiento),t.append("etnia",e.etnia),t.append("condicion",e.condicion),t.append("direccion",e.direccion),t.append("genero",e.genero),t.append("comuna",e.comuna),t.append("barrio",e.barrio),t.append("email",e.email),t.append("celular",e.celular),t.append("indicativo",e.indicativo),t.append("password",e.password),t.append("recaptcha_token",o),t.append("campoObligatorio",e.campoObligatorio);const m=await ce.post(route("validate-user"),t);S.value=!1,console.log(m),m.data.isSpam&&(e.validaciones="posible robot o spam"),i({title:"Código enviado",text:"Revisa tu correo o SMS para el código de verificación.",icon:"success"}),h.value=3}catch(t){console.error(t);let o="Hubo un problema al validar tu información. Por favor, inténtalo nuevamente.";if(t.response&&t.response.data&&t.response.data.errors){const m=t.response.data.errors;o=Object.values(m).flat().join(`
`)}i.fire({title:"Error",text:o,icon:"error"})}finally{S.value=!1}},We=()=>{e.post(route("create-user"),{onSuccess:()=>{i({title:"Registro realizado",text:"Registro de usuario realizado exitosamente. Se realizará la validación de su información, el estado sera notificado a su correo.",icon:"success"}).then(r=>{window.location.reload()}),sessionStorage.removeItem("fallo_camara"),sessionStorage.removeItem("fallo_registro"),sessionStorage.removeItem("registro_duplicado"),e.reset(),_e()},onError:r=>{i({title:"Error",text:"Ocurrió un error al registrar el usuario.",icon:"error"}).then(t=>{h.value=0}),console.error(r)}})},Ce=async r=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:r}}});V.value.srcObject=t,ge.value=!0}catch(t){console.error("Error al iniciar cámara:",t),E.value="Error al iniciar la cámara."}};ee(N,async r=>{r&&await Ce(r)});const _e=()=>{var t;const r=(t=V.value)==null?void 0:t.srcObject;r&&r.getTracks().forEach(o=>o.stop()),V.value.srcObject=null};return ee(I,r=>{r==!1&&_e()}),(r,t)=>(d(),u(K,null,[n(It,null,{default:_(()=>[n(l(dt),{title:"Registro de Usuario"}),s("div",Ft,[t[56]||(t[56]=s("h1",{class:"text-2xl font-bold text-center text-gray-800"}," Registro votante ",-1)),s("div",At,[n(l(Le),{class:"hidden sm:block",model:ze.value,activeStep:h.value,"onUpdate:activeStep":t[0]||(t[0]=o=>h.value=o)},null,8,["model","activeStep"]),n(l(Le),{class:"sm:hidden block",model:qe.value,activeStep:h.value,"onUpdate:activeStep":t[1]||(t[1]=o=>h.value=o)},null,8,["model","activeStep"])]),s("form",Ht,[h.value==0?(d(),u("div",Nt,[s("div",Zt,[n(b,{for:"nombre",value:"Nombre Completo"}),n(y,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:l(e).nombre,"onUpdate:modelValue":t[2]||(t[2]=o=>l(e).nombre=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.nombre},null,8,["message"])]),s("div",Kt,[n(b,{for:"identificacion",value:"Identificación"}),n(y,{id:"identificacion",type:"text",class:"mt-1 block w-full",modelValue:l(e).identificacion,"onUpdate:modelValue":t[3]||(t[3]=o=>l(e).identificacion=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.identificacion},null,8,["message"])]),s("div",Wt,[n(b,{for:"tipo_documento",value:"Tipo de Documento"}),L(s("select",{id:"tipo_documento","onUpdate:modelValue":t[4]||(t[4]=o=>l(e).tipo_documento=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[t[42]||(t[42]=s("option",{value:"",disabled:""},"Seleccione tipo de documento",-1)),(d(!0),u(K,null,te(l(pt),o=>(d(),u("option",{key:o.id,value:o.nombre},U(o.nombre),9,Gt))),128))],512),[[ae,l(e).tipo_documento]]),n(v,{class:"mt-2",message:l(e).errors.tipo_documento},null,8,["message"])]),s("div",Yt,[n(b,{for:"fecha_expedicion",value:"Fecha de Expedición"}),n(y,{id:"fecha_expedicion",type:"date",class:"mt-1 block w-full",modelValue:l(e).fecha_expedicion,"onUpdate:modelValue":t[5]||(t[5]=o=>l(e).fecha_expedicion=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.fecha_expedicion},null,8,["message"])]),l(e).tipo_documento!=="Cédula Extranjería"?(d(),u("div",Xt,[n(b,{for:"lugar_expedicion",value:"Lugar de Expedición"}),s("div",Jt,[n(l(me),{id:"departamento",modelValue:g.value,"onUpdate:modelValue":t[6]||(t[6]=o=>g.value=o),options:l(ft),filter:"",optionLabel:"departamento",placeholder:"Seleccione departamento",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"])]),l(e).tipo_documento!=="Pasaporte"?(d(),u("div",Qt,[n(l(me),{disabled:g.value===null||g.value==="",id:"lugar_expedicion",modelValue:l(e).lugar_expedicion,"onUpdate:modelValue":t[7]||(t[7]=o=>l(e).lugar_expedicion=o),options:p.value,filter:"",optionLabel:"",placeholder:"Seleccione lugar de expedición",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["disabled","modelValue","options"])])):k("",!0),n(v,{class:"mt-2",message:l(e).errors.lugar_expedicion},null,8,["message"])])):k("",!0),s("div",ea,[n(b,{for:"nacimiento",value:"Fecha de Nacimiento"}),n(y,{id:"nacimiento",type:"date",class:"mt-1 block w-full",modelValue:l(e).nacimiento,"onUpdate:modelValue":t[8]||(t[8]=o=>l(e).nacimiento=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.nacimiento},null,8,["message"]),F.value?(d(),u("p",ta,U(F.value),1)):k("",!0)]),s("div",aa,[s("button",{type:"button",class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white p-2 rounded-md shadow-xl",onClick:t[9]||(t[9]=o=>Ze(1))}," Siguiente ")])])):k("",!0),h.value==1?(d(),u("div",oa,[s("div",sa,[n(b,{for:"genero",value:"Género"}),s("div",la,[s("div",ia,[L(s("input",{type:"radio",id:"masculino",value:"Masculino","onUpdate:modelValue":t[10]||(t[10]=o=>l(e).genero=o)},null,512),[[ue,l(e).genero]]),t[43]||(t[43]=s("label",{class:"ps-2 text-sm sm:text-base",for:"masculino"},"Masculino",-1))]),s("div",na,[L(s("input",{type:"radio",id:"two",value:"Femenino","onUpdate:modelValue":t[11]||(t[11]=o=>l(e).genero=o)},null,512),[[ue,l(e).genero]]),t[44]||(t[44]=s("label",{class:"ps-2 text-sm sm:text-base",for:"two"},"Femenino",-1))]),Y.value?(d(),u("div",ra,[n(b,{class:"sm:text-sm text-xs",for:"genero",value:"¿Cual?"}),n(y,{id:"genero",type:"text",class:"mt-1 block w-full p-0 sm:p-1",modelValue:l(e).genero,"onUpdate:modelValue":t[12]||(t[12]=o=>l(e).genero=o),autocomplete:"genero"},null,8,["modelValue"]),n(v,{class:"mt-1",message:l(e).errors.genero},null,8,["message"])])):(d(),u("div",da,[L(s("input",{type:"radio",id:"tres",value:"true","onUpdate:modelValue":t[13]||(t[13]=o=>Y.value=o)},null,512),[[ue,Y.value]]),t[45]||(t[45]=s("label",{class:"ps-2 text-sm sm:text-base",for:"tres"},"Otro",-1))]))])]),s("div",ua,[n(b,{for:"etnia",value:"Grupo poblacional"}),L(s("select",{id:"etnia","onUpdate:modelValue":t[14]||(t[14]=o=>l(e).etnia=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[t[46]||(t[46]=s("option",{value:"",disabled:""}," Seleccione grupo poblacional perteneciente ",-1)),(d(!0),u(K,null,te(l(vt),o=>(d(),u("option",{key:o.id,value:o.nombre},U(o.nombre),9,ca))),128))],512),[[ae,l(e).etnia]]),n(v,{class:"mt-2",message:l(e).errors.etnia},null,8,["message"])]),s("div",ma,[n(b,{for:"condicion",value:"Condición poblacional"}),L(s("select",{id:"condicion","onUpdate:modelValue":t[15]||(t[15]=o=>l(e).condicion=o),class:"mt-1 block w-full border-gray-300 rounded-lg"},[t[47]||(t[47]=s("option",{value:"",disabled:""}," Seleccione condición poblacional ",-1)),(d(!0),u(K,null,te(l(gt),o=>(d(),u("option",{key:o.id,value:o.nombre},U(o.nombre),9,pa))),128))],512),[[ae,l(e).condicion]]),n(v,{class:"mt-2",message:l(e).errors.condicion},null,8,["message"])]),s("div",fa,[n(b,{for:"indicativo",value:"Indicativo"}),n(y,{id:"indicativo",type:"text",maxlength:"3",class:"mt-1 block w-full",modelValue:l(e).indicativo,"onUpdate:modelValue":t[16]||(t[16]=o=>l(e).indicativo=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.indicativo},null,8,["message"])]),s("div",va,[s("div",null,[n(b,{for:"celular",value:"Celular"}),n(y,{id:"celular",type:"number",class:"mt-1 block w-full",modelValue:l(e).celular,"onUpdate:modelValue":t[17]||(t[17]=o=>l(e).celular=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.celular},null,8,["message"])])]),s("div",ga,[n(b,{for:"comuna",value:"Comuna/Corregimiento"}),n(l(me),{id:"comuna",modelValue:l(e).comuna,"onUpdate:modelValue":t[18]||(t[18]=o=>l(e).comuna=o),options:l(_t),filter:"",optionLabel:"label",placeholder:"Seleccione comuna del proyecto",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),n(v,{class:"mt-2",message:l(e).errors.comuna},null,8,["message"])]),s("div",ba,[n(b,{for:"barrio",value:"Barrio"}),n(y,{id:"barrio",type:"text",class:"mt-1 block w-full",modelValue:l(e).barrio,"onUpdate:modelValue":t[19]||(t[19]=o=>l(e).barrio=o)},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.barrio},null,8,["message"])]),s("div",ya,[n(b,{for:"direccion",value:"Dirección"}),n(y,{id:"direccion",type:"text",class:"mt-1 block w-full",modelValue:l(e).direccion,"onUpdate:modelValue":t[20]||(t[20]=o=>l(e).direccion=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.direccion},null,8,["message"])]),s("div",ha,[n(b,{for:"email",value:"Correo Electrónico"}),n(y,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:l(e).email,"onUpdate:modelValue":t[21]||(t[21]=o=>l(e).email=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.email},null,8,["message"])]),s("div",xa,[n(b,{for:"password",value:"Contraseña (mínimo: 8 caracteres)"}),n(l(Re),{id:"password",modelValue:l(e).password,"onUpdate:modelValue":t[22]||(t[22]=o=>l(e).password=o),required:"",toggleMask:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.password},null,8,["message"])]),s("div",wa,[L(s("input",{type:"checkbox",id:"consentimiento1",name:"consentimiento1",required:"","onUpdate:modelValue":t[23]||(t[23]=o=>l(e).checked=o)},null,512),[[je,l(e).checked]]),t[48]||(t[48]=s("label",{for:"consentimiento1",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},[O("Conozco y Acepto la Política de Privacidad de Datos "),s("a",{href:"https://www.pereira.gov.co/publicaciones/38/politicas-de-privacidad-y-condiciones-de-uso/",target:"_blank",class:"underline !text-azul cursor-pointer"},"politica")],-1)),n(v,{class:"mt-1",message:l(e).errors.checked},null,8,["message"])]),s("div",ka,[L(s("input",{type:"checkbox",id:"consentimiento2",name:"consentimiento2",required:"","onUpdate:modelValue":t[24]||(t[24]=o=>l(e).declaracion=o)},null,512),[[je,l(e).declaracion]]),t[49]||(t[49]=s("label",{for:"consentimiento2",class:"ps-4 pe-12 sm:text-base text-sm text-gray-500"},"Declaro bajo la gravedad de juramento que toda la información suministrada en este formulario es verídica, completa y corresponde a la realidad. Entiendo que proporcionar información falsa puede acarrear sanciones legales conforme a la normativa vigente.",-1)),n(v,{class:"mt-1",message:l(e).errors.declaracion},null,8,["message"])]),s("div",Ca,[s("div",_a,[s("button",{type:"button",onClick:t[25]||(t[25]=o=>re(0)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),s("div",Sa,[n(W,{type:"button",class:P(["h-full",{"opacity-25":l(e).processing}]),onClick:we,disabled:l(e).processing},{default:_(()=>t[50]||(t[50]=[O(" Siguiente ")])),_:1},8,["class","disabled"])])])])):k("",!0),h.value==2?(d(),u("div",Va,[s("div",Ea,[t[51]||(t[51]=s("div",{class:"col-span-2 text-sm sm:text-base text-gray-800 pt-6"},[s("h3",{class:"text-lg font-semibold"}," Cargue documento de identificación parte frontal "),s("p",null," Para cargar el documento frontal, asegúrese de que la imagen sea clara y legible. El documento debe estar bien iluminado y sin reflejos. ")],-1)),s("div",ja,[s("div",Ia,[s("img",{src:l(bt),alt:"Documento Frontal ejemplo",class:"w-full h-full object-contain mt-2"},null,8,La)])]),s("div",$a,[s("div",Ta,[n(y,{id:"cedula_front",type:"file",class:"mt-1 !border-0",accept:"image/*",onInput:t[26]||(t[26]=o=>ie("cedula_front",o)),maxFileSize:2e6}),n(v,{class:"mt-2",message:l(e).errors.cedula_front},null,8,["message"]),s("div",Oa,[A.value?(d(),u("img",{key:0,src:A.value,alt:l(e).cedula_front,class:"w-4/6 h-full object-contain"},null,8,Pa)):(d(),se(l($e),{key:1,class:"w-2/6 text-gray-300 flex justify-center items-center"}))]),A.value?(d(),u("div",Ua,[s("button",{onClick:t[27]||(t[27]=o=>be(1)),type:"button",class:"bg-red-500 text-white px-4 py-2 rounded"}," Eliminar Imagen ")])):k("",!0)])])]),s("div",Ra,[t[52]||(t[52]=s("div",{class:"col-span-2 text-sm sm:text-base text-gray-800 pt-6"},[s("h3",{class:"text-lg font-semibold"}," Cargue documento de identificación parte trasera "),s("p",null," Para cargar el documento en su parte trasera, asegúrese de que la imagen sea clara y legible. El documento debe estar bien iluminado y sin reflejos. ")],-1)),s("div",za,[s("div",qa,[s("img",{src:l(yt),alt:"Documento parte trasera ejemplo",class:"w-full h-full object-contain mt-2"},null,8,Da)])]),s("div",Ma,[s("div",Ba,[n(y,{id:"cedula_back",type:"file",class:"mt-1 !border-0",accept:"image/*",onInput:t[28]||(t[28]=o=>ie("cedula_back",o)),maxFileSize:2e6}),n(v,{class:"mt-2",message:l(e).errors.cedula_back},null,8,["message"]),s("div",Fa,[H.value?(d(),u("img",{key:0,src:H.value,alt:l(e).cedula_back,class:"w-4/6 h-full object-contain"},null,8,Aa)):(d(),se(l($e),{key:1,class:"w-2/6 text-gray-300 flex justify-center items-center"}))]),H.value?(d(),u("div",Ha,[s("button",{onClick:t[29]||(t[29]=o=>be(2)),type:"button",class:"bg-red-500 text-white px-4 py-2 rounded"}," Eliminar Imagen ")])):k("",!0)])])]),s("div",Na,[n(b,{for:"firma",value:"Firma"}),s("div",Za,[s("button",{type:"button",class:P(["px-2 py-1 rounded",R.value==="imagen"?"bg-blue-600 text-white":"bg-gray-200"]),onClick:t[30]||(t[30]=o=>R.value="imagen")}," Cargar imagen ",2),s("button",{type:"button",class:P(["px-2 py-1 rounded",R.value==="canvas"?"bg-blue-600 text-white":"bg-gray-200"]),onClick:t[31]||(t[31]=o=>R.value="canvas")}," Dibujar firma ",2)]),R.value==="imagen"?(d(),u("div",Ka,[n(y,{id:"firma",type:"file",class:"mt-1 block w-full",accept:"image/*",onChange:t[32]||(t[32]=o=>ie("firma",o)),maxFileSize:2e6}),n(v,{class:"mt-2",message:l(e).errors.firma},null,8,["message"]),j.value?(d(),u("div",Wa,[s("img",{src:j.value,alt:"Vista previa de la firma",class:"h-24 border rounded"},null,8,Ga)])):k("",!0)])):(d(),u("div",Ya,[s("canvas",{ref_key:"canvas",ref:$,height:"150",class:"border border-gray-400 rounded-md bg-white cursor-crosshair sm:w-[300px] w-[250px]",onMousedown:ye,onMousemove:he,onMouseup:ne,onMouseleave:ne,onTouchstart:Ie(ye,["prevent"]),onTouchmove:Ie(he,["prevent"]),onTouchend:ne},null,544),s("div",{class:"flex gap-2 mt-1"},[s("button",{type:"button",onClick:De,class:"text-xl sm:text-2xl text-blue-600 underline"}," Limpiar "),s("button",{type:"button",onClick:Me,class:"text-xl sm:text-2xl text-green-600 underline"}," Usar firma ")]),n(v,{class:"mt-2",message:l(e).errors.firma},null,8,["message"]),j.value?(d(),u("div",Xa,[s("img",{src:j.value,alt:"Vista previa de la firma",class:"h-24 border rounded"},null,8,Ja)])):k("",!0)]))]),s("div",Qa,[n(y,{id:"campo_obligatorio",type:"text",class:"mt-1 !border-0 hidden",modelValue:l(e).campoObligatorio,"onUpdate:modelValue":t[33]||(t[33]=o=>l(e).campoObligatorio=o)},null,8,["modelValue"])]),s("div",eo,[s("div",to,[s("button",{type:"button",onClick:t[34]||(t[34]=o=>re(1)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),s("div",ao,[n(W,{type:"button",onClick:Ke,class:P({"opacity-25":l(e).processing}),disabled:l(e).processing},{default:_(()=>t[53]||(t[53]=[O(" Siguiente ")])),_:1},8,["class","disabled"])])])])):k("",!0),h.value==3?(d(),u("div",oo,[t[55]||(t[55]=s("div",{class:"text-sm sm:text-base text-gray-800 pt-6 sm:px-16 px-4"}," Ingrese el código de verificación que le fue enviado a su correo o celular. Si no recibió el código, por favor revise su bandeja de entrada o carpeta de spam. o vuelva a atrás y valide nuevamente. ",-1)),s("div",so,[n(b,{for:"codigo",value:"Código de Verificación"}),n(y,{id:"codigo",type:"text",class:"mt-1 block w-full",modelValue:l(e).codigo,"onUpdate:modelValue":t[35]||(t[35]=o=>l(e).codigo=o),required:""},null,8,["modelValue"]),n(v,{class:"mt-2",message:l(e).errors.codigo},null,8,["message"])]),s("div",lo,[s("div",io,[s("button",{type:"button",onClick:t[36]||(t[36]=o=>re(0)),class:"bg-secondary hover:bg-primary text-xs sm:text-sm text-white px-4 rounded-md shadow-xl"}," Atrás ")]),s("div",no,[n(W,{type:"button",onClick:We,class:P({"opacity-25":l(e).processing}),disabled:l(e).processing},{default:_(()=>t[54]||(t[54]=[O(" Registrarse ")])),_:1},8,["class","disabled"])])])])):k("",!0)])])]),_:1}),n(oe,{show:S.value,closeable:!1},{default:_(()=>[t[57]||(t[57]=s("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Cargando datos... ",-1)),s("div",ro,[n(l(ht),{"aria-label":"Loading"})])]),_:1},8,["show"]),n(oe,{show:z.value,closeable:!1},{default:_(()=>[t[60]||(t[60]=s("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Validar por código de verificación ",-1)),s("div",uo,[n(W,{type:"button",class:P(["h-full",{"opacity-25":l(e).processing}]),onClick:t[37]||(t[37]=o=>ke(0)),disabled:l(e).processing},{default:_(()=>t[58]||(t[58]=[O(" Validar con correo ")])),_:1},8,["class","disabled"]),n(ct,{onClick:t[38]||(t[38]=o=>ke(1)),class:P({"opacity-25":l(e).processing}),disabled:l(e).processing},{default:_(()=>t[59]||(t[59]=[O(" Validar con sms ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"]),n(oe,{show:I.value,closeable:!0},{default:_(()=>[t[62]||(t[62]=s("h2",{class:"py-4 text-2xl font-semibold text-gray-800 flex flex-wrap tex-center justify-center bg-azul text-white"}," Validación Biométrica ",-1)),t[63]||(t[63]=s("div",{class:"mt-4 px-4"},[s("p",{class:"text-sm sm:text-base text-gray-800"}," Por favor, asegúrese de que su rostro esté bien iluminado y visible en la cámara (sin gorras, tapabocas, gafas). Si no se detecta un rostro, puede intentar nuevamente o continuar sin registro biométrico. ")],-1)),s("div",co,[t[61]||(t[61]=s("label",{for:"camera"},"Seleccionar cámara:",-1)),L(s("select",{id:"camera","onUpdate:modelValue":t[39]||(t[39]=o=>N.value=o),class:"rounded-lg w-auto ms-4"},[(d(!0),u(K,null,te(X.value,o=>(d(),u("option",{key:o.deviceId,value:o.deviceId},U(o.label||"Cámara desconocida"),9,mo))),128))],512),[[ae,N.value]]),s("video",{ref_key:"video",ref:V,autoplay:"",muted:"",width:"400",height:"340",class:"rounded-xl shadow-lg flex mx-auto mt-6"},null,512),s("button",{type:"button",disabled:T.value,class:"bg-secondary hover:bg-primary text-sm sm:text-base text-white p-2 rounded-md shadow-xl flex mx-auto mt-4 disabled:bg-gray-500",onClick:t[40]||(t[40]=o=>Fe())}," Validar ",8,po),O(" "+U(E.value),1)])]),_:1},8,["show"]),n(oe,{show:ve.value,closeable:!0},{default:_(()=>[t[65]||(t[65]=s("h2",{class:"py-4 sm:text-4xl text-2x font-bold text-gray-800 flex tex-center justify-center bg-azul text-white"}," Aviso importante ",-1)),t[66]||(t[66]=s("div",{class:"text-justify sm:text-2xl text-xl p-6 mt-6"},[s("p",null," Por favor llenar todos los datos correctamente, para no ser rechazado, ¡recuerda! solo tiene tres oportunidades para registrarse ")],-1)),s("div",fo,[n(W,{type:"button",class:P(["h-full text-xl sm:text-2xl",{"opacity-25":l(e).processing}]),onClick:t[41]||(t[41]=o=>ve.value=!1),disabled:l(e).processing},{default:_(()=>t[64]||(t[64]=[O(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])],64))}};export{Uo as default};
