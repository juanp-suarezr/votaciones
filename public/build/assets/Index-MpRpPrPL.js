import{_ as w}from"./AuthenticatedLayout-lmALVPcM.js";import{s as v}from"./avatar.esm-OaP8nCmc.js";import{x as C,T as V,o as n,c as r,a as d,u as i,w as m,F as x,Z as j,b as f,d as o,i as B,j as h,t as u,m as S,n as $,C as E}from"./app-M705427b.js";import{_ as N}from"./PrimaryButton-LB5zeq0Y.js";import"./basecomponent.esm-IbdbWd1I.js";const I={class:"items-center flex justify-center mx-2"},O={class:"sm:flex w-full sm:grid md:grid-cols-3 grid-cols-2 gap-4"},T={class:"mx-auto sm:w-3/6 lg:2/6"},z={class:"mt-4 mx-auto"},F={class:"text-xl font-bold capitalize"},A={key:0,class:"text-base text-gray-800"},D={class:"text-sm text-gray-600"},L={class:"mt-4 mx-auto"},J={__name:"Index",props:{candidatos:Object,votante:Object},setup(g){const p=C("$swal"),_=g;console.log(_);const s=V({id_votante:_.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",estado:"Activo"}),b=function(e){let a=e.split(" "),t="",c=0;for(var l=0;l<a.length&&c<2;l++)a[l].length>0&&a[l]!==""&&(t+=a[l][0],c++);return t},y=e=>`/storage/uploads/usuarios/${e}`,k=e=>{console.log(e),s.id_candidato=e.id_votante,s.id_eventos=e.id_evento,s.tipo=e.tipo,s.post(route("votos.store"),{onSuccess:()=>p({title:"Voto registrado exitosamente",text:"Su voto es por "+e.votante.nombre,icon:"success"}).then(a=>{E.get("dashboard")}),onError:()=>p({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})};return(e,a)=>(n(),r(x,null,[d(i(j),{title:"Votaciones"}),d(w,null,{header:m(()=>[f(" Votaciones ")]),default:m(()=>[o("div",I,[o("div",O,[(n(!0),r(x,null,B(g.candidatos,t=>(n(),r("div",{key:t.id,class:"flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800"},[o("div",T,[t.votante.imagen=="user.png"?(n(),h(i(v),{key:0,label:b(t.votante.nombre),class:"w-full h-[60pt] sm:h-[100pt] bg-indigo-200 text-indigo-800 p-4 text-4xl",shape:"circle"},null,8,["label"])):(n(),h(i(v),{key:1,image:y(t.votante.imagen),class:"w-full h-[60pt] sm:h-[100pt] bg-indigo-200 text-indigo-800 text-4xl",shape:"circle"},null,8,["image"]))]),o("div",z,[o("h2",F,u(t.votante.nombre),1),t.votante.nombre=="Voto En Blanco"?(n(),r("h3",A," CC "+u(t.votante.identificacion),1)):S("",!0),o("p",D," Tipo: "+u(t.tipo),1)]),o("div",L,[d(N,{type:"button",onClick:c=>k(t),class:$({"opacity-25":i(s).processing}),disabled:i(s).processing},{default:m(()=>[f(" Seleccionar ")]),_:2},1032,["onClick","class","disabled"])])]))),128))])])]),_:1})],64))}};export{J as default};
