import{x as U,r as b,T as N,f as S,o as r,c as i,a as o,u as s,w as f,F as v,Z as $,b as c,d as t,l as j,h as _,v as w,i as x,t as y,n as q}from"./app-c7uXRI9g.js";import{_ as C}from"./AuthenticatedLayout-arYZnyrT.js";import{_ as n,a as p,b as d}from"./TextInput-tKF8D4ui.js";import{_ as A}from"./PrimaryButton--50GeO2a.js";import{b as O}from"./multiselect.esm-Q0Fd1aTM.js";import{_ as R}from"./SecondaryLink-xS2cKrBs.js";import{s as B}from"./selectbutton.esm-bB7Bp--1.js";import"./index.esm-ikTd--On.js";import"./ripple.esm-wfi845j4.js";import"./basecomponent.esm-o6KFW8Fb.js";import"./portal.esm-2znQ5cM1.js";const E={class:"flex flex-col bg-white border shadow-sm rounded-xl lg:w-1/2 md:w-2/3"},T={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},z=t("h3",{class:"mt-1 text-gray-500"}," Nuevo Usuario ",-1),D={class:"text-right"},F={class:"p-4 md:p-5"},L=t("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione tipo votante",-1),M=["value"],G={key:1,class:"text-xs text-gray-600"},I=["href"],Z=t("option",{disabled:"",value:"",class:"text-xs text-gray-400"},"Seleccione evento a asignar",-1),H=["value"],J={key:1,class:"text-xs text-gray-600"},K=["href"],P={class:"card flex justify-content-center"},Q={class:"col-span-2 w-full"},W={class:"card flex z-10 gap-4 mt-4"},X={class:"card flex justify-content-center"},Y={class:"col-span-2 w-full"},ee={class:"mt-4 flex flex-col items-center"},ce={__name:"Add",props:{roles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})},eventos:{type:Object,default:()=>({})}},setup(u){const V=U("$swal"),g=b("Usuario"),h=b(["Candidato","Usuario"]),e=N({name:"",email:"",identificacion:"",tipo:"",password:"",password_confirmation:"",terms:!1,roles_user:"",eventos:0,candidato:0});S(g,m=>{m=="Candidato"?e.candidato=1:e.candidato=0});const k=()=>{e.post(route("users.store"),{onSuccess:function(){e.reset("password","password_confirmation"),V({title:"Registro Guardado",text:"El usuario se ha almacenado exitosamente",icon:"success"})}})};return(m,l)=>(r(),i(v,null,[o(s($),{title:"Agregar usuario"}),o(C,null,{header:f(()=>[c(" Nuevo usuario ")]),default:f(()=>[t("div",E,[t("div",T,[z,t("div",D,[o(R,{href:m.route("users.index")},{default:f(()=>[c(" Regresar ")]),_:1},8,["href"])])]),t("div",F,[t("form",{onSubmit:j(k,["prevent"]),class:"grid sm:grid-cols-2 gap-4"},[t("div",null,[o(n,{for:"name",value:"Nombre"}),o(p,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=a=>s(e).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(d,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",null,[o(n,{for:"identificacion",value:"Identificación"}),o(p,{id:"identificacion",type:"number",class:"mt-1 block w-full",modelValue:s(e).identificacion,"onUpdate:modelValue":l[1]||(l[1]=a=>s(e).identificacion=a),required:"",autofocus:"",autocomplete:"identificacion"},null,8,["modelValue"]),o(d,{class:"mt-2",message:s(e).errors.identificacion},null,8,["message"])]),t("div",null,[o(n,{for:"tipo",value:"Tipo votante"}),u.tipos.length?_((r(),i("select",{key:0,"onUpdate:modelValue":l[2]||(l[2]=a=>s(e).tipo=a),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[L,(r(!0),i(v,null,x(u.tipos,a=>(r(),i("option",{value:a.nombre,key:a.id},y(a.nombre),9,M))),128))],512)),[[w,s(e).tipo]]):(r(),i("p",G,[c("No hay tipos de usuarios registrados, registrar uno nuevo "),t("a",{href:m.route("tipos.index")},"Aquí",8,I)])),o(d,{class:"mt-2",message:s(e).errors.tipo},null,8,["message"])]),t("div",null,[o(n,{for:"evento",value:"Evento votante"}),u.eventos.length?_((r(),i("select",{key:0,"onUpdate:modelValue":l[3]||(l[3]=a=>s(e).eventos=a),class:"block w-full px-4 py-2 mt-1 text-base text-gray-900 border border-gray-600 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[Z,(r(!0),i(v,null,x(u.eventos,a=>(r(),i("option",{value:a.id,key:a.id},y(a.nombre),9,H))),128))],512)),[[w,s(e).eventos]]):(r(),i("p",J,[c("No hay eventos registrados, registrar uno nuevo "),t("a",{href:m.route("eventos.index")},"Aquí",8,K)])),o(d,{class:"mt-2",message:s(e).errors.eventos},null,8,["message"])]),t("div",null,[o(n,{for:"email",value:"Usuario"}),o(p,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":l[4]||(l[4]=a=>s(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),o(d,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),t("div",null,[o(n,{for:"password",value:"Contraseña"}),o(p,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s(e).password,"onUpdate:modelValue":l[5]||(l[5]=a=>s(e).password=a),required:"",autocomplete:"new-password"},null,8,["modelValue"]),o(d,{class:"mt-2",message:s(e).errors.password},null,8,["message"])]),t("div",null,[o(n,{for:"password_confirmation",value:"Confirmar contraseña"}),o(p,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:s(e).password_confirmation,"onUpdate:modelValue":l[6]||(l[6]=a=>s(e).password_confirmation=a),required:"",autocomplete:"new-password"},null,8,["modelValue"]),o(d,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])]),t("div",null,[o(n,{for:"roles",value:"Roles"}),t("div",P,[o(s(O),{id:"roles",modelValue:s(e).roles_user,"onUpdate:modelValue":l[7]||(l[7]=a=>s(e).roles_user=a),display:"chip",options:Object.values(u.roles),placeholder:"Seleccione rol",maxSelectedLabels:3,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),o(d,{class:"mt-2",message:s(e).errors.roles_user},null,8,["message"])]),t("div",Q,[t("div",W,[t("div",X,[o(s(B),{modelValue:g.value,"onUpdate:modelValue":l[8]||(l[8]=a=>g.value=a),options:h.value,"aria-labelledby":"basic"},null,8,["modelValue","options"])])])]),t("div",Y,[t("div",ee,[o(A,{class:q({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:f(()=>[c(" Registrar Usuario ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{ce as default};
