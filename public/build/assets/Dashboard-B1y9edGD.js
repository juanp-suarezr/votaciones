import{W as Q,X as Z,B as J,$ as U,c as p,o as m,y as V,b as u,m as w,t as y,r as C,g as tt,T as et,a as R,u as _,Z as st,w as P,F as A,i as H,j as K,d as M,n as q,h as ot,v as nt}from"./app-DOK_wOw_.js";import{_ as at}from"./AuthenticatedLayout-DlwlA9XL.js";import{_ as I}from"./PrimaryLink-BPgP1nZx.js";import{_ as it}from"./PrimaryButton-BaNIuGu9.js";import{s as rt,a as lt}from"./index-B0RPgQy6.js";import{s as ut}from"./index-H7NSX65l.js";import{s as dt}from"./index-CatbA_5Z.js";import{c as ct}from"./comunas-Cmo4ygD3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-ktVjuVLe.js";import"./index-UZSg1-mg.js";import"./index-CPl5fqsq.js";var G={exports:{}};(function(t,s){(function(c,h){t.exports=h(Q)})(Z,d=>(()=>{var c={113:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default=(l,v)=>{const x=l.__vccOpts||l;for(const[B,Y]of v)x[B]=Y;return x}},594:e=>{e.exports=d}},h={};function r(e){var n=h[e];if(n!==void 0)return n.exports;var l=h[e]={exports:{}};return c[e](l,l.exports,r),l.exports}r.d=(e,n)=>{for(var l in n)r.o(n,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var T={};r.r(T),r.d(T,{ToastComponent:()=>$,ToastPlugin:()=>a,ToastPositions:()=>f,default:()=>o,useToast:()=>i});var g=r(594);const E=["innerHTML"];function k(e,n,l,v,x,B){return(0,g.openBlock)(),(0,g.createBlock)(g.Transition,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave},{default:(0,g.withCtx)(()=>[(0,g.withDirectives)((0,g.createElementVNode)("div",{ref:"root",role:"alert",class:(0,g.normalizeClass)(["v-toast__item",[`v-toast__item--${e.type}`,`v-toast__item--${e.position}`]]),onMouseover:n[0]||(n[0]=Y=>e.toggleTimer(!0)),onMouseleave:n[1]||(n[1]=Y=>e.toggleTimer(!1)),onClick:n[2]||(n[2]=function(){return e.whenClicked&&e.whenClicked(...arguments)})},[n[3]||(n[3]=(0,g.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,g.createElementVNode)("p",{class:"v-toast__text",innerHTML:e.message},null,8,E)],34),[[g.vShow,e.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function b(e){var n;typeof e.remove<"u"?e.remove():(n=e.parentNode)==null||n.removeChild(e)}function j(e,n,l){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const x=(0,g.h)(e,n,v),B=document.createElement("div");return B.classList.add("v-toast--pending"),l.appendChild(B),(0,g.render)(x,B),x.component}class N{constructor(n,l){this.startedAt=Date.now(),this.callback=n,this.delay=l,this.timer=setTimeout(n,l)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const f=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function S(e){return{all:e=e||new Map,on:function(n,l){var v=e.get(n);v?v.push(l):e.set(n,[l])},off:function(n,l){var v=e.get(n);v&&(l?v.splice(v.indexOf(l)>>>0,1):e.set(n,[]))},emit:function(n,l){var v=e.get(n);v&&v.slice().map(function(x){x(l)}),(v=e.get("*"))&&v.slice().map(function(x){x(n,l)})}}}const D=S(),X=(0,g.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:f.BOTTOM_RIGHT,validator(e){return Object.values(f).includes(e)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),D.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const e=this.$refs.root;(0,g.render)(null,e),b(e)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const e=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),b(e),this.isActive=!0,this.duration&&(this.timer=new N(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){!this.pauseOnHover||!this.timer||(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case f.TOP:case f.TOP_RIGHT:case f.TOP_LEFT:return this.parentTop;case f.BOTTOM:case f.BOTTOM_RIGHT:case f.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case f.TOP:case f.TOP_RIGHT:case f.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case f.BOTTOM:case f.BOTTOM_RIGHT:case f.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){D.off("toast-clear",this.dismiss)}});var O=r(113);const $=(0,O.default)(X,[["render",k]]),i=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(n){let l=null;typeof n=="string"&&(l=n);const x=Object.assign({},{message:l},e,n);return{dismiss:j($,x,document.body).ctx.dismiss}},clear(){D.emit("toast-clear")},success(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:n,type:"success"},l))},error(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:n,type:"error"},l))},info(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:n,type:"info"},l))},warning(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:n,type:"warning"},l))},default(n){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:n,type:"default"},l))}}},a={install:function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i(n);e.config.globalProperties.$toast=l,e.provide("$toast",l)}},o=a;return T})())})(G);var mt=G.exports,pt=({dt:t})=>`
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}

.p-knob-value {
    animation-name: p-knob-dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}

.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}

.p-knob svg {
    border-radius: 50%;
    outline-color: transparent;
    transition: background ${t("knob.transition.duration")}, color ${t("knob.transition.duration")}, outline-color ${t("knob.transition.duration")}, box-shadow ${t("knob.transition.duration")};
}

.p-knob svg:focus-visible {
    box-shadow: ${t("knob.focus.ring.shadow")};
    outline: ${t("knob.focus.ring.width")} ${t("knob.focus.ring.style")} ${t("knob.focus.ring.color")};
    outline-offset: ${t("knob.focus.ring.offset")};
}

@keyframes p-knob-dash-frame {
    100% {
        stroke-dashoffset: 0;
    }
}
`,ht={root:function(s){var d=s.instance,c=s.props;return["p-knob p-component",{"p-disabled":c.disabled,"p-invalid":d.$invalid}]},range:"p-knob-range",value:"p-knob-value",text:"p-knob-text"},ft=J.extend({name:"knob",style:pt,classes:ht}),vt={name:"BaseKnob",extends:ut,props:{size:{type:Number,default:100},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:function(){return U("knob.value.background").variable}},rangeColor:{type:String,default:function(){return U("knob.range.background").variable}},textColor:{type:String,default:function(){return U("knob.text.color").variable}},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:[String,Function],default:"{value}"},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ft,provide:function(){return{$pcKnob:this,$parentInstance:this}}},L=3.14159265358979,W={name:"Knob",extends:vt,inheritAttrs:!1,emits:["change"],data:function(){return{radius:40,midX:50,midY:50,minRadians:4*L/3,maxRadians:-3.14159265358979/3}},methods:{updateValueByOffset:function(s,d){var c=s-this.size/2,h=this.size/2-d,r=Math.atan2(h,c),T=-3.14159265358979/2-L/6;this.updateModel(r,T)},updateModel:function(s,d){var c;if(s>this.maxRadians)c=this.mapRange(s,this.minRadians,this.maxRadians,this.min,this.max);else if(s<d)c=this.mapRange(s+2*L,this.minRadians,this.maxRadians,this.min,this.max);else return;var h=Math.round((c-this.min)/this.step)*this.step+this.min;this.writeValue(h),this.$emit("change",h)},updateModelValue:function(s){s>this.max?this.writeValue(this.max):s<this.min?this.writeValue(this.min):this.writeValue(s)},mapRange:function(s,d,c,h,r){return(s-d)*(r-h)/(c-d)+h},onClick:function(s){!this.disabled&&!this.readonly&&this.updateValueByOffset(s.offsetX,s.offsetY)},onBlur:function(s){var d,c;(d=(c=this.formField).onBlur)===null||d===void 0||d.call(c,s)},onMouseDown:function(s){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),s.preventDefault())},onMouseUp:function(s){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),s.preventDefault())},onTouchStart:function(s){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),s.preventDefault())},onTouchEnd:function(s){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),s.preventDefault())},onMouseMove:function(s){!this.disabled&&!this.readonly&&(this.updateValueByOffset(s.offsetX,s.offsetY),s.preventDefault())},onTouchMove:function(s){if(!this.disabled&&!this.readonly&&s.touches.length==1){var d=this.$el.getBoundingClientRect(),c=s.targetTouches.item(0),h=c.clientX-d.left,r=c.clientY-d.top;this.updateValueByOffset(h,r)}},onKeyDown:function(s){if(!this.disabled&&!this.readonly)switch(s.code){case"ArrowRight":case"ArrowUp":{s.preventDefault(),this.updateModelValue(this.d_value+this.step);break}case"ArrowLeft":case"ArrowDown":{s.preventDefault(),this.updateModelValue(this.d_value-this.step);break}case"Home":{s.preventDefault(),this.writeValue(this.min);break}case"End":{s.preventDefault(),this.writeValue(this.max);break}case"PageUp":{s.preventDefault(),this.updateModelValue(this.d_value+10);break}case"PageDown":{s.preventDefault(),this.updateModelValue(this.d_value-10);break}}}},computed:{rangePath:function(){return"M ".concat(this.minX," ").concat(this.minY," A ").concat(this.radius," ").concat(this.radius," 0 1 1 ").concat(this.maxX," ").concat(this.maxY)},valuePath:function(){return"M ".concat(this.zeroX," ").concat(this.zeroY," A ").concat(this.radius," ").concat(this.radius," 0 ").concat(this.largeArc," ").concat(this.sweep," ").concat(this.valueX," ").concat(this.valueY)},zeroRadians:function(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians:function(){return this.mapRange(this.d_value,this.min,this.max,this.minRadians,this.maxRadians)},minX:function(){return this.midX+Math.cos(this.minRadians)*this.radius},minY:function(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX:function(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY:function(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX:function(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY:function(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX:function(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY:function(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc:function(){return Math.abs(this.zeroRadians-this.valueRadians)<L?0:1},sweep:function(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay:function(){return typeof this.valueTemplate=="string"?this.valueTemplate.replace(/{value}/g,this.d_value):this.valueTemplate(this.d_value)}}},gt=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],bt=["d","stroke-width","stroke"],yt=["d","stroke-width","stroke"],xt=["fill"];function wt(t,s,d,c,h,r){return m(),p("div",V({class:t.cx("root")},t.ptmi("root")),[(m(),p("svg",V({viewBox:"0 0 100 100",role:"slider",width:t.size,height:t.size,tabindex:t.readonly||t.disabled?-1:t.tabindex,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.d_value,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onClick:s[0]||(s[0]=function(){return r.onClick&&r.onClick.apply(r,arguments)}),onBlur:s[1]||(s[1]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onKeydown:s[2]||(s[2]=function(){return r.onKeyDown&&r.onKeyDown.apply(r,arguments)}),onMousedown:s[3]||(s[3]=function(){return r.onMouseDown&&r.onMouseDown.apply(r,arguments)}),onMouseup:s[4]||(s[4]=function(){return r.onMouseUp&&r.onMouseUp.apply(r,arguments)}),onTouchstart:s[5]||(s[5]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onTouchend:s[6]||(s[6]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)})},t.ptm("svg")),[u("path",V({d:r.rangePath,"stroke-width":t.strokeWidth,stroke:t.rangeColor,class:t.cx("range")},t.ptm("range")),null,16,bt),u("path",V({d:r.valuePath,"stroke-width":t.strokeWidth,stroke:t.valueColor,class:t.cx("value")},t.ptm("value")),null,16,yt),t.showValue?(m(),p("text",V({key:0,x:50,y:57,"text-anchor":"middle",fill:t.textColor,class:t.cx("text")},t.ptm("text")),y(r.valueToDisplay),17,xt)):w("",!0)],16,gt))],16)}W.render=wt;const Tt={key:0,class:""},kt={class:"md:grid md:grid-cols-2 gap-4 mt-4 mb-4"},_t={key:0,class:"border-2 border-gray-400 px-1 py-2 border-dashed flex flex-wrap"},Mt={class:"m-auto sm:text-4xl text-xl"},Ot={class:"sm:text-xl text-sm text-gray-600"},Bt={key:0,class:"sm:text-2xl text-base text-gray-800 italic"},Ct={key:1,class:"border-2 border-gray-400 px-1 py-2 border-dashed flex flex-wrap"},Rt=["href"],Dt=["src"],Pt={class:"m-auto sm:text-4xl text-xl"},Vt={class:"sm:text-xl text-sm text-gray-600"},Et={key:0,class:"sm:text-2xl text-base text-gray-800 italic"},jt={key:0,class:"sm:text-2xl text-base text-gray-800 mt-4"},$t={class:"md:grid md:grid-cols-2 gap-4 mt-4"},At={class:"border-2 border-gray-400 px-1 py-2 border-dashed"},Lt={class:"m-auto sm:text-4xl text-xl pe-2"},Nt={class:"sm:text-xl text-sm text-gray-600"},St={key:0,class:"sm:text-2xl text-base text-gray-800 italic"},zt={key:1,class:""},Xt={key:0,class:"flex flex-col justify-center"},Yt={class:"sm:flex justify-center items-center"},Ut=["value"],Ht={class:"sm:grid grid-cols-2 gap-4 mt-4"},Ft={class:"w-full flex flex-col justify-center rounded-xl p-2 shadow-xl flex m-auto h-full bg-gray-500 mb-4"},Kt={class:"text-gray-200 text-lg sm:text-xl font-bold text-center flex justify-center"},qt={class:"w-full flex flex-col justify-center rounded-xl p-2 shadow-xl flex m-auto h-full bg-gray-500"},It={key:1,class:"flex justify-center"},re={__name:"Dashboard",props:{eventos:Object,votos:Object,candidatos:Object,proyectos:Object,eventos_admin:Object,votantes:Object},setup(t){const s=t;console.log(s);const d=C([]),c=C([]);tt(()=>{d.value=s.eventos.filter(i=>i.estado!="Cerrado"&&i.votantes.length>0&&i.evento_padre==null),c.value=s.eventos.filter(i=>i.estado=="Cerrado"&&i.votantes.length>0),r.value=z(),T.value=D()});const h=mt.useToast(),r=C(),T=C(),E=new URLSearchParams(window.location.search).get("error"),k=C(s.eventos_admin.length?s.eventos_admin[0].id:""),b=C(s.eventos_admin.length?s.eventos_admin.find(i=>i.id==k.value):[]),j=C(b.value.tipos!="NA"?b.value.tipos.replace(/\s*\|\s*/g,", ").split(", "):"NA"),N=()=>{let i=[];return j.value.forEach(a=>{i.push(b.value.votos.filter(o=>o.tipo==a).length)}),i.join(", ").split(",").map(a=>a.trim())},f=i=>`assets/img/banners/${i}.webp`,S=i=>{var a;return console.log(i),(a=ct.find(o=>o.value==i))==null?void 0:a.label},z=()=>({labels:X(b.value.tipos!="NA"?b.value.tipos.replace(/\s*\|\s*/g,", "):"NA"),datasets:[{label:"Votos",data:N(),backgroundColor:["rgba(59, 130, 246, 1)"]}]}),D=()=>{const i="#fff";return{indexAxis:"y",maintainAspectRatio:!1,aspectRatio:2,plugins:{legend:{labels:{color:i}}},scales:{x:{ticks:{color:i,font:{weight:500}},grid:{display:!1,drawBorder:!0}},y:{ticks:{color:i},grid:{color:"#000",drawBorder:!0}}}}};function X(i){return i.split(",").map(a=>a.trim())}const O=et({votos:b.value.votos!=null?s.eventos_admin.find(i=>i.id==k.value).votos.length:0,votantes:s.votantes.filter(i=>i.id_evento==k.value).length});E&&(console.log(E),h.open({message:"Usted ya ha realizado el voto, No puede volver a votar",type:"error",position:"top-right",duration:8e3,pauseOnHover:!0}));const F=()=>{b.value=s.eventos_admin.length?s.eventos_admin.find(i=>i.id==k.value):[],O.votos=b.value.votos!=null?b.value.votos.length:0,j.value=b.value.tipos!="NA"?b.value.tipos.replace(/\s*\|\s*/g,", ").split(", "):"NA",O.votantes=s.votantes.filter(i=>i.id_evento==k.value).length,r.value=z(),T.value=D()},$=i=>{window.open(route("certificados.descargar",i),"_blank")};return(i,a)=>(m(),p(A,null,[R(_(st),{title:"Dashboard"}),R(at,null,{header:P(()=>a[2]||(a[2]=[M(" Dashboard ")])),default:P(()=>[i.$page.props.user.roles.includes("Usuarios")?(m(),p("div",Tt,[a[13]||(a[13]=u("h2",{class:"text-gray-600 text-2xl inline-flex"},"Votaciones pendientes",-1)),u("div",kt,[(m(!0),p(A,null,H(d.value,o=>(m(),p("div",{class:"items-center px-4 m-auto w-full",key:o.id},[o.votantes[0].estado=="Activo"&&!o.tipos.includes("withBanner")?(m(),p("div",_t,[u("p",Mt,[M(y(o.nombre)+" ",1),a[3]||(a[3]=u("br",null,null,-1)),u("span",Ot,y(o.fecha_inicio)+" - "+y(o.fecha_fin),1),a[4]||(a[4]=u("br",null,null,-1)),t.votos.find(e=>e.id_eventos==o.id)?(m(),p("span",Bt," Usted ha votado por "+y(o.tipos.includes("Proyecto")?" el proyecto "+t.proyectos.find(e=>e.id_proyecto==t.votos.find(n=>n.id_eventos==o.id).id_proyecto).proyecto.detalle:t.candidatos.find(e=>e.id_votante==t.votos.find(n=>n.id_eventos==o.id).id_candidato).votante.nombre),1)):w("",!0),a[5]||(a[5]=u("br",null,null,-1))]),o.estado=="Activo"&&!t.votos.find(e=>e.id_eventos==o.id)?(m(),K(I,{key:0,class:q(["sm:text-2xl text-xl m-auto mt-2",{"opacity-25":i.isLoading}]),disabled:i.isLoading,href:i.route("votos.index",{evento:o.id,tipo_evento:o.tipos,tipo_user:o.votantes.length!=0?o.votantes[0].tipo:"",subtipo_user:o.votantes.length!=0?o.votantes[0].subtipo:""})},{default:P(()=>a[6]||(a[6]=[M(" Votar ")])),_:2},1032,["class","disabled","href"])):w("",!0)])):w("",!0),o.votantes[0].estado=="Activo"&&o.tipos.includes("withBanner")?(m(),p("div",Ct,[R(_(dt),{value:"Comuna: "+S(o.votantes.length!=0?o.votantes[0].subtipo:""),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2 z-10"},null,8,["value"]),u("a",{class:"w-full h-full bg-indigo-200 text-indigo-800 cursor-pointer",href:i.route("votos.index",{evento:o.id,tipo_evento:o.tipos,tipo_user:o.votantes.length!=0?o.votantes[0].tipo:"",subtipo_user:o.votantes.length!=0?o.votantes[0].subtipo:""})},[u("img",{src:f("banner_"+o.id),alt:"Imagen de evento",class:"w-full h-full object-cover"},null,8,Dt)],8,Rt),u("p",Pt,[u("span",Vt,y(o.fecha_inicio)+" - "+y(o.fecha_fin),1),a[7]||(a[7]=u("br",null,null,-1)),t.votos.find(e=>e.id_eventos==o.id)?(m(),p("span",Et," Usted ha votado por "+y(o.tipos.includes("Proyecto")?" el proyecto "+t.proyectos.find(e=>e.id_proyecto==t.votos.find(n=>n.id_eventos==o.id).id_proyecto).proyecto.detalle:t.candidatos.find(e=>e.id_votante==t.votos.find(n=>n.id_eventos==o.id).id_candidato).votante.nombre),1)):w("",!0),a[8]||(a[8]=u("br",null,null,-1))]),t.votos.find(e=>e.id_eventos==o.id)?(m(),p("div",jt,[R(it,{onClick:e=>$(o.id)},{default:P(()=>a[9]||(a[9]=[M(" Descargar certificado ")])),_:2},1032,["onClick"])])):w("",!0),o.estado=="Activo"&&!t.votos.find(e=>e.id_eventos==o.id)?(m(),K(I,{key:1,class:q(["sm:text-2xl text-xl m-auto mt-2",{"opacity-25":i.isLoading}]),disabled:i.isLoading,href:i.route("votos.index",{evento:o.id,tipo_evento:o.tipos,tipo_user:o.votantes.length!=0?o.votantes[0].tipo:"",subtipo_user:o.votantes.length!=0?o.votantes[0].subtipo:""})},{default:P(()=>a[10]||(a[10]=[M(" Votar ")])),_:2},1032,["class","disabled","href"])):w("",!0)])):w("",!0)]))),128))]),a[14]||(a[14]=u("h2",{class:"text-gray-600 sm:text-2xl inline-flex"},"Votaciones cerradas",-1)),u("div",$t,[(m(!0),p(A,null,H(c.value,o=>(m(),p("div",{class:"items-center px-4 m-auto w-full",key:o.id},[u("div",At,[u("p",Lt,[M(y(o.nombre)+" ",1),a[11]||(a[11]=u("br",null,null,-1)),u("span",Nt,y(o.fecha_inicio)+" - "+y(o.fecha_fin),1),a[12]||(a[12]=u("br",null,null,-1)),t.votos.find(e=>e.id_eventos==o.id)?(m(),p("span",St," Usted ha votado por "+y(o.tipos.includes("Proyecto")?" el proyecto "+t.proyectos.find(e=>e.id_proyecto==t.votos.find(n=>n.id_eventos==o.id).id_proyecto).proyecto.detalle:t.candidatos.find(e=>e.id_votante==t.votos.find(n=>n.id_eventos==o.id).id_candidato).votante.nombre),1)):w("",!0)])])]))),128))])])):w("",!0),i.$page.props.user.roles.includes("Administrador")||i.$page.props.user.roles.includes("Supervisor")||i.$page.props.user.roles.includes("Visor")?(m(),p("div",zt,[t.eventos_admin.length?(m(),p("div",Xt,[u("div",Yt,[ot(u("select",{id:"evento_selected",name:"evento_selected","onUpdate:modelValue":a[0]||(a[0]=o=>k.value=o),onChange:F,class:"block w-full p-2 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},[a[15]||(a[15]=u("option",{selected:"",value:"",disabled:""}," Elegir evento de votación ",-1)),(m(!0),p(A,null,H(t.eventos_admin,o=>(m(),p("option",{class:"flex cursor mb-2 sm:mb-auto",key:o.id,value:o.id},y(o.nombre),9,Ut))),128))],544),[[nt,k.value]])]),u("div",Ht,[u("div",Ft,[u("h2",Kt,[a[16]||(a[16]=M(" Nivel de votaciones ")),a[17]||(a[17]=u("br",null,null,-1)),M(" Total Votantes habilitados - "+y(_(O).votantes),1)]),R(_(W),{class:"flex justify-center mt-4",modelValue:_(O).votos,"onUpdate:modelValue":a[1]||(a[1]=o=>_(O).votos=o),size:200,readonly:"",max:_(O).votantes},null,8,["modelValue","max"])]),u("div",qt,[a[18]||(a[18]=u("h2",{class:"text-gray-200 text-lg sm:text-xl font-bold text-center flex justify-center"}," Total votos según tipo ",-1)),R(_(rt),{type:"bar",data:r.value,options:T.value,class:"h-full m-2"},null,8,["data","options"])])])])):(m(),p("div",It,[R(_(lt),{severity:"info",sticky:i.sticky,class:"text-center w-fit",life:3e3},{default:P(()=>a[19]||(a[19]=[M("Los eventos de votación activos serán mostrados en esta sección")])),_:1},8,["sticky"])]))])):w("",!0)]),_:1})],64))}};export{re as default};
