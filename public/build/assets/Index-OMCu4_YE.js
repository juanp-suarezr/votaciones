import{_ as I}from"./AuthenticatedLayout-ZpEuoANm.js";import{x as N,r as d,T as D,e as C,f as L,k as R,o as h,c as w,a as o,u,w as i,F as E,Z as M,b as p,d as e,i as G,t as _,n as O}from"./app-bVZP9eGc.js";import{_ as $,a as T}from"./Modal-9RaW-Vc7.js";import{_ as P}from"./DangerButton-yIyLfDDo.js";import{_ as Z,a as H,b as J}from"./TextInput-ItPSZo7M.js";const K={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},Q={class:"text-right p-4"},W={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},X={class:"w-full whitespace-no-wrap overflow-x-auto"},Y=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Tipo de usuario "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1),ee={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},se={class:"text-gray-900 whitespace-no-wrap"},te={class:"inline-flex w-full border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},oe={class:"flex items-center border-b bg-gray-50 px-5 py-2 xs:flex-row justify-between text-gray-500 text-xs font-semibold"},ae=["disabled"],re=e("i",{class:"fa-solid fa-arrow-left"},null,-1),le=[re],ie=["disabled"],ne=e("i",{class:"fa-solid fa-arrow-right"},null,-1),ce=[ne],de={class:"p-6"},ue={class:"text-xl font-semibold"},pe={class:"mt-6"},me={class:"flex items-center justify-end mt-6"},fe={class:"p-6"},_e=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un tipo de usuario? ",-1),xe=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1),be={class:"mt-6 flex justify-end"},ke={__name:"Index",props:{tipos:Object},setup(S){const m=S,x=N("$swal"),b=d(!1),v=d(!1),n=d(0),s=D({password:"",nombre:""}),c=()=>{b.value=!1,v.value=!1,s.reset()},y=a=>{s.nombre=m.tipos.find(t=>t.id==a)?m.tipos.find(t=>t.id==a).nombre:"",v.value=!0,n.value=a},U=a=>{a=="new"?s.post(route("tipos.store",n.value),{preserveScroll:!0,onSuccess:()=>{c(),x({title:"Registro Creado",text:"El tipo se ha registrado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>s.reset()}):s.put(route("tipos.update",n.value),{preserveScroll:!0,onSuccess:()=>{c(),x({title:"Registro Actualizado",text:"El tipo se ha actualizado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>s.reset()})},j=a=>{b.value=!0,n.value=a},V=()=>{s.delete(route("tipos.destroy",n.value),{preserveScroll:!0,onSuccess:()=>{c(),x({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>s.reset()})},f=d(8),l=d(0),g=C(()=>Math.ceil(m.tipos.length/f.value)),z=()=>{l.value>0&&l.value--},A=()=>{l.value<g.value-1&&l.value++};L(f,()=>{l.value=0});const B=d(""),F=C(()=>{const a=l.value*f.value,t=a+f.value;return m.tipos.filter(r=>r.nombre.toLowerCase().includes(B.value.toLowerCase())).slice(a,t)});return(a,t)=>{const k=R("Button");return h(),w(E,null,[o(u(M),{title:"Tipo de usuario"}),o(I,null,{header:i(()=>[p(" Tipo de usuario ")]),default:i(()=>[e("div",K,[e("div",Q,[e("button",{type:"button",class:"bg-sky-700 px-4 py-2 rounded-md font-semibold text-xs text-white uppercase tracking-widest shadow-sm hover:bg-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",onClick:t[0]||(t[0]=r=>y("new"))}," Agregar ")])]),e("div",W,[e("table",X,[Y,e("tbody",null,[(h(!0),w(E,null,G(F.value,r=>(h(),w("tr",{key:r.id,class:"text-gray-700"},[e("td",ee,[e("p",se,_(r.nombre),1)]),e("td",te,[o($,{type:"button",onClick:q=>y(r.id),class:"mr-2"},{default:i(()=>[p(" Editar ")]),_:2},1032,["onClick"]),o(P,{onClick:q=>j(r.id)},{default:i(()=>[p("Eliminar")]),_:2},1032,["onClick"])])]))),128))])]),e("div",oe,[e("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:z,disabled:l.value===0},le,8,ae),e("p",null,"Pagina "+_(l.value+1)+" de "+_(g.value),1),e("button",{class:"hover:scale-125 transition duration-500 cursor-pointer",onClick:A,disabled:l.value===g.value-1},ce,8,ie)])]),o(T,{show:v.value,onClose:c},{default:i(()=>[e("div",de,[e("h2",ue,_(n.value=="new"?"Añadir Tipo de Usuario":"Editar Tipo de Usuario"),1),e("div",pe,[o(Z,{class:"sm:text-sm text-xs",for:"nombre",value:"Nombre del tipo de usuario"}),o(H,{id:"nombre",type:"text",class:"mt-1 block w-full p-0 sm:p-2",modelValue:u(s).nombre,"onUpdate:modelValue":t[1]||(t[1]=r=>u(s).nombre=r),required:"",autocomplete:"nombre"},null,8,["modelValue"]),o(J,{class:"mt-1",message:u(s).errors.nombre},null,8,["message"])]),e("div",me,[o(k,{class:"bg-blue-800 text-white px-4 py-2 rounded-md hover:bg-blue-600 cursor",type:"button",onClick:t[2]||(t[2]=r=>U(n.value))},{default:i(()=>[p("Guardar")]),_:1})])])]),_:1},8,["show"]),o(T,{show:b.value,onClose:c},{default:i(()=>[e("div",fe,[_e,xe,e("div",be,[o($,{onClick:c},{default:i(()=>[p(" Cancelar ")]),_:1}),o(P,{class:O(["ms-3",{"opacity-25":u(s).processing}]),disabled:u(s).processing,onClick:V},{default:i(()=>[p(" Eliminar tipo de usuario ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64)}}};export{ke as default};
