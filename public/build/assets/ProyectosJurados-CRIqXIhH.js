import{x as P,T,r as y,s as W,w as Y,c as m,o as c,e as t,I,b as x,f as $,l as Z,J as H,u as r,K as Q,j as a,B as X,h as V,d as g,n as j,Z as tt,p as N,F as O,k as A,t as p}from"./app-BEDASCGi.js";import{_ as et}from"./BreadCrumb-B_4GNMNI.js";import{s as st}from"./index-C4gbubad.js";import{_ as S}from"./PrimaryButton-DRZ_BzxC.js";import{r as ot,a as B}from"./XCircleIcon-Uo1rInog.js";import{s as lt}from"./index-BOQd_kbh.js";import{c as it}from"./comunas_completas-Gg-gMHNz.js";import{_ as rt}from"./Modal-0UpAunJ_.js";import"./index-BeqEu-TX.js";import"./index-0Sv20Ljs.js";const nt={class:"flex h-screen bg-gray-200 font-roboto"},at={class:"flex flex-1 flex-col overflow-hidden"},dt={class:"flex-1 overflow-y-auto mb-4 overflow-x-hidden bg-gray-200"},ut={class:"w-full flex justify-between items-center h-auto p-2 px-4 bg-azul shadow-lg"},ct={class:"min-[300px]:text-sm md:text-md lg:text-lg font-medium text-white"},xt={class:"mx-auto px-6 pt-4"},pt={class:"mx-auto px-6 py-8 relative"},mt={class:"lg:block fixed right-4 top-[25%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},bt={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},gt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},vt={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},ft={class:"mb-2"},yt={class:"mb-2"},wt={class:"mb-2"},ht={class:"mb-2"},_t={class:"mb-2 hidden"},D="panel_visible",kt={__name:"SimpleLayout",props:{breadCrumbLinks:{type:Array,default:()=>[]}},setup(v){const w=P("$swal"),i=T({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""});console.log(v);const d=y(!1);W(()=>{const u=localStorage.getItem(D);u!==null?d.value=u==="true":d.value=window.innerWidth>=768}),Y(d,u=>{localStorage.setItem(D,u)});const h=()=>{d.value=!d.value},_=()=>{i.post(route("enviarSolicitud"),{onSuccess:function(){w({title:"Solicitud enviada con Ã©xito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirÃ¡ respuesta",icon:"success"}).then(()=>{d.value=!1})},onError:function(){w({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(u,l)=>(c(),m("div",nt,[t("div",at,[t("main",dt,[t("div",ut,[t("h3",ct,[I(u.$slots,"header")])]),t("div",xt,[x(et,{links:v.breadCrumbLinks},null,8,["links"])]),t("div",pt,[I(u.$slots,"default"),t("button",{onClick:h,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar informaciÃ³n"},[(c(),Z(H(d.value?r(ot):r(B)),{class:"w-6 h-6 lg:w-8 lg:h-8"}))]),$(t("div",mt,[t("div",bt,[t("h4",gt,[x(r(B),{class:"h-4 w-4"}),l[5]||(l[5]=a(" Â¿Necesitas soporte? "))]),t("div",vt,[l[12]||(l[12]=t("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),t("form",{onSubmit:X(_,["prevent"])},[t("div",ft,[l[6]||(l[6]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),$(t("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>r(i).nombre=n),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[V,r(i).nombre]])]),t("div",yt,[l[7]||(l[7]=t("label",{class:"text-xs md:text-sm text-gray-700"},"IdentificaciÃ³n",-1)),$(t("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>r(i).identificacion=n),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[V,r(i).identificacion]])]),t("div",wt,[l[8]||(l[8]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),$(t("input",{"onUpdate:modelValue":l[2]||(l[2]=n=>r(i).celular=n),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[V,r(i).celular]])]),t("div",ht,[l[9]||(l[9]=t("label",{class:"text-xs md:text-sm text-gray-700"},"DescripciÃ³n",-1)),x(r(st),{modelValue:r(i).descripcion,"onUpdate:modelValue":l[3]||(l[3]=n=>r(i).descripcion=n),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),t("div",_t,[l[10]||(l[10]=t("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),$(t("input",{"onUpdate:modelValue":l[4]||(l[4]=n=>r(i).campo_obligatorio=n),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[V,r(i).campo_obligatorio]])]),x(S,{class:j(["mt-2",{"opacity-25":r(i).processing}]),disabled:r(i).processing},{default:g(()=>l[11]||(l[11]=[a(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[Q,d.value]])])])])]))}},Ct={class:"items-center flex flex-col justify-center mx-2"},$t={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},jt={class:"mx-auto w-full flex justify-center items-center"},St={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Vt={class:"m-auto sm:text-4xxl text-xxl object-cover"},Et={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Nt=["src"],Ot={class:"mt-4 mx-auto"},zt={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},It={class:"sm:text-2xl text-xl text-justify"},At={class:"sm:text-2xl text-xl text-justify"},Bt=["onClick"],Dt={class:"mt-4 mx-auto"},Pt={class:"mx-auto"},Tt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Mt=["src"],Lt={class:"mt-8 mx-auto"},Ut={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},qt={class:"bg-white p-6 rounded-lg w-full"},Rt={class:"flex justify-end pr-6 pt-2"},Kt={class:"mb-4 text-base sm:text-2xl"},Ft={class:"mb-4 text-base sm:text-2xl"},Jt={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Gt={class:"bg-white p-6 rounded-lg w-full"},Wt={class:"flex justify-end pr-6 pt-4"},Yt={class:"flex flex-wrap gap-8 mt-4 text-base sm:text-4xl"},Zt={class:"w-auto border-r pr-2 border-gray-600"},Ht={class:"w-auto pr-2"},Qt={class:"mt-6 text-base sm:text-4xl"},Xt={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6 mt-6"},te={class:"flex justify-between items-center px-6 pt-4"},ee={class:"px-6 mt-4"},se={class:"pr-2 space-y-4"},oe={class:"space-y-4"},le={class:"flex flex-col gap-2"},ie={class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},re={class:"text-lg sm:text-xl text-gray-700 leading-relaxed"},ne={class:"flex justify-center text-center my-8"},fe={__name:"ProyectosJurados",props:{proyectos:Object,votante:Object,last_vote:Number},setup(v){const w=P("$swal"),i=v;console.log(i);const b=T({isProyecto:!0,id_votante:i.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",subtipo:0,estado:"Activo",last_vote:i.last_vote?parseInt(i.last_vote):0}),d=y(!1),h=y(!1),_=y(!1),u=y({proyecto:{detalle:""}}),l=y(0),n=y([]),M=function(s){let e=s.split(" "),o="",C=0;for(var f=0;f<e.length&&C<2;f++)e[f].length>0&&e[f]!==""&&(o+=e[f][0],C++);return o},L=s=>`/storage/uploads/usuarios/${s}`,U=s=>`/storage/uploads/proyectos/${s}`,k=s=>{var e;return console.log(s),(e=it.find(o=>o.value==s))==null?void 0:e.label},q=(s,e)=>s?s.length>e?s.substring(0,e)+"...":s:"",R=s=>{u.value=s,h.value=!0},z=s=>{n.value=s,console.log(s),b.id_candidato=s?s.id_proyecto:0,b.id_eventos=s?s.id_evento:i.proyectos[0].id_evento,b.tipo=s?s.proyecto.tipo:i.proyectos[0].proyecto.tipo,b.subtipo=s?s.proyecto.subtipo:i.proyectos[0].proyecto.subtipo,l.value=s?s.id:null,_.value=!0},K=()=>{b.post(route("votos.store"),{onSuccess:()=>{w({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:!1,closeOnClickOutside:!1,closeOnEsc:!1}),setTimeout(()=>{w({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:{confirm:"OK"}})},3e3)},onError:()=>w({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})},E=s=>{window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(s);e.lang="es-CO",e.rate=1,e.pitch=1,window.speechSynthesis.speak(e)},F=()=>{let s="Aviso importante para el proceso de votaciÃ³n. Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad. Proyectos disponibles: ";i.proyectos.forEach((e,o)=>{s+=`. Proyecto: ${o+1}. ${e.proyecto.detalle}. `}),E(s)},J=s=>{let e="ConfirmaciÃ³n de voto. ";if(s)e+="EstÃ¡ a punto de votar por el siguiente proyecto: NÃºmero del proyecto: "+s.proyecto.numero_tarjeton+". Comuna o Corregimiento: "+k(s.proyecto.subtipo)+". Nombre del proyecto: "+s.proyecto.detalle+". ";else{const o=i.proyectos[0];e+="EstÃ¡ a punto de emitir un voto en blanco para las elecciones de presupuesto participativo 2025. Comuna o Corregimiento: "+k(o.proyecto.subtipo)+". Voto en blanco. "}E(e)},G=s=>{let e="Detalle del proyecto. Nombre del proyecto: "+s.proyecto.detalle+". DescripciÃ³n: "+s.proyecto.descripcion+". ";E(e)};return(s,e)=>(c(),m(O,null,[x(r(tt),{title:"Votaciones"}),x(kt,null,{header:g(()=>e[9]||(e[9]=[a(" Votaciones ")])),default:g(()=>[t("div",Ct,[t("div",$t,[(c(!0),m(O,null,A(v.proyectos,o=>{var C;return c(),m("div",{key:o.id,class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",l.value===o.id?"border-4 border-red-500":""])},[t("div",jt,[!((C=o.proyecto.tipo_proyecto)!=null&&C.imagen)||o.proyecto.tipo_proyecto.imagen==null?(c(),m("div",St,[t("p",Vt,p(M(o.proyecto.detalle)),1)])):(c(),m("div",Et,[t("img",{src:U(o.proyecto.tipo_proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,Nt)]))]),x(r(lt),{value:k(o.proyecto.subtipo),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2"},null,8,["value"]),t("div",Ot,[t("h2",zt," TarjetÃ³n -- "+p(o.proyecto.numero_tarjeton),1),t("p",It,[e[10]||(e[10]=t("b",null,"Nombre Proyecto:",-1)),e[11]||(e[11]=a()),e[12]||(e[12]=t("br",null,null,-1)),a(" "+p(o.proyecto.detalle),1)]),t("p",At,[e[13]||(e[13]=t("b",null,"DescripciÃ³n:",-1)),e[14]||(e[14]=a()),e[15]||(e[15]=t("br",null,null,-1)),a(" "+p(q(o.proyecto.descripcion,80))+" ",1),o.proyecto.descripcion.length>80?(c(),m("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:f=>R(o)}," Ver mÃ¡s ",8,Bt)):N("",!0)])]),t("div",Dt,[x(S,{type:"button",onClick:f=>z(o),class:"sm:text-2xl text-xl"},{default:g(()=>e[16]||(e[16]=[a(" Votar ")])),_:2},1032,["onClick"])])],2)}),128)),t("div",{class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",l.value===null?"border-4 border-red-500":""])},[t("div",Pt,[t("div",Tt,[t("img",{src:L("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,Mt)])]),e[18]||(e[18]=t("div",{class:"mt-6 mx-auto"},[t("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[a(" VOTO "),t("br"),a(" EN BLANCO ")])],-1)),t("div",Lt,[x(S,{type:"button",onClick:e[0]||(e[0]=o=>z(null)),class:"sm:text-2xl text-xl"},{default:g(()=>e[17]||(e[17]=[a(" Votar ")])),_:1})])],2)])]),h.value?(c(),m("div",Ut,[t("div",qt,[e[20]||(e[20]=t("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),t("div",Rt,[t("button",{onClick:e[1]||(e[1]=o=>G(u.value)),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),t("p",Kt,p(u.value.proyecto.detalle),1),t("p",Ft,[e[19]||(e[19]=t("b",null,"DescripciÃ³n:",-1)),a(" "+p(u.value.proyecto.descripcion),1)]),t("button",{onClick:e[2]||(e[2]=o=>h.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):N("",!0),_.value?(c(),m("div",Jt,[t("div",Gt,[e[24]||(e[24]=t("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," ðŸ—³ï¸ Confirmar voto ",-1)),t("div",Wt,[t("button",{onClick:e[3]||(e[3]=o=>J(n.value)),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[25]||(e[25]=t("p",{class:"mb-4 text-base sm:text-4xl"},[t("span",{class:"text-lg sm:text-5xl font-bold"},"EstÃ¡ a punto de votar por el siguiente proyecto:")],-1)),t("div",Yt,[t("div",Zt,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"NÃºmero Proyecto:",-1)),a(" "+p(n.value?n.value.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025"),1)]),t("div",Ht,[e[22]||(e[22]=t("span",{class:"text-gray-600"},"Comuna/Corregimiento:",-1)),a(" "+p(n.value?k(n.value.proyecto.subtipo):k(v.proyectos[0].proyecto.subtipo)),1)])]),t("div",Qt,[e[23]||(e[23]=t("span",{class:"text-gray-600"},"Nombre Proyecto:",-1)),a(" "+p(n.value?n.value.proyecto.detalle:"VOTO EN BLANCO"),1)]),t("div",Xt,[t("button",{onClick:e[4]||(e[4]=o=>_.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),t("button",{onClick:e[5]||(e[5]=o=>K()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):N("",!0),x(rt,{show:d.value,closeable:!0,height:"90vh"},{default:g(()=>[e[31]||(e[31]=t("h2",{class:"p-4 sm:text-4xl text-2xl font-bold flex justify-center text-center bg-azul text-white"}," Aviso Importante para el proceso de votaciÃ³n ",-1)),t("div",te,[t("button",{onClick:e[6]||(e[6]=o=>F()),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar "),x(S,{type:"button",class:j(["text-lg sm:text-xl px-6 py-2",{"opacity-25":r(b).processing}]),onClick:e[7]||(e[7]=o=>d.value=!1),disabled:r(b).processing},{default:g(()=>e[26]||(e[26]=[a(" Continuar ")])),_:1},8,["class","disabled"])]),e[32]||(e[32]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 leading-relaxed"},[t("p",null," Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad para realizar esta acciÃ³n. ")],-1)),t("div",ee,[e[29]||(e[29]=t("h3",{class:"text-2xl sm:text-3xl font-semibold mb-4 text-gray-800"}," Proyectos Disponibles ",-1)),t("div",se,[t("ul",oe,[(c(!0),m(O,null,A(v.proyectos,o=>(c(),m("li",{key:o.id,class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",le,[t("h4",ie,[e[27]||(e[27]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})],-1)),a(" "+p(o.nombre),1)]),t("p",re,p(o.proyecto.detalle),1)])]))),128)),e[28]||(e[28]=t("li",{class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",{class:"flex flex-col gap-2"},[t("h4",{class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})])]),t("p",{class:"text-lg sm:text-xl text-gray-700 leading-relaxed"}," VOTO EN BLANCO ")])],-1))])])]),t("div",ne,[x(S,{type:"button",class:j(["text-xl sm:text-2xl px-8 py-3",{"opacity-25":r(b).processing}]),onClick:e[8]||(e[8]=o=>d.value=!1),disabled:r(b).processing},{default:g(()=>e[30]||(e[30]=[a(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{fe as default};
