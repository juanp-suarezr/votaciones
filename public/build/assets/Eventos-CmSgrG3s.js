import{A as g,c as r,o as i,b as l,u as x,Z as b,d as c,e as t,F as m,k as y,t as a,j as d,n as h,Q as w}from"./app-BUsIvTh4.js";import{_ as k}from"./PrimaryButton-Do011Prw.js";import{_ as S}from"./PrimaryLink-CA0CVBbK.js";const V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"mt-4"},j={key:0},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"text-lg font-bold text-primary mb-2"},E={class:"text-sm text-gray-700 mb-2"},A={class:"text-xs text-gray-500 mb-1"},F={class:"text-xs text-gray-500 mb-1"},N={class:"text-xs text-gray-500 mb-1"},B={class:"mt-4 flex justify-end"},L={key:1,class:"text-center py-8 text-gray-500 block"},z={class:"mt-4"},Q={__name:"Eventos",props:{eventos_hijos:{type:Object},votante:{type:Object}},setup(u){const o=u;console.log(o);const p=n=>{if(!n)return"";const e=new Date(n),v=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),_=String(e.getDate()).padStart(2,"0");return`${v}-${s}-${_}`},f=n=>{let e=o.eventos_hijos.length;window.location.href=route("votos-jurados.index",{id_votante:o.votante.id,evento:n.id,id_evento_padre:o.eventos_hijos[0].id_evento_padre,tipo_user:o.votante.hash_votantes.length!==0?o.votante.hash_votantes[0].tipo:"",subtipo_user:w().props.user.jurado.comuna,last_vote:e-1})};return(n,e)=>{const v=g("SimpleLayout");return i(),r(m,null,[l(x(b),{title:"Eventos para votar"}),l(v,null,{header:c(()=>e[0]||(e[0]=[d(" Selección el evento para votar ")])),default:c(()=>[t("div",V,[e[5]||(e[5]=t("div",{class:"p-6 border-b border-gray-200"},[t("h1",{class:"text-xl font-bold"},"Eventos disponibles para votar")],-1)),t("div",$,[o.eventos_hijos&&o.eventos_hijos.length>0?(i(),r("div",j,[t("div",C,[(i(!0),r(m,null,y(o.eventos_hijos,s=>(i(),r("div",{key:s.eventos.id,class:"bg-gray-50 rounded-lg shadow-md p-6 flex flex-col justify-between"},[t("div",null,[t("h2",D,a(s.eventos.nombre),1),t("p",E,a(s.eventos.descripcion),1),t("p",A," Vigencia: "+a(p(s.eventos.fecha_inicio))+" - "+a(p(s.eventos.fecha_fin)),1),t("p",F,[e[1]||(e[1]=d(" Estado: ")),t("span",{class:h(s.eventos.estado==="Activo"?"text-green-600":"text-red-600")},a(s.eventos.estado),3)]),t("p",N," Dependencia: "+a(s.eventos.dependencias),1)]),t("div",B,[l(k,{disabled:s.eventos.estado!=="Activo",onClick:_=>f(s.eventos),class:"w-full"},{default:c(()=>e[2]||(e[2]=[d(" Votar en este evento ")])),_:2},1032,["disabled","onClick"])])]))),128))])])):(i(),r("div",L,[e[4]||(e[4]=d(" No hay eventos disponibles para votar en este momento. ")),t("div",z,[l(S,{class:"block mt-2 flex flex-1 w-auto justify-center p-2",type:"button",href:n.route("votantesPresencial.create")},{default:c(()=>e[3]||(e[3]=[d(" Finalizar votación ")])),_:1},8,["href"])])]))])])]),_:1})],64)}}};export{Q as default};
