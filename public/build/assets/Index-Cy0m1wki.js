import{x as w,r as k,T as C,A as I,c as i,o as r,b as x,u,Z as R,d as p,e as t,F as g,k as y,t as n,j as F}from"./app-vD5h-MJI.js";import{_ as N}from"./AuthenticatedLayout-Bn4FBKI5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-Ne9wWEIG.js";import"./SecondaryButtonReturn-D_e7YmBY.js";import"./PrimaryButton-DyUnmA_W.js";import"./XCircleIcon-Clnt5ZmI.js";import"./index-CWoC8tEV.js";import"./index-Dsjx8eef.js";import"./index-BW6OBAnV.js";const S={class:"flex items-center gap-4 mb-8"},$={class:"flex flex-col"},A=["disabled"],E={key:0},V={key:1},j={class:"mb-10"},D={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden"},B={class:"px-4 py-2 text-sm text-gray-900"},T={class:"px-4 py-2 text-sm text-gray-700"},z={class:"px-4 py-2 text-sm text-gray-700"},G={class:"px-4 py-2 text-sm text-gray-700"},H={class:"flex flex-col items-center border-t bg-white/40 mt-1 px-5 py-3 xs:flex-row xs:justify-between"},M={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden"},q={class:"px-4 py-2 text-sm text-gray-900"},J={class:"px-4 py-2 text-sm text-gray-700"},K={class:"px-4 py-2 text-sm text-gray-700"},O={class:"px-4 py-2 text-sm text-gray-700"},P={class:"flex flex-col items-center border-t bg-white/40 mt-1 px-5 py-3 xs:flex-row xs:justify-between"},at={__name:"Index",props:{votantes_fisicos:{type:Array,default:()=>[]},votos_anulados:{type:Array,default:()=>[]},numRegistrosInsertados:{type:Number,default:void 0},numInconsistencias:{type:Number,default:void 0}},setup(l){const d=w("$swal"),s=l;console.log(s);const b=[{url:"",text:"Cargue de votantes físicos"}],f=k(null),a=C({file:null}),v=c=>{f.value=c.target.files[0],a.file=f.value},h=()=>{a.file&&a.post(route("votantesFisicos.cargueMasivo"),{forceFormData:!0,onSuccess:()=>{s.numRegistrosInsertados!==void 0&&s.numInconsistencias!==void 0?d({title:"Registros Cargados",text:`Se han importado ${s.numRegistrosInsertados} nuevos registros correctamente y se ha generado ${s.numInconsistencias} inconsistencias`,icon:"success"}):s.numRegistrosInsertados!==void 0&&s.numInconsistencias==null?d({title:"Registros Cargados",text:`Se han importado ${s.numRegistrosInsertados} nuevos registros correctamente y 0 inconsistencias`,icon:"success"}):s.numRegistrosInsertados==null&&s.numRegistrosActualizados!==void 0?d({title:"Registros Cargados",text:`Se han importado 0 nuevos registros correctamente y se ha generado ${s.numInconsistencias} inconsistencias`,icon:"success"}):d({title:"Registros Cargados",text:"Se han importado los registros de forma masiva",icon:"success"}),a.reset(),f.value=null,window.location.reload()},onError:()=>{d.fire("Error","Hubo un problema al cargar el archivo.","error"),window.location.reload()}})},_=c=>c?new Date(c).toLocaleString():"";return(c,e)=>{const m=I("pagination");return r(),i(g,null,[x(u(R),{title:"Cargue de votantes físicos"}),x(N,{breadCrumbLinks:b},{header:p(()=>e[0]||(e[0]=[F(" Cargue de votantes físicos ")])),default:p(()=>[t("div",S,[t("div",$,[e[1]||(e[1]=t("label",{for:"carga-masiva",class:"text-xs font-semibold mb-1"},"Carga masiva de votantes físicos",-1)),t("input",{id:"carga-masiva",type:"file",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none",onChange:v,accept:".csv,.xlsx"},null,32),t("button",{class:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!u(a).file||u(a).processing,onClick:h},[u(a).processing?(r(),i("span",E,"Cargando...")):(r(),i("span",V,"Enviar archivo"))],8,A)])]),t("div",j,[e[3]||(e[3]=t("h2",{class:"text-lg font-bold mb-2"},"Votantes físicos",-1)),t("div",D,[t("table",L,[e[2]||(e[2]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Nombre "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Identificación "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Género "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Fecha de creación ")])],-1)),t("tbody",null,[(r(!0),i(g,null,y(l.votantes_fisicos.data,o=>(r(),i("tr",{key:o.id,class:"bg-white hover:bg-gray-50"},[t("td",B,n(o.votante.nombre),1),t("td",T,n(o.votante.identificacion),1),t("td",z,n(o.votante.genero),1),t("td",G,n(_(o.created_at)),1)]))),128))])])]),t("div",H,[x(m,{links:l.votantes_fisicos.links},null,8,["links"])])]),t("div",null,[e[5]||(e[5]=t("h2",{class:"text-lg font-bold mb-2"},"Votos anulados",-1)),t("div",M,[t("table",Z,[e[4]||(e[4]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Nombre de votante "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Cantidad de votos anulados "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Fecha de creación "),t("th",{class:"px-4 py-2 text-left text-xs font-bold text-gray-700"}," Evento ")])],-1)),t("tbody",null,[(r(!0),i(g,null,y(l.votos_anulados.data,o=>(r(),i("tr",{key:o.id,class:"bg-white hover:bg-gray-50"},[t("td",q,n(o.votante.nombre),1),t("td",J,n(o.cantidad_anulada),1),t("td",K,n(o.created_at),1),t("td",O,n(o.evento.nombre),1)]))),128))])])]),t("div",P,[x(m,{links:l.votos_anulados.links},null,8,["links"])])])]),_:1})],64)}}};export{at as default};
