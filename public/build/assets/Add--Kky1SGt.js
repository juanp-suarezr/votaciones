import{x as j,r as f,T as B,e as N,f as k,o as _,c as g,a as t,u as s,w as d,F as E,Z as T,b as c,d as a,l as U,n as h,t as D,m as M}from"./app-OVwMhCVp.js";import{_ as R}from"./AuthenticatedLayout-5ouGCpnZ.js";import{_ as r}from"./InputError-Hg4VGmGw.js";import{_ as m}from"./InputLabel--mJkzC7n.js";import{_ as q}from"./PrimaryButton-rsCEzybH.js";import{_ as v}from"./TextInput-BImTvhun.js";import{s as C}from"./multiselect.esm-4r6JX63i.js";import{s as O,a as b}from"./calendar.esm-qPdY0Fpz.js";import{_ as z}from"./SecondaryLink-HuiDQUpJ.js";import"./index.esm-jARlJr64.js";import"./ripple.esm-EegZ8Qrz.js";import"./basecomponent.esm--bRO937y.js";import"./portal.esm-b3PjLxF5.js";const A={class:"flex flex-col bg-white border shadow-sm rounded-xl w-full"},L={class:"bg-gray-100 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5 grid grid-cols-2 gap-4"},P=a("h3",{class:"mt-1 text-gray-500"}," Nuevo Evento ",-1),G={class:"text-right"},H={class:"p-4 md:p-5"},I={class:"mb-2"},Y={class:"mb-2"},Z={class:"col-span-2 mb-2"},J=a("p",{class:"text-gray-600 text-sm"}," InformaciÃ³n adicional sobre el evento (max 300 caracteres) ",-1),K={key:0},Q={class:"col-span-2 flex gap-4"},W={class:"card flex justify-content-center"},X={class:"mb-2"},ee={class:"mb-2"},se={class:"mt-4 flex flex-col items-end"},_e={__name:"Add",props:{roles:{type:Object,default:()=>({})},tipos:{type:Object,default:()=>({})}},setup(x){const y=j("$swal");f(null);const n=f(!1),e=B({nombre:"",descripcion:"",fecha_inicio:"",fecha_fin:"",dependencias:"",tipos:"",estado:"Pendiente"}),u=N(()=>{const o=e.descripcion.trim().length;return o>=300?n.value=!0:n.value=!1,o});k(u,()=>{e.descripcion=e.descripcion.trim()});const p=i=>{const o=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),w=String(i.getDate()).padStart(2,"0"),S=String(i.getHours()).padStart(2,"0"),$=String(i.getMinutes()).padStart(2,"0"),F=String(i.getSeconds()).padStart(2,"0");return`${o}-${l}-${w} ${S}:${$}:${F}`},V=()=>{e.fecha_inicio=p(new Date(e.fecha_inicio)),e.fecha_fin=p(new Date(e.fecha_fin)),e.tipos=e.tipos.join("|"),e.post(route("eventos.store"),{onSuccess:function(){y({title:"Registro Guardado",text:"El evento se ha almacenado exitosamente",icon:"success"})}})};return(i,o)=>(_(),g(E,null,[t(s(T),{title:"Agregar evento"}),t(R,null,{header:d(()=>[c(" Nuevo Evento ")]),default:d(()=>[a("div",A,[a("div",L,[P,a("div",G,[t(z,{href:i.route("eventos.index")},{default:d(()=>[c(" Regresar ")]),_:1},8,["href"])])]),a("div",H,[a("form",{onSubmit:U(V,["prevent"]),class:"grid sm:grid-cols-2 gap-4"},[a("div",I,[t(m,{for:"nombre",value:"Nombre del evento"}),t(v,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(e).nombre,"onUpdate:modelValue":o[0]||(o[0]=l=>s(e).nombre=l),required:"",autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(e).errors.nombre},null,8,["message"])]),a("div",Y,[t(m,{for:"dependencias",value:"dependencias del evento"}),t(v,{id:"dependencias",type:"text",class:"mt-1 block w-full",modelValue:s(e).dependencias,"onUpdate:modelValue":o[1]||(o[1]=l=>s(e).dependencias=l),required:"",autocomplete:"dependencias"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(e).errors.dependencias},null,8,["message"])]),a("div",Z,[J,t(s(O),{modelValue:s(e).descripcion,"onUpdate:modelValue":o[2]||(o[2]=l=>s(e).descripcion=l),variant:"filled",autoResize:"",rows:"5",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"]),a("p",{class:h(["text-gray-500 text-sm mt-2",{"text-red-500":n.value}])},[c(D(u.value)+" caracteres ",1),n.value?(_(),g("span",K,"Limite de caracteres superado")):M("",!0)],2),t(r,{class:"mt-2",message:s(e).errors.descripcion},null,8,["message"])]),a("div",Q,[t(m,{for:"tipos",value:"Tipos de usuarios"}),a("div",W,[t(s(C),{id:"tipos",modelValue:s(e).tipos,"onUpdate:modelValue":o[3]||(o[3]=l=>s(e).tipos=l),display:"chip",options:Object.values(x.tipos),placeholder:"Seleccione los tipos",maxSelectedLabels:6,class:"w-full md:w-20rem"},null,8,["modelValue","options"])]),t(r,{class:"mt-2",message:s(e).errors.tipos},null,8,["message"])]),a("div",X,[t(s(b),{modelValue:s(e).fecha_inicio,"onUpdate:modelValue":o[4]||(o[4]=l=>s(e).fecha_inicio=l),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(e).errors.fecha_inicio},null,8,["message"])]),a("div",ee,[t(s(b),{modelValue:s(e).fecha_fin,"onUpdate:modelValue":o[5]||(o[5]=l=>s(e).fecha_fin=l),showTime:"",hourFormat:"24",locale:"es",dateFormat:"dd/mm/yy",variant:"filled",showButtonBar:"",placeholder:"Fecha inicio",class:"my-4 flex justify-center"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(e).errors.fecha_fin},null,8,["message"])]),a("div",null,[a("div",se,[t(q,{class:h({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:d(()=>[c(" Registrar Evento ")]),_:1},8,["class","disabled"])])])],32)])])]),_:1})],64))}};export{_e as default};
