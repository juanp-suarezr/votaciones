import{r as b,c as j,o as U,a as o,u as a,Z as B,w as s,b as t,P as v,d as i,t as d,n as C,F as E,V as I}from"./app-CGfhtV6u.js";import{_ as L}from"./AuthenticatedLayout-DYY7Qody.js";import{_ as y}from"./TextInput-Dc8yTAEF.js";import{_ as O}from"./PrimaryButton-Cdxl1iHu.js";import{_ as z}from"./SecondaryButton-EPhD3lYe.js";import{_ as D}from"./Pagination-C7STfTN9.js";import{s as F,a as p}from"./index-DIsJLrqN.js";import{s as w}from"./index-Cdg5RGWW.js";import"./es-cisHIiRj.js";import{c as k}from"./comunas-CgAZlVl9.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-oUUBB4le.js";import"./index-ClMJDVfW.js";import"./index-i_x8Q15a.js";import"./index-BJBf2NyG.js";import"./index-sHyl8YXZ.js";import"./index-CtpckSTH.js";import"./index-bzl70ffW.js";import"./index-Q_pbfc7d.js";import"./index-DKwLbs1y.js";const $={class:"p-4"},H={class:"bg-white shadow-md rounded-lg p-4 mb-4"},G={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},T={class:"mt-4 flex justify-end"},Z={class:"bg-white shadow-md rounded-lg p-4"},q={class:"flex justify-between items-center"},J={__name:"Historial",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(g){const f=g;console.log(f.votantes);let r=b(f.filters.identificacion||""),n=b(f.filters.nombre||""),u=b(f.filters.subtipo||""),m=b(f.filters.estado||"");const N=[{label:"Activo",value:"Activo"},{label:"Rechazado",value:"Rechazado"}],V=()=>{I.get("/historial_registros",{identificacion:r.value,nombre:n.value,subtipo:u.value,estado:m.value},{preserveState:!0,replace:!0})},A=()=>{r.value="",n.value="",u.value="",m.value="",V()},S=_=>{var e;return console.log(_),(e=k.find(l=>l.value==_))==null?void 0:e.label};return(_,e)=>(U(),j(E,null,[o(a(B),{title:"Usuarios registrados o validados"}),o(L,null,{header:s(()=>e[4]||(e[4]=[t("div",{class:"flex justify-between items-center"},[t("h1",{class:"text-2xl font-bold"},"Gestión de registros validados")],-1)])),default:s(()=>[t("div",$,[t("div",H,[t("div",G,[o(y,{id:"identificacion",modelValue:a(r),"onUpdate:modelValue":e[0]||(e[0]=l=>v(r)?r.value=l:r=l),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),o(y,{id:"nombre",modelValue:a(n),"onUpdate:modelValue":e[1]||(e[1]=l=>v(n)?n.value=l:n=l),placeholder:"Nombre o ID",class:"w-full"},null,8,["modelValue"]),o(a(w),{id:"comuna",modelValue:a(u),"onUpdate:modelValue":e[2]||(e[2]=l=>v(u)?u.value=l:u=l),options:a(k),filter:"",optionLabel:"label",placeholder:"Seleccione comuna",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"]),o(a(w),{id:"estado",modelValue:a(m),"onUpdate:modelValue":e[3]||(e[3]=l=>v(m)?m.value=l:m=l),options:N,filter:"",optionLabel:"label",placeholder:"Seleccione estado",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue"])]),t("div",T,[o(O,{onClick:V},{default:s(()=>e[5]||(e[5]=[i("Buscar")])),_:1}),o(z,{onClick:A},{default:s(()=>e[6]||(e[6]=[i("Limpiar Filtros")])),_:1})])]),t("div",Z,[o(a(F),{value:g.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:s(()=>[t("div",q,[e[7]||(e[7]=t("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),o(D,{links:g.votantes.links},null,8,["links"])])]),default:s(()=>[o(a(p),{header:"ID"},{body:s(l=>[i(d(l.data.id||"N/A"),1)]),_:1}),o(a(p),{header:"Propietario"},{body:s(l=>{var c,x,h;return[t("p",null,[e[8]||(e[8]=t("b",null,"Nombre:",-1)),i(" "+d(((c=l.data.votante)==null?void 0:c.nombre)||"Sin información")+" ",1),e[9]||(e[9]=t("br",null,null,-1)),t("b",null,d((x=l.data.votante)==null?void 0:x.tipo_documento)+":",1),i(" "+d(((h=l.data.votante)==null?void 0:h.identificacion)||"N/A")+" ",1),e[10]||(e[10]=t("br",null,null,-1))])]}),_:1}),o(a(p),{header:"Sector"},{body:s(l=>{var c;return[i(d(S(l.data.subtipo)||"N/A")+" ",1),e[11]||(e[11]=t("br",null,null,-1)),i(" "+d(((c=l.data.votante)==null?void 0:c.barrio)||"N/A"),1)]}),_:1}),o(a(p),{header:"Evento"},{body:s(l=>[i(d(l.data.evento.nombre||"N/A"),1)]),_:1}),o(a(p),{header:"Estado"},{body:s(l=>[t("span",{class:C(["p-2 rounded-md",[l.data.estado==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},d(l.data.estado),3)]),_:1}),o(a(p),{header:"Acciones"},{body:s(l=>e[12]||(e[12]=[t("div",{class:"flex gap-2"},null,-1)])),_:1})]),_:1},8,["value"])])])]),_:1})],64))}},fe=R(J,[["__scopeId","data-v-5ec5fae7"]]);export{fe as default};
