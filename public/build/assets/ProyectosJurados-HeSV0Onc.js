import{x as T,T as L,r as f,s as G,w as H,c as m,o as d,e as t,H as A,b as p,f as C,l as W,I as Y,u as i,J as Z,j as a,B as Q,h as S,d as v,n as j,Z as X,p as E,F as N,k as I,t as x}from"./app-Dui2XYVd.js";import{_ as tt}from"./BreadCrumb-BTfjh23q.js";import{_ as V}from"./PrimaryButton-ftfrZ556.js";import{r as et,a as P}from"./XCircleIcon-CILBXQ3y.js";import{s as st}from"./index-DPyKbb7d.js";import{s as ot}from"./index-C5aVRlhN.js";import{c as lt}from"./comunas_completas-Gg-gMHNz.js";import{_ as rt}from"./Modal-BxPqiqqC.js";import"./index-BuEfUu1e.js";import"./index-DVbfoEuJ.js";const it={class:"flex h-screen bg-gray-200 font-roboto"},nt={class:"flex flex-1 flex-col overflow-hidden"},at={class:"flex-1 overflow-y-auto mb-4 overflow-x-hidden bg-gray-200"},dt={class:"w-full flex justify-between items-center h-auto p-2 px-4 bg-azul shadow-lg"},ut={class:"min-[300px]:text-sm md:text-md lg:text-lg font-medium text-white"},ct={class:"mx-auto px-6 pt-4"},xt={class:"mx-auto px-6 py-8 relative"},mt={class:"lg:block fixed right-4 top-[25%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},pt={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},bt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},gt={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},ft={class:"mb-2"},vt={class:"mb-2"},yt={class:"mb-2"},wt={class:"mb-2"},ht={class:"mb-2 hidden"},B="panel_visible",_t={__name:"SimpleLayout",props:{breadCrumbLinks:{type:Array,default:()=>[]}},setup(g){const y=T("$swal"),r=L({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""});console.log(g);const u=f(!1);G(()=>{const c=localStorage.getItem(B);c!==null?u.value=c==="true":u.value=window.innerWidth>=768}),H(u,c=>{localStorage.setItem(B,c)});const w=()=>{u.value=!u.value},h=()=>{r.post(route("enviarSolicitud"),{onSuccess:function(){y({title:"Solicitud enviada con Ã©xito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirÃ¡ respuesta",icon:"success"}).then(()=>{u.value=!1})},onError:function(){y({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(c,o)=>(d(),m("div",it,[t("div",nt,[t("main",at,[t("div",dt,[t("h3",ut,[A(c.$slots,"header")])]),t("div",ct,[p(tt,{links:g.breadCrumbLinks},null,8,["links"])]),t("div",xt,[A(c.$slots,"default"),t("button",{onClick:w,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar informaciÃ³n"},[(d(),W(Y(u.value?i(et):i(P)),{class:"w-6 h-6 lg:w-8 lg:h-8"}))]),C(t("div",mt,[t("div",pt,[t("h4",bt,[p(i(P),{class:"h-4 w-4"}),o[5]||(o[5]=a(" Â¿Necesitas soporte? "))]),t("div",gt,[o[12]||(o[12]=t("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),t("form",{onSubmit:Q(h,["prevent"])},[t("div",ft,[o[6]||(o[6]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),C(t("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>i(r).nombre=n),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[S,i(r).nombre]])]),t("div",vt,[o[7]||(o[7]=t("label",{class:"text-xs md:text-sm text-gray-700"},"IdentificaciÃ³n",-1)),C(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>i(r).identificacion=n),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[S,i(r).identificacion]])]),t("div",yt,[o[8]||(o[8]=t("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),C(t("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>i(r).celular=n),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[S,i(r).celular]])]),t("div",wt,[o[9]||(o[9]=t("label",{class:"text-xs md:text-sm text-gray-700"},"DescripciÃ³n",-1)),p(i(st),{modelValue:i(r).descripcion,"onUpdate:modelValue":o[3]||(o[3]=n=>i(r).descripcion=n),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),t("div",ht,[o[10]||(o[10]=t("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),C(t("input",{"onUpdate:modelValue":o[4]||(o[4]=n=>i(r).campo_obligatorio=n),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[S,i(r).campo_obligatorio]])]),p(V,{class:j(["mt-2",{"opacity-25":i(r).processing}]),disabled:i(r).processing},{default:v(()=>o[11]||(o[11]=[a(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[Z,u.value]])])])])]))}},kt={class:"items-center flex flex-col justify-center mx-2"},Ct={class:"sm:flex w-full sm:grid md:grid-cols-2 grid-cols-2 gap-4 mt-6"},$t={class:"mx-auto w-full flex justify-center items-center"},St={key:0,class:"w-full flex justify-center items-center h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},jt={class:"m-auto sm:text-4xxl text-xxl object-cover"},Vt={key:1,class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Et=["src"],Nt={class:"mt-4 mx-auto"},Ot={class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},zt={class:"sm:text-2xl text-xl text-justify"},At={class:"sm:text-2xl text-xl text-justify"},It=["onClick"],Pt={class:"mt-4 mx-auto"},Bt={class:"mx-auto"},Tt={class:"w-full h-[200pt] sm:h-[300pt] bg-indigo-200 text-indigo-800"},Lt=["src"],Mt={class:"mt-8 mx-auto"},Dt={key:0,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Ut={class:"bg-white p-6 rounded-lg w-full"},qt={class:"mb-4 text-base sm:text-2xl"},Rt={class:"mb-4 text-base sm:text-2xl"},Ft={key:1,class:"fixed inset-0 bg-black px-4 sm:px-44 bg-opacity-50 flex items-center justify-center z-50"},Jt={class:"bg-white p-6 rounded-lg w-full"},Kt={class:"flex justify-end pr-6 pt-4"},Gt={class:"flex flex-wrap gap-8 mt-4 text-base sm:text-4xl"},Ht={class:"w-auto border-r pr-2 border-gray-600"},Wt={class:"w-auto pr-2"},Yt={class:"mt-6 text-base sm:text-4xl"},Zt={class:"w-full flex flex-wrap justify-center gap-4 sm:gap-6 mt-6"},Qt={class:"flex justify-end pr-6 pt-4"},Xt={class:"px-6 mt-4"},te={class:"max-h-80 overflow-y-auto pr-2 space-y-4"},ee={class:"space-y-4"},se={class:"flex flex-col gap-2"},oe={class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},le={class:"text-lg sm:text-xl text-gray-700 leading-relaxed"},re={class:"flex justify-center gap-4 text-center h-full my-8"},ge={__name:"ProyectosJurados",props:{proyectos:Object,votante:Object,last_vote:Number},setup(g){const y=T("$swal"),r=g;console.log(r);const b=L({isProyecto:!0,id_votante:r.votante[0].id,id_candidato:0,id_eventos:0,tipo:"",subtipo:0,estado:"Activo",last_vote:r.last_vote?parseInt(r.last_vote):0}),u=f(!1),w=f(!1),h=f(!1),c=f({proyecto:{detalle:""}}),o=f(0),n=f([]),M=function(s){let e=s.split(" "),l="",$=0;for(var k=0;k<e.length&&$<2;k++)e[k].length>0&&e[k]!==""&&(l+=e[k][0],$++);return l},D=s=>`/storage/uploads/usuarios/${s}`,U=s=>`/storage/uploads/proyectos/${s}`,_=s=>{var e;return console.log(s),(e=lt.find(l=>l.value==s))==null?void 0:e.label},q=(s,e)=>s?s.length>e?s.substring(0,e)+"...":s:"",R=s=>{c.value=s,w.value=!0},O=s=>{n.value=s,console.log(s),b.id_candidato=s?s.id_proyecto:0,b.id_eventos=s?s.id_evento:r.proyectos[0].id_evento,b.tipo=s?s.proyecto.tipo:r.proyectos[0].proyecto.tipo,b.subtipo=s?s.proyecto.subtipo:r.proyectos[0].proyecto.subtipo,o.value=s?s.id:null,h.value=!0},F=()=>{b.post(route("votos.store"),{onSuccess:()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:!1,closeOnClickOutside:!1,closeOnEsc:!1}),setTimeout(()=>{y({title:"Voto registrado exitosamente",text:"Su voto ha sido registrado",icon:"success",buttons:{confirm:"OK"}})},3e3)},onError:()=>y({title:"Error en el registro",text:"Su voto no fue asignado, vuelve a intentar nuevamente",icon:"error"})})},z=s=>{window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(s);e.lang="es-CO",e.rate=1,e.pitch=1,window.speechSynthesis.speak(e)},J=()=>{let s="Aviso importante para el proceso de votaciÃ³n. Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad. Proyectos disponibles: ";r.proyectos.forEach((e,l)=>{s+=`. Proyecto: ${l+1}. ${e.proyecto.detalle}. `}),z(s)},K=s=>{let e="Confirmar voto EstÃ¡ a punto de votar por el siguiente proyecto: Proyectos disponibles: NÃºmero Proyecto: "+s?s.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025 Comuna o Corregimiento: "+s?_(s.proyecto.subtipo):_(r.proyectos[0].proyecto.subtipo)+"Nombre Proyecto: "+s?s.proyecto.detalle:"VOTO EN BLANCO. ";z(e)};return(s,e)=>(d(),m(N,null,[p(i(X),{title:"Votaciones"}),p(_t,null,{header:v(()=>e[7]||(e[7]=[a(" Votaciones ")])),default:v(()=>[t("div",kt,[t("div",Ct,[(d(!0),m(N,null,I(g.proyectos,l=>(d(),m("div",{key:l.id,class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",o.value===l.id?"border-4 border-red-500":""])},[t("div",$t,[l.proyecto.imagen=="NA"?(d(),m("div",St,[t("p",jt,x(M(l.proyecto.detalle)),1)])):(d(),m("div",Vt,[t("img",{src:U(l.proyecto.imagen),alt:"Imagen de proyecto",class:"w-full h-full object-cover"},null,8,Et)]))]),p(i(ot),{value:_(l.proyecto.subtipo),class:"!bg-primary text-[8px] sm:text-sm !text-white w-full flex p-2"},null,8,["value"]),t("div",Nt,[t("h2",Ot," Proyecto -- "+x(l.proyecto.numero_tarjeton),1),t("p",zt,[e[8]||(e[8]=t("b",null,"Nombre Proyecto:",-1)),e[9]||(e[9]=a()),e[10]||(e[10]=t("br",null,null,-1)),a(" "+x(l.proyecto.detalle),1)]),t("p",At,[e[11]||(e[11]=t("b",null,"DescripciÃ³n:",-1)),e[12]||(e[12]=a()),e[13]||(e[13]=t("br",null,null,-1)),a(" "+x(q(l.proyecto.descripcion,80))+" ",1),l.proyecto.descripcion.length>80?(d(),m("span",{key:0,class:"text-blue-600 cursor-pointer underline",onClick:$=>R(l)}," Ver mÃ¡s ",8,It)):E("",!0)])]),t("div",Pt,[p(V,{type:"button",onClick:$=>O(l),class:"sm:text-2xl text-xl"},{default:v(()=>e[14]||(e[14]=[a(" Votar ")])),_:2},1032,["onClick"])])],2))),128)),t("div",{class:j(["flex flex-col w-full h-full p-2 inline-block m-auto mb-4 rounded-lg shadow-xl bg-gray-200 hover:bg-gray-300 text-gray-800",o.value===null?"border-4 border-red-500":""])},[t("div",Bt,[t("div",Tt,[t("img",{src:D("12345678_candidatos.jpg"),alt:"Imagen de voto en blanco",class:"w-full h-full object-cover"},null,8,Lt)])]),e[16]||(e[16]=t("div",{class:"mt-6 mx-auto"},[t("h2",{class:"sm:text-4xl text-2xl font-bold capitalize text-justify"},[a(" VOTO "),t("br"),a(" EN BLANCO ")])],-1)),t("div",Mt,[p(V,{type:"button",onClick:e[0]||(e[0]=l=>O(null)),class:"sm:text-2xl text-xl"},{default:v(()=>e[15]||(e[15]=[a(" Votar ")])),_:1})])],2)])]),w.value?(d(),m("div",Dt,[t("div",Ut,[e[18]||(e[18]=t("h2",{class:"sm:text-4xl text-xl font-bold mb-4 text-center"}," Detalle del Proyecto ",-1)),t("p",qt,x(c.value.proyecto.detalle),1),t("p",Rt,[e[17]||(e[17]=t("b",null,"DescripciÃ³n:",-1)),a(" "+x(c.value.proyecto.descripcion),1)]),t("button",{onClick:e[1]||(e[1]=l=>w.value=!1),class:"bg-indigo-600 text-white px-4 py-2 rounded"}," Cerrar ")])])):E("",!0),h.value?(d(),m("div",Ft,[t("div",Jt,[e[22]||(e[22]=t("h2",{class:"sm:text-8xl text-2xl font-bold mb-8 pb-4 sm:py-8 border-b border-gray-300 text-center"}," ðŸ—³ï¸ Confirmar voto ",-1)),t("div",Kt,[t("button",{onClick:e[2]||(e[2]=l=>K(n.value)),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[23]||(e[23]=t("p",{class:"mb-4 text-base sm:text-4xl"},[t("span",{class:"text-lg sm:text-5xl font-bold"},"EstÃ¡ a punto de votar por el siguiente proyecto:")],-1)),t("div",Gt,[t("div",Ht,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"NÃºmero Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.numero_tarjeton:"Elecciones presupuesto participativo 2025"),1)]),t("div",Wt,[e[20]||(e[20]=t("span",{class:"text-gray-600"},"Comuna/Corregimiento:",-1)),a(" "+x(n.value?_(n.value.proyecto.subtipo):_(g.proyectos[0].proyecto.subtipo)),1)])]),t("div",Yt,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Nombre Proyecto:",-1)),a(" "+x(n.value?n.value.proyecto.detalle:"VOTO EN BLANCO"),1)]),t("div",Zt,[t("button",{onClick:e[3]||(e[3]=l=>h.value=!1),class:"bg-red-600 text-white px-4 py-2 rounded sm:text-5xl"}," Cancelar "),t("button",{onClick:e[4]||(e[4]=l=>F()),class:"bg-indigo-600 text-white px-4 py-2 rounded sm:text-5xl"}," Confirmar ")])])])):E("",!0),p(rt,{show:u.value,closeable:!0},{default:v(()=>[e[28]||(e[28]=t("h2",{class:"p-4 sm:text-4xl text-2xl font-bold flex justify-center text-center bg-azul text-white"}," Aviso Importante para el proceso de votaciÃ³n ",-1)),t("div",Qt,[t("button",{onClick:e[5]||(e[5]=l=>J()),class:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-lg sm:text-xl shadow-md"}," ðŸ”Š Escuchar ")]),e[29]||(e[29]=t("div",{class:"text-justify sm:text-2xl text-xl p-6 leading-relaxed"},[t("p",null," Revise bien su elecciÃ³n antes de votar, ya que no se permitirÃ¡ una segunda oportunidad para realizar esta acciÃ³n. ")],-1)),t("div",Xt,[e[26]||(e[26]=t("h3",{class:"text-2xl sm:text-3xl font-semibold mb-4 text-gray-800"}," Proyectos Disponibles ",-1)),t("div",te,[t("ul",ee,[(d(!0),m(N,null,I(g.proyectos,l=>(d(),m("li",{key:l.id,class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",se,[t("h4",oe,[e[24]||(e[24]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})],-1)),a(" "+x(l.nombre),1)]),t("p",le,x(l.proyecto.detalle),1)])]))),128)),e[25]||(e[25]=t("li",{class:"p-4 rounded-xl shadow-md bg-gray-50 border border-gray-200"},[t("div",{class:"flex flex-col gap-2"},[t("h4",{class:"font-bold text-xl sm:text-2xl text-blue-900 flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 1.567-3 3.5S10.343 15 12 15s3-1.567 3-3.5S13.657 8 12 8zm0 10c-3.314 0-6-2.463-6-5.5S8.686 7 12 7s6 2.463 6 5.5S15.314 18 12 18z"})])]),t("p",{class:"text-lg sm:text-xl text-gray-700 leading-relaxed"}," VOTO EN BLANCO ")])],-1))])])]),t("div",re,[p(V,{type:"button",class:j(["h-full text-xl sm:text-2xl px-8 py-3",{"opacity-25":i(b).processing}]),onClick:e[6]||(e[6]=l=>u.value=!1),disabled:i(b).processing},{default:v(()=>e[27]||(e[27]=[a(" Continuar ")])),_:1},8,["class","disabled"])])]),_:1},8,["show"])]),_:1})],64))}};export{ge as default};
