import{x as V,r as w,q as C,c as s,o as a,b as g,u as k,Z as P,d as j,e as t,p as c,t as r,F as b,k as y,j as n}from"./app-Bs6jO2uX.js";import{_ as L}from"./AuthenticatedLayout-TgFcI3gX.js";import{N as F}from"./vue-easy-lightbox.esm.min-CTFKvpJ-.js";import{_ as O}from"./ApplicationLogo-Uclb2B0z.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-D4MO0QDC.js";import"./SecondaryButtonReturn-BL2Mn0s-.js";import"./index-BeDp9Sq_.js";import"./index-DctgqYHI.js";import"./index-B7xh3n4G.js";import"./PrimaryButton-DYc_c_2E.js";import"./XCircleIcon-BVnpBDp9.js";const B={class:"p-4"},I={class:"bg-white shadow-md rounded-lg p-6 mb-6"},U={class:"w-full mb-4 border-b-2 border-secondary pb-4"},q={class:"flex justify-between flex-wrap gap-2"},T={class:"font-bold mb-4"},E={class:"md:grid md:grid-cols-2 gap-4"},H={class:"rounded-md w-full h-full flex justify-center shadow-md p-4"},J=["src"],M={class:"rounded-md w-full justify-center shadow-md p-4"},Y={class:"sm:grid sm:grid-cols-2 gap-4"},Z={class:"md:col-span-2"},z={key:0},G={key:0,class:"list-disc ml-4"},K={key:1},Q={key:0,class:"md:col-span-2"},R={class:"md:col-span-2"},W={key:1},X={key:0,class:"card shadow-lg rounded-md p-4 mb-4"},tt=["src"],et={key:1,class:"card shadow-lg rounded-md p-4 sm:h-36 h-full flex items-center justify-center"},ot={key:2,class:"flex flex-col my-auto"},st={key:0},at={key:3,class:"w-full col-span-2"},rt={key:0,class:"min-w-full whitespace-no-wrap"},lt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},it={class:"text-gray-900 whitespace-no-wrap"},nt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},dt={class:"text-gray-900 whitespace-no-wrap"},ct={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ut={class:"text-gray-900 whitespace-no-wrap"},bt={key:1},mt={key:4,class:"w-full col-span-2"},gt={key:0,class:"min-w-full whitespace-no-wrap"},yt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},xt={class:"text-gray-900 whitespace-no-wrap"},ft={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},vt={class:"text-gray-900 whitespace-no-wrap"},pt={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ht={class:"text-gray-900 whitespace-no-wrap"},wt={key:1},kt={key:0,class:"w-full col-span-2 flex flex-wrap justify-between mt-4"},jt={class:"shadow-md border-b border-black mb-2 p-2"},Nt=["src"],_t={class:"w-auto"},Ut={__name:"Show",props:{acta:{type:Object,required:!0},parametros:{type:Object},delegados:{type:Object},votos_virtuales_proyectos:{type:Object,default:()=>[]}},setup(o){V("$swal");const d=o;console.log(d);const N=[{url:"/actaPresencial",text:"Actas de escrutinio"},{url:"",text:"Detalles Acta escrutinio"}],f=w(""),x=w(!1),_=i=>{f.value=i,x.value=!0},A=()=>{x.value=!1},v=i=>(console.log(i),d.parametros.find(e=>e.id===parseInt(i)).detalle),p=C(()=>{if(!d.acta.comuna||!d.parametros)return[];const i=String(d.acta.comuna).split("|").map(e=>e.trim());return d.parametros.filter(e=>i.includes(String(e.id)))}),$=i=>`/storage/uploads/fotos/${i}`,S=i=>`/storage/uploads/delegado/${i}`,h=i=>i==="virtual"?"/assets/img/logo1.png":`/storage/uploads/actas/${i}`,D=i=>{const e=new Date(i),l=e.getFullYear(),u=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0");return`${l}-${u}-${m}`};return(i,e)=>(a(),s(b,null,[g(k(P),{title:"Validación del votante"}),g(L,{breadCrumbLinks:N},{header:j(()=>e[1]||(e[1]=[t("div",{class:"flex justify-between items-center"},[t("h1",{class:"text-2xl font-bold"},"Detalle del Acta de escrutinio")],-1)])),default:j(()=>[t("div",B,[t("div",I,[t("div",U,[g(O,{class:"h-24 !w-full object-contain"})]),t("div",q,[e[2]||(e[2]=t("h2",{class:"text-lg font-bold mb-4 text-blue-900"}," Datos del reporte de escrutinio ",-1)),t("p",T,r(o.acta.evento.nombre),1)]),t("div",E,[t("div",H,[t("img",{src:h(o.acta.imagen),class:"w-full h-full cursor-pointer object-contain",onClick:e[0]||(e[0]=l=>_(h(o.acta.imagen)))},null,8,J)]),t("div",M,[t("div",Y,[t("div",Z,[e[3]||(e[3]=t("b",null,"Comuna/Corregimiento:",-1)),o.acta.tipo==="virtual"?(a(),s("span",z,[p.value.length?(a(),s("ul",G,[(a(!0),s(b,null,y(p.value,l=>(a(),s("li",{key:l.id},r(l.detalle),1))),128))])):c("",!0)])):(a(),s("span",K,r(v(o.acta.comuna)||"Sin información"),1))]),o.acta.tipo!=="virtual"?(a(),s("div",Q,[e[4]||(e[4]=t("b",null,"Puesto de votación:",-1)),n(" "+r(v(o.acta.puesto_votacion)||"N/A"),1)])):c("",!0),t("div",null,[e[5]||(e[5]=t("b",null,"Fecha del evento:",-1)),n(" "+r(D(o.acta.fecha_evento)||"N/A"),1)]),t("div",R,[e[6]||(e[6]=t("b",null,"Observaciones:",-1)),n(" "+r(o.acta.observaciones||"N/A"),1)]),o.acta.tipo!=="virtual"?(a(),s("div",W,[o.acta.jurado&&o.acta.jurado.user.biometrico?(a(),s("div",X,[t("img",{src:$(o.acta.jurado.user.biometrico.photo),class:"w-full sm:h-48 sm:object-cover"},null,8,tt)])):(a(),s("div",et,r(o.acta.jurado?"Imagen Jurado":"Usuario Cordinador"),1))])):c("",!0),o.acta.tipo!=="virtual"?(a(),s("div",ot,[t("div",null,[e[7]||(e[7]=t("b",null,"Nombre:",-1)),n(" "+r(o.acta.jurado?o.acta.jurado.nombre:o.acta.cordinador.name||"N/A"),1)]),t("div",null,[e[8]||(e[8]=t("b",null,"identificacion:",-1)),n(" cc. "+r(o.acta.jurado?o.acta.jurado.identificacion:"N/A"),1)]),o.acta.jurado?(a(),s("div",st,[e[9]||(e[9]=t("b",null,"contacto:",-1)),n(" "+r(o.acta.jurado.contacto||"N/A"),1)])):c("",!0)])):c("",!0),e[18]||(e[18]=t("div",{class:"md:col-span-2 mt-4 mb-2"},[t("h2",{class:"font-bold text-lg"},"Información votación")],-1)),t("div",null,[e[10]||(e[10]=t("b",null,"Votos blanco:",-1)),n(" "+r(o.acta.votos_blanco||"0"),1)]),t("div",null,[e[11]||(e[11]=t("b",null,"Votos no marcados:",-1)),n(" "+r(o.acta.votos_no_marcados||"0"),1)]),t("div",null,[e[12]||(e[12]=t("b",null,"Votos nulos:",-1)),n(" "+r(o.acta.votos_nulos||"0"),1)]),t("div",null,[e[13]||(e[13]=t("b",null,"Total votos:",-1)),n(" "+r(o.acta.total_ciudadanos||"0"),1)]),o.acta.tipo!=="virtual"?(a(),s("div",at,[o.acta.votos_fisico&&o.acta.votos_fisico.length?(a(),s("table",rt,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," # "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyecto "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," votos ")])],-1)),t("tbody",null,[(a(!0),s(b,null,y(o.acta.votos_fisico,(l,u)=>{var m;return a(),s("tr",{key:l.id,class:"text-gray-700"},[t("td",lt,[t("p",it,r(u+1),1)]),t("td",nt,[t("p",dt,r(((m=l.proyecto)==null?void 0:m.detalle)??"Proyecto desconocido"),1)]),t("td",ct,[t("p",ut,r(l.cantidad),1)])])}),128))])])):(a(),s("div",bt,e[15]||(e[15]=[t("em",null,"No hay votos por proyectos",-1)])))])):(a(),s("div",mt,[o.votos_virtuales_proyectos&&o.votos_virtuales_proyectos.length?(a(),s("table",gt,[e[16]||(e[16]=t("thead",null,[t("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," # "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Proyecto "),t("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," votos ")])],-1)),t("tbody",null,[(a(!0),s(b,null,y(o.votos_virtuales_proyectos,(l,u)=>(a(),s("tr",{key:l.id,class:"text-gray-700"},[t("td",yt,[t("p",xt,r(u+1),1)]),t("td",ft,[t("p",vt,r(l.nombre??"Proyecto desconocido"),1)]),t("td",pt,[t("p",ht,r(l.cantidad),1)])]))),128))])])):(a(),s("div",wt,e[17]||(e[17]=[t("em",null,"No hay votos por proyectos",-1)])))]))])])]),o.delegados.length?(a(),s("div",kt,[(a(!0),s(b,null,y(o.delegados,l=>(a(),s("div",{key:l.id,class:"w-auto p-4"},[t("div",jt,[t("img",{class:"w-auto h-44 object-contain",src:S(l.firma)},null,8,Nt)]),t("div",_t,[t("p",null,r(l.nombre),1),t("p",null,r(l.identificacion),1),t("p",null,r(l.cargo),1)])]))),128))])):c("",!0)])])]),_:1}),g(k(F),{visible:x.value,imgs:[f.value],onHide:A},null,8,["visible","imgs"])],64))}};export{Ut as default};
