import{r as g,a as j,c as b,o as n,b as t,u as s,Z as B,d as r,e as o,f as c,g as F,h as D,j as m,t as h,l as y,F as E,N as A}from"./app-CmeZP67O.js";import{_ as L}from"./AuthenticatedLayout-DGBR3ITf.js";import{_ as q}from"./PrimaryLink--yU5Jo58.js";import{_ as p}from"./SecondaryButton-Y_r0zq97.js";import{_ as K}from"./Pagination-Dy6AOSdY.js";import{s as O,a as d}from"./index--3KcXyYR.js";import{N as U}from"./vue-easy-lightbox.esm.min-DGY4F8Ul.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as Z}from"./index--VHhPC-W.js";import{r as z}from"./DocumentArrowDownIcon-Bw0Ot6QJ.js";import{r as G}from"./EyeIcon-BF0eScCV.js";import{r as H}from"./PencilIcon-BxoUhChU.js";import{r as N}from"./TrashIcon-C8fAa16E.js";import"./BreadCrumb-2c5vDnrN.js";import"./SecondaryButtonReturn-BIk7-NSK.js";import"./PrimaryButton-uYYFqKIe.js";import"./XCircleIcon-ByXXv77K.js";import"./index-CzTayH9t.js";import"./index-usQ2sUO1.js";import"./index-CbMor1sq.js";import"./index-DXykGRbh.js";import"./index-DSSm3r6_.js";import"./index-CXsScKpW.js";import"./index-BYxt9UNo.js";import"./index-BNE6dDOP.js";import"./index-CGk_P2xH.js";import"./index-DSUqRFFl.js";const M={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},Q={class:"..."},R={class:"relative"},J={class:"flex gap 4 p-4"},W=["href"],X={class:"p-4"},Y={class:"bg-white shadow-md rounded-lg p-4"},P={class:"flex justify-between items-center"},ee=["src","alt","onClick"],te={key:1},oe={key:0,class:"text-green-200 bg-green-600 p-2 rounded-md"},ae={key:1,class:"text-red-200 bg-red-600 p-2 rounded-md"},re={class:"flex gap-2"},se={__name:"Index",props:{funcionarios:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(k){const w=k,i=g(w.filters.estado),u=g(w.filters.search),C=g(""),x=g(!1),I=l=>{C.value=l,x.value=!0},S=()=>{x.value=!1},_=()=>{console.log(i.value);let l=null;i.value!==null&&i.value!==void 0&&(l=i.value.value),A.get("/funcionarios",{search:u.value,estado:l},{preserveState:!0,replace:!0})},V=()=>{u.value="",i.value=null,A.get("/funcionarios",{search:u.value,estado:i.value},{preserveState:!0,replace:!0})},$=l=>`/assets/img/funcionarios_planeacion/${l}`;return(l,a)=>{const f=j("tooltip");return n(),b(E,null,[t(s(B),{title:"Funcionarios"}),t(L,null,{header:r(()=>a[2]||(a[2]=[o("div",{class:"flex justify-between items-center"},[o("h1",{class:"text-2xl font-bold"},"Funcionarios Planeación")],-1)])),default:r(()=>[o("div",M,[o("div",null,[t(s(Z),{id:"estado",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),options:[{label:"Activo",value:1},{label:"Inactivo",value:0}],filter:"",optionLabel:"label",placeholder:"Seleccione el estado",checkmark:"",highlightOnSelect:!1,onChange:_,class:"block w-full px-4 py-1 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},null,8,["modelValue"])]),o("div",Q,[a[4]||(a[4]=o("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),o("div",R,[a[3]||(a[3]=o("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[o("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[o("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),c(o("input",{type:"search",onKeydown:F(_,["enter"]),"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-0 focus:border-transparent",placeholder:"Busqueda de usuarios",required:""},null,544),[[D,u.value]]),o("button",{type:"submit",onClick:_,class:"text-white absolute end-2.5 bottom-2.5 bg-sky-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-sky-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Buscar ")])]),o("div",J,[t(p,{class:"me-4 py-2 h-full",onClick:V},{default:r(()=>a[5]||(a[5]=[m(" Limpiar ")])),_:1}),t(q,{href:l.route("funcionarios.create")},{default:r(()=>a[6]||(a[6]=[m(" Agregar funcionario ")])),_:1},8,["href"]),o("a",{href:l.route("funcionarios.zip",{search:u.value,estado:i.value}),class:"flex inline-flex h-full text-white bg-green-800 hover:bg-blue-800 font-medium rounded-lg text-sm px-4 py-2"},[t(s(z),{class:"h-6 w-6 me-2"}),a[7]||(a[7]=m("Exportar "))],8,W)])]),o("div",X,[o("div",Y,[t(s(O),{value:k.funcionarios.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:r(()=>[o("div",P,[a[8]||(a[8]=o("h2",{class:"text-lg font-bold"},"funcionarios",-1)),t(K,{links:k.funcionarios.links},null,8,["links"])])]),default:r(()=>[t(s(d),{header:"nombre"},{body:r(e=>[o("p",null,h(e.data.nombre||"Sin información"),1)]),_:1}),t(s(d),{header:"Identificación"},{body:r(e=>[m(h(e.data.identificacion||"N/A"),1)]),_:1}),t(s(d),{header:"Area"},{body:r(e=>[m(h(e.data.area||"N/A"),1)]),_:1}),t(s(d),{header:"Grupo Sanguíneo"},{body:r(e=>[m(h(e.data.grupo_sanguineo||"No tiene"),1)]),_:1}),t(s(d),{header:"Foto"},{body:r(e=>[e.data.foto!="NA"&&e.data.foto!=null?c((n(),b("img",{key:0,src:$(e.data.foto),alt:e.data.nombre,class:"w-24 h-full object-cover rounded cursor-pointer",onClick:v=>I($(e.data.foto))},null,8,ee)),[[f,e.data.nombre]]):(n(),b("span",te,"No disponible"))]),_:1}),t(s(d),{header:"Estado"},{body:r(e=>[e.data.estado?(n(),b("span",oe," Activo ")):(n(),b("span",ae," Inactivo "))]),_:1}),t(s(d),{header:"Acciones"},{body:r(e=>[o("div",re,[c((n(),y(p,{class:"border-blue-800 hover:!bg-blue-200",onClick:v=>l.DescargarQR(e.data.id)},{default:r(()=>[t(s(G),{class:"h-6 w-6 text-blue-800"})]),_:2},1032,["onClick"])),[[f,"Descargar qr",void 0,{bottom:!0}]]),c((n(),y(p,{class:"border-blue-800 hover:!bg-blue-200",onClick:v=>l.editDelegado(e.data.id)},{default:r(()=>[t(s(H),{class:"h-6 w-6 text-blue-800"})]),_:2},1032,["onClick"])),[[f,"Editar",void 0,{bottom:!0}]]),e.data.estado?c((n(),y(p,{key:0,class:"border-red-800 hover:!bg-red-200",onClick:v=>l.InactivarFuncionario(e.data.id)},{default:r(()=>[t(s(N),{class:"h-6 w-6 text-red-800"})]),_:2},1032,["onClick"])),[[f,"Inactivar",void 0,{bottom:!0}]]):c((n(),y(p,{key:1,class:"border-red-800 hover:!bg-red-200",onClick:v=>l.ActivarFuncionario(e.data.id)},{default:r(()=>[t(s(N),{class:"h-6 w-6 text-red-800"})]),_:2},1032,["onClick"])),[[f,"Activar",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value"])])]),t(s(U),{visible:x.value,imgs:[C.value],onHide:S},null,8,["visible","imgs"])]),_:1})],64)}}},Fe=T(se,[["__scopeId","data-v-0421636c"]]);export{Fe as default};
