import{k as A,r as n,T as F,a as p,b as m,d as r,u,Z as D,e as o,f as e,g as h,q as v,v as L,V as P,H as T,j as a,F as k,h as K,t as c,n as _,N as C}from"./app-DFNzFytm.js";import{_ as M}from"./AuthenticatedLayout-BBZWsq49.js";import{_ as U}from"./Pagination-Dg_iDUyZ.js";import{_ as z}from"./PrimaryLink-C6CKVYQc.js";import{_ as I}from"./Modal-s5ctujZ9.js";import{_ as E}from"./SecondaryButton-fem9osgE.js";import{_ as O}from"./DangerButton-BxLv9kU-.js";import{_ as S}from"./SecondaryLink-DkuwwoT1.js";import"./index-CDxoH7HT.js";import"./index-DEsKPI0i.js";import"./index-B6Xy92HW.js";import"./SecondaryButtonReturn-BdnQQJ7V.js";import"./PrimaryButton-B3YpuHf4.js";import"./XCircleIcon-DV3KQ-Q1.js";import"./TrashIcon-HP3bOFUw.js";const R={class:"inline-block min-w-full overflow-hidden mb-3 grid md:grid-cols-3 gap-4"},Z={class:"..."},H={class:"relative"},G={class:"text-right p-4 gap-2 flex flex-wrap"},J={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},Q={class:"w-full whitespace-no-wrap overflow-x-auto"},W={key:0},X={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Y={class:"text-gray-900 whitespace-no-wrap"},ee={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},te={class:"text-gray-900 whitespace-no-wrap"},se={class:"border-b border-gray-200 bg-white sm:py-5 p-2 sm:text-sm text-xs"},re={class:"text-gray-900 whitespace-no-wrap"},oe={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ae={class:"w-auto border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs flex flex-wrap gap-4"},le={key:1},ie={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},de={class:"p-6"},ne={class:"mt-6 flex justify-end"},Ee={__name:"Index",props:{parametros:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(b){const y=b,j=A("$swal"),w=n(!1),B=n(!1),q=n(0),d=F({password:"",nombre:""}),N=[{url:"",text:"listado de parámetros generales"}],x=()=>{w.value=!1,B.value=!1,d.reset()},V=()=>{d.delete(route("tipos.destroy",q.value),{preserveScroll:!0,onSuccess:()=>{x(),j({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>d.reset()})};let l=n(y.filters.search),i=n(y.filters.estado??"");const g=()=>{C.get("/parametros",{search:l.value,estado:i.value},{preserveState:!0,preserveScroll:!0,replace:!0})},$=()=>{l.value="",i.value="",C.get("/parametros",{search:l.value,estado:i.value},{preserveState:!0,preserveScroll:!0,replace:!0})};return(f,t)=>(m(),p(k,null,[r(u(D),{title:"Parametros"}),r(M,{breadCrumbLinks:N},{header:o(()=>t[2]||(t[2]=[a(" Parámetros ")])),default:o(()=>[e("div",R,[e("div",null,[h(e("select",{id:"estado",name:"estado","onUpdate:modelValue":t[0]||(t[0]=s=>v(i)?i.value=s:i=s),onChange:g,class:"block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"},t[3]||(t[3]=[e("option",{selected:"",value:""},"Filtrar por estado",-1),e("option",{value:"1"},"Activo",-1),e("option",{value:"0"},"Bloqueado",-1)]),544),[[L,u(i)]])]),e("div",Z,[t[5]||(t[5]=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1)),e("div",H,[t[4]||(t[4]=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),h(e("input",{type:"search",onKeydown:P(g,["enter"]),"onUpdate:modelValue":t[1]||(t[1]=s=>v(l)?l.value=s:l=s),id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-0 focus:border-transparent",placeholder:"Buscar por código o nombre",required:""},null,544),[[T,u(l)]]),e("button",{type:"submit",onClick:g,class:"text-white absolute end-2.5 bottom-2.5 bg-sky-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-sky-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Buscar")])]),e("div",G,[r(E,{onClick:$},{default:o(()=>t[6]||(t[6]=[a(" Limpiar ")])),_:1}),r(z,{href:f.route("parametros.create")},{default:o(()=>t[7]||(t[7]=[a(" Agregar ")])),_:1},8,["href"])])]),e("div",J,[e("table",Q,[t[11]||(t[11]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Código "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"},[a(" Cantidad "),e("br"),a(" de parámetros ")]),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),b.parametros.data.length>0?(m(),p("tbody",W,[(m(!0),p(k,null,K(b.parametros.data,s=>(m(),p("tr",{key:s.id,class:"text-gray-700"},[e("td",X,[e("p",Y,c(s.detalle),1)]),e("td",ee,[e("p",te,c(s.cod),1)]),e("td",se,[e("p",re,c(s.parametros_detalle_count),1)]),e("td",oe,[e("p",{class:_(["text-gray-900 whitespace-no-wrap inline-flex px-2 rounded-md bg-red-200",{"!bg-green-400":s.estado===1}])},c(s.estado?"Activo":"Bloqueado"),3)]),e("td",ae,[r(S,{type:"button",href:f.route("parametros.edit",s.id),class:"mb-2"},{default:o(()=>t[8]||(t[8]=[a(" Editar ")])),_:2},1032,["href"]),r(S,{type:"button",href:f.route("parametrosDetalle.index",{codParametro:s.cod}),class:"mb-2"},{default:o(()=>t[9]||(t[9]=[a(" detalle ")])),_:2},1032,["href"])])]))),128))])):(m(),p("tbody",le,t[10]||(t[10]=[e("tr",null,[e("td",{class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs text-center",colspan:"5"},[e("p",{class:"whitespace-no-wrap bg-red-400 text-white text-base font-bold inline-flex px-2 rounded-md shadow-md"},"No hay registros de parámetros")])],-1)])))]),e("div",ie,[r(U,{links:b.parametros.links},null,8,["links"])])]),r(I,{show:w.value,onClose:x},{default:o(()=>[e("div",de,[t[14]||(t[14]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar el parámetro? ",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1)),e("div",ne,[r(E,{onClick:x},{default:o(()=>t[12]||(t[12]=[a(" Cancelar ")])),_:1}),r(O,{class:_(["ms-3",{"opacity-25":u(d).processing}]),disabled:u(d).processing,onClick:V},{default:o(()=>t[13]||(t[13]=[a(" Eliminar tipo de usuario ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ee as default};
