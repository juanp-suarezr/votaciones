import{_ as N}from"./AuthenticatedLayout-rJ86ZfLX.js";import{_ as V}from"./Pagination-BtLbhMbs.js";import{_ as F}from"./PrimaryLink-CxjeZ7dq.js";import{_ as L}from"./Modal-BeF3CL-h.js";import{x as q,r as l,T as B,q as w,w as D,c as g,o as c,b as r,u,Z as S,d as o,e,j as n,F as _,k as T,t as a,l as U,p as z,n as A}from"./app-BsuMdwTo.js";import{_ as I}from"./SecondaryButton-DJyOVGCc.js";import{_ as M}from"./DangerButton-BOL90Izb.js";import{_ as h}from"./SecondaryLink-BAeTnVSU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BreadCrumb-BAGX3AvV.js";import"./SecondaryButtonReturn-B4y_j3nI.js";import"./index-Dh6W0BIL.js";import"./index-BPIsLIzy.js";import"./index-C4vFE6vS.js";import"./PrimaryButton-LBh04r0F.js";import"./XCircleIcon-CB_lJ1wD.js";import"./TrashIcon-f0pRw10K.js";const O={class:"lg:w-1/2 md:w-2/3 overflow-x-scroll md:overflow-x-auto"},R={class:"text-right p-4"},Z={class:"w-full overflow-x-scroll md:overflow-x-auto rounded-lg shadow"},G={class:"w-full whitespace-no-wrap overflow-x-auto"},H={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},J={class:"text-gray-900 whitespace-no-wrap"},K={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},Q={class:"text-gray-900 whitespace-no-wrap"},W={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},X={class:"text-gray-900 whitespace-no-wrap"},Y={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ee={class:"text-gray-900 whitespace-no-wrap"},te={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},se={class:"text-gray-900 whitespace-no-wrap"},re={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},oe={class:"text-gray-900 whitespace-no-wrap"},ae={class:"border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ie={class:"text-gray-900 whitespace-no-wrap"},le={class:"w-full inline-block border-b border-gray-200 bg-white sm:px-5 sm:py-5 p-2 sm:text-sm text-xs"},ne={class:"flex flex-col items-center border-t bg-white px-5 py-5 xs:flex-row xs:justify-between"},de={class:"p-6"},pe={class:"mt-6 flex justify-end"},je={__name:"Index",props:{eventos:Object},setup(m){const x=m;console.log(x.eventos);const v=q("$swal"),f=l(!1),k=l(!1),E=l(0),d=B({password:"",nombre:""}),C=[{url:"",text:"listado de eventos"}],b=()=>{f.value=!1,k.value=!1,d.reset()},$=()=>{d.delete(route("tipos.destroy",E.value),{preserveScroll:!0,onSuccess:()=>{b(),v({title:"Registro Eliminado",text:"El rol se ha eliminado exitosamente",icon:"success"})},onError:()=>passwordInput.value.focus(),onFinish:()=>d.reset()})},p=l(8),y=l(0);w(()=>Math.ceil(x.tipos.length/p.value)),D(p,()=>{y.value=0});const P=l("");return w(()=>{const i=y.value*p.value,t=i+p.value;return x.tipos.filter(j=>j.nombre.toLowerCase().includes(P.value.toLowerCase())).slice(i,t)}),(i,t)=>(c(),g(_,null,[r(u(S),{title:"Eventos"}),r(N,{breadCrumbLinks:C},{header:o(()=>t[0]||(t[0]=[n(" Eventos ")])),default:o(()=>[e("div",O,[e("div",R,[r(F,{href:i.route("eventos.create")},{default:o(()=>t[1]||(t[1]=[n(" Agregar ")])),_:1},8,["href"])])]),e("div",Z,[e("table",G,[t[4]||(t[4]=e("thead",null,[e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Nombre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Descripción "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Dependencia "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Evento padre "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha inicio "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Fecha fin "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Estado "),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 sm:px-5 sm:py-3 p-2 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"}," Acciones ")])],-1)),e("tbody",null,[(c(!0),g(_,null,T(m.eventos.data,s=>(c(),g("tr",{key:s.id,class:"text-gray-700"},[e("td",H,[e("p",J,a(s.nombre),1)]),e("td",K,[e("p",Q,a(s.descripcion),1)]),e("td",W,[e("p",X,a(s.dependencias),1)]),e("td",Y,[e("p",ee,a(s.evento_padre?"Si":"No"),1)]),e("td",te,[e("p",se,a(s.fecha_inicio),1)]),e("td",re,[e("p",oe,a(s.fecha_fin),1)]),e("td",ae,[e("p",ie,a(s.estado),1)]),e("td",le,[r(h,{type:"button",href:i.route("eventos.edit",s.id),class:"mb-3"},{default:o(()=>t[2]||(t[2]=[n(" Editar ")])),_:2},1032,["href"]),s.tipos&&s.tipos.includes("Presupuesto Participativo")?(c(),U(h,{key:0,href:i.route("preview-votacion",s.id),class:"mb-3"},{default:o(()=>t[3]||(t[3]=[n(" Vista Previa Votación ")])),_:2},1032,["href"])):z("",!0)])]))),128))])]),e("div",ne,[r(V,{links:m.eventos.links},null,8,["links"])])]),r(L,{show:f.value,onClose:b},{default:o(()=>[e("div",de,[t[7]||(t[7]=e("h2",{class:"text-lg font-medium text-gray-900"}," ¿Estás seguro de que quieres eliminar un tipo de usuario? ",-1)),t[8]||(t[8]=e("p",{class:"mt-1 text-sm text-gray-600"}," Una vez que se elimine el tipo, esté deja de existir en la tabla tipos. Pero no se borra los registros relacionados con el usuario votante o candidato. ",-1)),e("div",pe,[r(I,{onClick:b},{default:o(()=>t[5]||(t[5]=[n(" Cancelar ")])),_:1}),r(M,{class:A(["ms-3",{"opacity-25":u(d).processing}]),disabled:u(d).processing,onClick:$},{default:o(()=>t[6]||(t[6]=[n(" Eliminar tipo de usuario ")])),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{je as default};
