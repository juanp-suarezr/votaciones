import{k as M,T as O,r as f,o as W,w as K,s as Y,a as c,b as d,d as i,f as e,u as o,Z as F,g as v,i as I,D as G,t as n,E as H,j as l,x as z,G as y,e as m,n as h,b6 as Z,y as w,U as J,p as Q,l as X,F as j,h as N,q as tt}from"./app-Dr5nXaWO.js";import{_ as et}from"./Pagination-D0lJjwfF.js";import{s as st}from"./index-BVMQkk5F.js";import{_ as ot}from"./TextInput-9cuXVtKm.js";import{_ as T}from"./SecondaryButton-CMMfJESg.js";import{_ as V}from"./PrimaryButton-DvXroBHb.js";import{r as lt,a as $}from"./XCircleIcon-CzbUSbe2.js";import"./index-CngrO7zg.js";const at={class:"relative min-h-screen bg-dots-lighter bg-gray-900 bg-center selection:bg-red-500 selection:text-white flex items-center justify-center sm:px-16 px-4"},it={class:"my-auto ps-2 text-lg sm:block hidden"},rt={class:"lg:block fixed right-4 top-[10%] lg:w-72 md:w-64 w-56 space-y-4 z-10 transition-all duration-300"},dt={class:"bg-white shadow-md rounded-xl p-4 border border-red-200"},nt={class:"text-sm md:text-base font-semibold text-red-700 mb-2 flex items-center gap-1"},ut={class:"bg-white shadow-md rounded-xl p-4 border border-blue-200"},ct={class:"mb-2"},mt={class:"mb-2"},pt={class:"mb-2"},gt={class:"mb-2"},xt={class:"mb-2 hidden"},ft={class:"w-full"},bt={class:"md:grid md:grid-cols-3 gap-8 items-stretch bg-gray-800/70 rounded-xl shadow-lg p-8 mb-12"},vt={class:"flex flex-col justify-between items-start bg-gray-900/40 rounded-lg p-6 shadow"},wt={class:"flex flex-col justify-between items-start bg-gray-900/40 rounded-lg p-6 shadow"},yt={id:"registro_info",class:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-gray-800/70 rounded-xl shadow-lg p-8 mb-12"},ht={class:"flex flex-col justify-center items-start"},kt={id:"certificados_info",class:"w-full bg-gray-800/70 rounded-xl shadow-lg p-8 mb-12"},_t={class:"w-full"},jt={class:"bg-gray-900/40 shadow-md rounded-lg p-4"},Vt={class:"sm:flex items-center gap-4 mt-2 h-full w-auto"},Ct={class:"mt-6"},St={class:"bg-gray-900/40 shadow-md rounded-lg p-4"},Et={key:0,class:"w-full overflow-x-auto"},Dt={class:"table-medium w-full border-collapse"},It={class:"px-4 py-2 text-white"},zt={class:"px-4 py-2 text-white break-words"},Nt={class:"px-4 py-2 text-white"},Tt={class:"px-4 py-2 text-white"},$t={class:"px-4 py-2 text-white"},qt={class:"table-responsive grid grid-cols-1 gap-4 sm:hidden"},Rt={class:"px-4 py-2 text-white"},Ut={key:1,class:"w-full flex justify-center items-center"},Bt={key:2,class:"w-full flex justify-center items-center"},Pt={key:0,class:"text-xl text-white"},At={key:1,class:"w-1/2 flex justify-center items-center"},q="panel_visible",Ht={__name:"Welcome",props:{eventos:Object,puntos_votacion:Object,isActive:Boolean},setup(R){const k=M("$swal"),C=R;console.log(C);const r=O({nombre:"",identificacion:"",celular:"",descripcion:"",campo_obligatorio:""}),p=f(!1),S=f(!1),_=f(!1),u=f([]),x=f(C.isActive);let g=f(null);const E=async()=>{_.value=!0;try{const a=await tt.get(`/validar-certificado/${g.value}`);u.value=a.data.registro}catch{u.value=[],k.fire({icon:"error",title:"Error",text:"Error en el proceso de búsqueda."})}finally{console.log(u.value),_.value=!1,S.value=!0}},U=()=>{g.value="",u.value=[]},D=(a,t)=>{window.open(route("certificados.descargar",{id:a,idVotante:t}),"_blank")};W(()=>{const a=localStorage.getItem(q);a!==null?p.value=a==="true":p.value=window.innerWidth>=768}),K(p,a=>{localStorage.setItem(q,a)});const B=()=>{p.value=!p.value},P=()=>{r.post(route("enviarSolicitud"),{onSuccess:function(){k({title:"Solicitud enviada con éxito",text:"La solicitud ha sido aprobado exitosamente, muy pronto recibirá respuesta",icon:"success"}).then(()=>{p.value=!1})},onError:function(){k({title:"Error al enviar la solicitud",text:"Error al intentar enviar este registro, por favor vuelve a intentar",icon:"error"})}})};return(a,t)=>{const A=Y("Textarea");return d(),c(j,null,[i(o(F),{title:"Welcome"}),e("div",at,[e("button",{onClick:B,class:"lg:flex fixed right-4 bottom-6 z-20 p-2 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-lg",title:"Mostrar/Ocultar información"},[(d(),I(G(p.value?o(lt):o($)),{class:"w-6 h-6 lg:w-8 lg:h-8"})),e("p",it,n(p.value?"":" Soporte"),1)]),v(e("div",rt,[e("div",dt,[e("h4",nt,[i(o($),{class:"h-4 w-4"}),t[7]||(t[7]=l(" ¿Necesitas soporte? "))]),e("div",ut,[t[14]||(t[14]=e("h4",{class:"text-sm md:text-base font-semibold text-blue-700 mb-2"}," Enviar solicitud ",-1)),e("form",{onSubmit:z(P,["prevent"])},[e("div",ct,[t[8]||(t[8]=e("label",{class:"text-xs md:text-sm text-gray-700"},"Nombre",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(r).nombre=s),type:"text",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[y,o(r).nombre]])]),e("div",mt,[t[9]||(t[9]=e("label",{class:"text-xs md:text-sm text-gray-700"},"Identificación",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o(r).identificacion=s),type:"number",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[y,o(r).identificacion]])]),e("div",pt,[t[10]||(t[10]=e("label",{class:"text-xs md:text-sm text-gray-700"},"Celular",-1)),v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(r).celular=s),type:"tel",class:"w-full p-2 rounded border border-gray-300 text-sm",required:""},null,512),[[y,o(r).celular]])]),e("div",gt,[t[11]||(t[11]=e("label",{class:"text-xs md:text-sm text-gray-700"},"Descripción",-1)),i(A,{modelValue:o(r).descripcion,"onUpdate:modelValue":t[3]||(t[3]=s=>o(r).descripcion=s),variant:"filled",autoResize:"",rows:"3",class:"mt-1 block w-full",required:"",autocomplete:"descripcion"},null,8,["modelValue"])]),e("div",xt,[t[12]||(t[12]=e("label",{class:"text-xs md:text-sm text-gray-700"},"campo obligatorio",-1)),v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(r).campo_obligatorio=s),rows:"3",class:"w-full p-2 rounded border border-gray-300 text-sm"},null,512),[[y,o(r).campo_obligatorio]])]),i(V,{class:h(["mt-2",{"opacity-25":o(r).processing}]),disabled:o(r).processing},{default:m(()=>t[13]||(t[13]=[l(" Enviar ")])),_:1},8,["class","disabled"])],32)])])],512),[[H,p.value]]),e("div",ft,[t[40]||(t[40]=Z('<div class="sm:flex justify-start mb-8 mt-2"><img src="/assets/img/logo_white.png" alt="Logo" class="h-24 w-auto"><div class="w-full flex justify-end items-center"><a class="text-white text-xl" href="/resultado-comunas?id_evento=15"> Resultados votaciones </a></div></div><div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center bg-gray-800/70 rounded-xl shadow-lg p-8 mb-12"><div class="flex flex-col justify-center items-start md:col-span-3 lg:px-16"><h1 class="text-4xl md:text-5xl font-extrabold text-red-600 mb-6 leading-tight"> ¡Vota Ya! <br><span class="text-gray-800 text-white">Tu voz, tu decisión</span></h1><p class="text-lg md:text-2xl text-gray-300 mb-4"> Plataforma de votaciones más segura y fácil para votar de forma digital. <br> Elige, opina y haz parte del cambio desde cualquier lugar. </p></div><div class="flex flex-col justify-center items-start md:col-span-2"><div class="flex justify-start mb-8"><img src="/assets/img/votaYa.webp" alt="Logo" class="h-full w-auto"></div></div></div>',2)),e("div",bt,[t[24]||(t[24]=e("div",{class:"flex justify-center items-center col-span-3 mb-4"},[e("h2",{class:"text-4xl text-center font-bold text-white"}," Pasos para participar en las votaciones del presupuesto participativo ")],-1)),e("div",vt,[t[17]||(t[17]=e("h2",{class:"text-2xl font-bold text-red-600 mb-4"},"1. Regístrate",-1)),t[18]||(t[18]=e("p",{class:"text-base md:text-lg text-gray-300 mb-4"}," Ingresa tus datos personales, sube foto de tu documento y realiza el registro biométrico. Recibirás una notificación por correo si tu registro fue aprobado. Si es rechazado, podrás corregir la información. ",-1)),i(o(w),{href:"#registro_info",class:"mt-auto px-4 py-2 bg-red-600 text-white font-semibold rounded shadow hover:bg-red-700 transition"},{default:m(()=>t[15]||(t[15]=[l(" Instructivo ")])),_:1}),i(o(w),{href:a.route("register"),class:"mt-2 px-4 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-red-700 transition"},{default:m(()=>t[16]||(t[16]=[l(" ¡Regístrate -- presupuesto participativo! ")])),_:1},8,["href"])]),e("div",{class:h(["flex flex-col justify-between items-start bg-gray-900/40 rounded-lg p-6 shadow",{"!bg-gray-900":x.value==!1}])},[e("h2",{class:h(["text-2xl font-bold text-red-600 mb-4",{"!text-gray-500":x.value==!1}])}," 2. Vota por tu proyecto ",2),t[20]||(t[20]=e("p",{class:"text-base md:text-lg text-gray-300 mb-4"}," En las fechas estipuladas, ingresa al software y vota por el proyecto de tu preferencia. ",-1)),i(o(w),{href:x.value==!1?null:a.route("login-pp"),onClick:t[5]||(t[5]=z(s=>x.value==!1?null:a.$inertia.visit(a.route("login-pp")),["prevent"])),class:h(["mt-auto px-4 py-2 text-white font-semibold rounded shadow transition",{"bg-indigo-700 hover:bg-indigo-800":x.value,"bg-indigo-200/60 cursor-not-allowed":x.value==!1}])},{default:m(()=>t[19]||(t[19]=[l(" Ir a votación ")])),_:1},8,["href","class"])],2),e("div",wt,[t[22]||(t[22]=e("h2",{class:"text-2xl font-bold text-red-600 mb-4"}," 3. Descarga tu certificado ",-1)),t[23]||(t[23]=e("p",{class:"text-base md:text-lg text-gray-300 mb-4"}," Descarga tu certificado de participación en el software o accede a la sección específica para obtenerlo. ",-1)),i(o(w),{href:"#certificados_info",class:"mt-auto px-4 py-2 bg-green-600 text-white font-semibold rounded shadow hover:bg-green-700 transition flex items-center gap-2"},{default:m(()=>t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),l(" Descargar certificado ")])),_:1})])]),e("div",yt,[t[28]||(t[28]=e("div",{class:"flex justify-center items-center"},[e("video",{class:"rounded-lg w-full h-auto max-h-[400px] shadow-md",controls:"",poster:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80"},[e("source",{src:"https://www.w3schools.com/html/mov_bbb.mp4",type:"video/mp4"}),l(" Tu navegador no soporta el video. ")])],-1)),e("div",ht,[t[26]||(t[26]=e("h1",{class:"text-4xl md:text-5xl font-extrabold text-red-600 mb-6 leading-tight"},[l(" ¡Registro! "),e("br"),e("span",{class:"text-white"},"Presupuesto participativo")],-1)),t[27]||(t[27]=e("p",{class:"text-lg md:text-2xl text-gray-300 mb-4"},[l(" Participa y vota por los proyectos que más beneficien a tu comunidad de forma más segura y moderna. "),e("br"),e("i",null,"Tienes un plazo para inscribirte del 15 al 25 de octubre")],-1)),i(o(w),{href:a.route("register"),class:"mt-4 px-6 py-3 bg-red-600 text-white font-bold rounded-lg shadow hover:bg-red-700 transition"},{default:m(()=>t[25]||(t[25]=[l(" ¡Regístrate -- presupuesto participativo! ")])),_:1},8,["href"])])]),e("div",kt,[e("div",_t,[e("div",jt,[t[31]||(t[31]=e("span",{class:"text-2xl text-center font-bold text-white mb-6"}," Ingresar número de identificación para consultar los certificados registrados a su nombre ",-1)),e("div",Vt,[i(ot,{id:"identificacion",modelValue:o(g),"onUpdate:modelValue":t[6]||(t[6]=s=>Q(g)?g.value=s:g=s),placeholder:"Ingrese el número de identificación",class:"sm:w-1/2 flex inline-flex mb-2 text-white bg-gray-900/40",onKeydown:J(E,["enter"])},null,8,["modelValue"]),i(T,{class:"bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br font-medium text-white",onClick:E},{default:m(()=>t[29]||(t[29]=[l("Buscar")])),_:1}),i(T,{onClick:U,class:"hover:underline"},{default:m(()=>t[30]||(t[30]=[l(" Limpiar ")])),_:1})])])]),e("div",Ct,[e("div",St,[u.value.data&&u.value.data.length>0?(d(),c("div",Et,[e("table",Dt,[t[33]||(t[33]=e("thead",{class:"bg-gray-900/40 text-red-600 text-bold"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"#"),e("th",{class:"px-4 py-2 text-left"},"Nombre del Usuario"),e("th",{class:"px-4 py-2 text-left"},"Identificación"),e("th",{class:"px-4 py-2 text-left"},"Evento"),e("th",{class:"px-4 py-2 text-left"},"Descargar")])],-1)),e("tbody",null,[(d(!0),c(j,null,N(u.value.data,(s,b)=>(d(),c("tr",{key:b},[e("td",It,n(b+1),1),e("td",zt,n(s.votante.nombre||"Sin información"),1),e("td",Nt,n(s.votante.tipo_documento)+" - "+n(s.votante.identificacion),1),e("td",Tt,n(s.evento.nombre),1),e("td",$t,[i(V,{onClick:L=>D(s.evento.id,s.votante.id)},{default:m(()=>t[32]||(t[32]=[l(" Descargar certificado ")])),_:2},1032,["onClick"])])]))),128))])]),e("div",qt,[(d(!0),c(j,null,N(u.value.data,(s,b)=>(d(),c("div",{key:b,class:"rounded-lg p-4 shadow-md text-white"},[e("p",null,[t[34]||(t[34]=e("strong",{class:"text-red-600"},"#:",-1)),l(" "+n(b+1),1)]),e("p",null,[t[35]||(t[35]=e("strong",{class:"text-red-600"},"Nombre del Usuario:",-1)),l(" "+n(s.votante.nombre||"Sin información"),1)]),e("p",null,[t[36]||(t[36]=e("strong",{class:"text-red-600"},"Identificación:",-1)),l(" "+n(s.votante.tipo_documento)+" -- "+n(s.votante.identificacion),1)]),e("p",null,[t[37]||(t[37]=e("strong",{class:"text-red-600"},"Evento:",-1)),l(" "+n(s.evento.nombre),1)]),e("div",Rt,[i(V,{onClick:L=>D(s.evento.id,s.votante.id)},{default:m(()=>t[38]||(t[38]=[l(" Descargar certificado ")])),_:2},1032,["onClick"])])]))),128))])])):_.value?(d(),c("div",Ut,[i(o(st),{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"transparent",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})])):(d(),c("div",Bt,[o(g)&&S.value?(d(),c("em",Pt,"No hay votaciones registradas al usuario con numero de identificación --> "+n(o(g))+". ",1)):(d(),c("div",At,t[39]||(t[39]=[e("div",{class:"bg-azul rounded-md shadow-lg p-4"},[e("h3",{class:"text-white sm:text-2xl text-xl text-center"}," certificado votaciones ")],-1)])))])),u.value.data&&u.value.data.length>0?(d(),I(et,{key:3,links:u.value.links,class:"mt-4"},null,8,["links"])):X("",!0)])])])])])],64)}}};export{Ht as default};
