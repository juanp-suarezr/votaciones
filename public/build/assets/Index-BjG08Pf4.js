import{r as _,a as I,c as B,o as V,b as o,u as a,Z as D,d as r,e as s,i as g,j as l,t as n,f as L,l as C,F as U,N as E}from"./app-JxVJMlL_.js";import{_ as F}from"./AuthenticatedLayout-ylKPpKaH.js";import{_ as k}from"./TextInput-D6eVbuES.js";import{_ as O}from"./PrimaryButton-Bq24QfDb.js";import{_ as T}from"./SecondaryButton-BbbpUWif.js";import{_ as G}from"./Pagination-DKZiJAua.js";import{s as R,a as m}from"./index-DXF6dryx.js";import{s as Z}from"./index-Bgegoqxv.js";import{s as q}from"./index-B-FregGN.js";import{d as N}from"./es-DnGXyyfW.js";import{_ as z}from"./SecondaryLink-kakW6H5Y.js";import{c as j}from"./comunas-DceGOULS.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as J}from"./EyeIcon-cXLwhMJy.js";import"./BreadCrumb-CMSI9o7A.js";import"./SecondaryButtonReturn-DqqqhCqy.js";import"./XCircleIcon-CxUbMg2D.js";import"./index-Bcmy0zDQ.js";import"./index-tB46QpBK.js";import"./index-5cjETpZQ.js";import"./index-BgbGYgk-.js";import"./index-CpuZd1i6.js";import"./index-CoYxujh-.js";import"./index-n1FsOY-m.js";import"./index-BZ1sw3kT.js";import"./index-BMKGVPBx.js";import"./index-DUDO3IKz.js";const K={class:"p-4"},M={class:"bg-white shadow-md rounded-lg p-4 mb-4"},Q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},W={class:"mt-4 flex justify-end"},X={class:"bg-white shadow-md rounded-lg p-4"},Y={class:"flex justify-between items-center"},P={class:"flex gap-2"},ee={__name:"Index",props:{votantes:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(v){const b=v,S=[{url:"",text:"Gestión registros"}];console.log(b.votantes);let u=_(b.filters.identificacion||""),c=_(b.filters.nombre||""),f=_(b.filters.subtipo||"");const y=()=>{E.get("/gestion_registros",{identificacion:u.value,nombre:c.value,subtipo:f.value},{preserveState:!0,replace:!0})},$=()=>{u.value="",c.value="",f.value="",y()},h=d=>{if(!d)return{texto:"Desconocido",color:"secondary"};const t=N(),p=N(d),e=t.diff(p,"days");t.diff(p,"hours")%24;let i="secondary";return e>=1&&e<=3?i="success":e>=4&&e<=6?i="warn":e>=7&&(i="danger"),{texto:`${e} días`,color:i}},A=d=>{var t;return console.log(d),(t=j.find(p=>p.value==d))==null?void 0:t.label};return(d,t)=>{const p=I("tooltip");return V(),B(U,null,[o(a(D),{title:"gestión Usuarios registrados"}),o(F,{breadCrumbLinks:S},{header:r(()=>t[3]||(t[3]=[s("div",{class:"flex justify-between items-center"},[s("h1",{class:"text-2xl font-bold"},"Gestión de registros")],-1)])),default:r(()=>[s("div",K,[s("div",M,[s("div",Q,[o(k,{id:"identificacion",modelValue:a(u),"onUpdate:modelValue":t[0]||(t[0]=e=>g(u)?u.value=e:u=e),placeholder:"Identificación",class:"w-full"},null,8,["modelValue"]),o(k,{id:"nombre",modelValue:a(c),"onUpdate:modelValue":t[1]||(t[1]=e=>g(c)?c.value=e:c=e),placeholder:"Nombre",class:"w-full"},null,8,["modelValue"]),o(a(Z),{id:"comuna",modelValue:a(f),"onUpdate:modelValue":t[2]||(t[2]=e=>g(f)?f.value=e:f=e),options:a(j),filter:"",optionLabel:"label",placeholder:"Seleccione comuna/corregimiento",checkmark:"",highlightOnSelect:!1,class:"w-full"},null,8,["modelValue","options"])]),s("div",W,[o(O,{onClick:y},{default:r(()=>t[4]||(t[4]=[l("Buscar")])),_:1}),o(T,{onClick:$},{default:r(()=>t[5]||(t[5]=[l("Limpiar Filtros")])),_:1})])]),s("div",X,[o(a(R),{value:v.votantes.data,"responsive-layout":"scroll",class:"p-datatable-sm"},{header:r(()=>[s("div",Y,[t[6]||(t[6]=s("h2",{class:"text-lg font-bold"},"Lista de votantes para validar",-1)),o(G,{links:v.votantes.links},null,8,["links"])])]),default:r(()=>[o(a(m),{header:"ID"},{body:r(e=>[l(n(e.data.id||"N/A"),1)]),_:1}),o(a(m),{header:"Propietario"},{body:r(e=>{var i,x,w;return[s("p",null,[t[7]||(t[7]=s("b",null,"Nombre:",-1)),l(" "+n(((i=e.data.votante)==null?void 0:i.nombre)||"Sin información")+" ",1),t[8]||(t[8]=s("br",null,null,-1)),s("b",null,n((x=e.data.votante)==null?void 0:x.tipo_documento)+":",1),l(" "+n(((w=e.data.votante)==null?void 0:w.identificacion)||"N/A")+" ",1),t[9]||(t[9]=s("br",null,null,-1))])]}),_:1}),o(a(m),{header:"Sector"},{body:r(e=>{var i;return[l(n(A(e.data.subtipo)||"N/A")+" ",1),t[10]||(t[10]=s("br",null,null,-1)),l(" "+n(((i=e.data.votante)==null?void 0:i.barrio)||"N/A"),1)]}),_:1}),o(a(m),{header:"Evento"},{body:r(e=>[l(n(e.data.evento.nombre||"N/A"),1)]),_:1}),o(a(m),{header:"# de Intentos"},{body:r(e=>[l(n(e.data.intentos),1)]),_:1}),o(a(m),{header:"Tiempo de espera"},{body:r(e=>[o(a(q),{severity:h(e.data.created_at).color,value:h(e.data.created_at).texto},null,8,["severity","value"])]),_:1}),o(a(m),{header:"Acciones"},{body:r(e=>[s("div",P,[L((V(),C(z,{class:"border-gray-800 hover:!bg-gray-200",href:d.route("gestion_registros.show",{id:e.data.id})},{default:r(()=>[o(a(J),{class:"h-6 w-6 text-gray-800"})]),_:2},1032,["href"])),[[p,"Ver detalles",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value"])])])]),_:1})],64)}}},$e=H(ee,[["__scopeId","data-v-08c3a9c0"]]);export{$e as default};
